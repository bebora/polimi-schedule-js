// ==UserScript==
// @name     polimi-schedule-js
// @version  2.0.8
// @match    https://www4.ceda.polimi.it/manifesti/manifesti/controller/GestioneCarrelloPublic.do*
// @match    https://www13.ceda.polimi.it/oralez/oralez/controller/MainDesktop.do*
// @grant    none
// ==/UserScript==

(()=>{var Jc=Object.create;var Js=Object.defineProperty;var Xc=Object.getOwnPropertyDescriptor;var Qc=Object.getOwnPropertyNames;var tl=Object.getPrototypeOf,el=Object.prototype.hasOwnProperty;var Xs=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var rl=(n,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Qc(e))!el.call(n,c)&&c!==i&&Js(n,c,{get:()=>e[c],enumerable:!(s=Xc(e,c))||s.enumerable});return n};var Qs=(n,e,i)=>(i=n!=null?Jc(tl(n)):{},rl(e||!n||!n.__esModule?Js(i,"default",{value:n,enumerable:!0}):i,n));var au=Xs((Bn,su)=>{(function(n,e){typeof Bn=="object"&&typeof su<"u"?e(Bn):typeof define=="function"&&define.amd?define(["exports"],e):e(n["immutable-ics"]={})})(Bn,function(n){"use strict";var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(y,T){return T={exports:{}},y(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c=function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")},h=function(){function y(T,L){for(var E=0;E<L.length;E++){var U=L[E];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,L,E){return L&&y(T.prototype,L),E&&y(T,E),T}}(),f=function(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)},m=function(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y},_=function(){function y(T,L){var E=[],U=!0,rt=!1,J=void 0;try{for(var X=T[Symbol.iterator](),ct;!(U=(ct=X.next()).done)&&(E.push(ct.value),!(L&&E.length===L));U=!0);}catch(ht){rt=!0,J=ht}finally{try{!U&&X.return&&X.return()}finally{if(rt)throw J}}return E}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return y(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(y){if(Array.isArray(y)){for(var T=0,L=Array(y.length);T<y.length;T++)L[T]=y[T];return L}else return Array.from(y)},C=i(function(y){(function(T,L){y.exports=L()})(e,function(){"use strict";function T(t,r){r&&(t.prototype=Object.create(r.prototype)),t.prototype.constructor=t}function L(t){return J(t)?t:b(t)}function E(t){return X(t)?t:w(t)}function U(t){return ct(t)?t:S(t)}function rt(t){return J(t)&&!ht(t)?t:M(t)}function J(t){return!!(t&&t[Ns])}function X(t){return!!(t&&t[Fs])}function ct(t){return!!(t&&t[Ls])}function ht(t){return X(t)||ct(t)}function pt(t){return!!(t&&t[pr])}function Vt(t){return t.value=!1,t}function Tt(t){t&&(t.value=!0)}function Et(){}function st(t,r){r=r||0;for(var o=Xe(0,t.length-r),a=Array(o),u=0;u<o;u++)a[u]=t[u+r];return a}function Z(t){return t.size===void 0&&(t.size=t.__iterate(Ht)),t.size}function tt(t,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?Z(t)+r:r}function Ht(){return!0}function ce(t,r,o){return(t===0||o!==void 0&&t<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Wt(t,r){return zt(t,r,0)}function Yt(t,r){return zt(t,r,r)}function zt(t,r,o){return t===void 0?o:0>t?Xe(0,r+t):r===void 0?t:Math.min(r,t)}function K(t){this.next=t}function R(t,r,o,a){var u=t===0?r:t===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function vt(){return{value:void 0,done:!0}}function Qt(t){return!!Y(t)}function qt(t){return t&&typeof t.next=="function"}function te(t){var r=Y(t);return r&&r.call(t)}function Y(t){var r=t&&(Mi&&t[Mi]||t[zs]);if(typeof r=="function")return r}function G(t){return t&&typeof t.length=="number"}function b(t){return t==null?A():J(t)?t.toSeq():H(t)}function w(t){return t==null?A().toKeyedSeq():J(t)?X(t)?t.toSeq():t.fromEntrySeq():z(t)}function S(t){return t==null?A():J(t)?X(t)?t.entrySeq():t.toIndexedSeq():q(t)}function M(t){return(t==null?A():J(t)?X(t)?t.entrySeq():t:q(t)).toSetSeq()}function x(t){this._array=t,this.size=t.length}function F(t){var r=Object.keys(t);this._object=t,this._keys=r,this.size=r.length}function O(t){this._iterable=t,this.size=t.length||t.size}function p(t){this._iterator=t,this._iteratorCache=[]}function g(t){return!!(t&&t[Cs])}function A(){return Us||(Us=new x([]))}function z(t){var r=Array.isArray(t)?new x(t).fromEntrySeq():qt(t)?new p(t).fromEntrySeq():Qt(t)?new O(t).fromEntrySeq():(typeof t>"u"?"undefined":s(t))==="object"?new F(t):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return r}function q(t){var r=et(t);if(!r)throw new TypeError("Expected Array or iterable object of values: "+t);return r}function H(t){var r=et(t)||(typeof t>"u"?"undefined":s(t))==="object"&&new F(t);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return r}function et(t){return G(t)?new x(t):qt(t)?new p(t):Qt(t)?new O(t):void 0}function at(t,r,o,a){var u=t._cache;if(u){for(var l,d=u.length-1,v=0;v<=d;v++)if(l=u[o?d-v:v],r(l[1],a?l[0]:v,t)===!1)return v+1;return v}return t.__iterateUncached(r,o)}function bt(t,r,o,a){var u=t._cache;if(u){var l=u.length-1,d=0;return new K(function(){var v=u[o?l-d:d];return d++>l?vt():R(r,a?v[0]:d-1,v[1])})}return t.__iteratorUncached(r,o)}function Oe(t,r){return r?ii(r,t,"",{"":t}):oi(t)}function ii(t,r,o,a){return Array.isArray(r)?t.call(a,o,S(r).map(function(u,l){return ii(t,u,l,r)})):Ko(r)?t.call(a,o,w(r).map(function(u,l){return ii(t,u,l,r)})):r}function oi(t){return Array.isArray(t)?S(t).map(oi).toList():Ko(t)?w(t).map(oi).toMap():t}function Ko(t){return t&&(t.constructor===Object||t.constructor===void 0)}function Ut(t,r){if(t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1;if(typeof t.valueOf=="function"&&typeof r.valueOf=="function"){if(t=t.valueOf(),r=r.valueOf(),t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1}return typeof t.equals=="function"&&typeof r.equals=="function"&&t.equals(r)}function si(t,r){if(t===r)return!0;if(!J(r)||t.size!==void 0&&r.size!==void 0&&t.size!==r.size||t.__hash!==void 0&&r.__hash!==void 0&&t.__hash!==r.__hash||X(t)!==X(r)||ct(t)!==ct(r)||pt(t)!==pt(r))return!1;if(t.size===0&&r.size===0)return!0;var o=!ht(t);if(pt(t)){var a=t.entries();return r.every(function(I,D){var N=a.next().value;return N&&Ut(N[1],I)&&(o||Ut(N[0],D))})&&a.next().done}var u=!1;if(t.size===void 0)if(r.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{u=!0;var l=t;t=r,r=l}var d=!0,v=r.__iterate(function(I,D){if(o?!t.has(I):u?!Ut(I,t.get(D,lt)):!Ut(t.get(D,lt),I))return d=!1,!1});return d&&t.size===v}function Xt(t,r){if(!(this instanceof Xt))return new Xt(t,r);if(this._value=t,this.size=r===void 0?1/0:Xe(0,r),this.size===0){if(ki)return ki;ki=this}}function wn(t,r){if(!t)throw new Error(r)}function Gt(t,r,o){if(!(this instanceof Gt))return new Gt(t,r,o);if(wn(o!==0,"Cannot step a Range by 0"),t=t||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<t&&(o=-o),this._start=t,this._end=r,this._step=o,this.size=Xe(0,Math.ceil((r-t)/o-1)+1),this.size===0){if(bi)return bi;bi=this}}function We(){throw TypeError("Abstract")}function Lr(){}function sr(){}function Sn(){}function ai(t){return 1073741824&t>>>1|3221225471&t}function le(t){if(t===!1||t===null||t===void 0||typeof t.valueOf=="function"&&(t=t.valueOf(),t===!1||t===null||t===void 0))return 0;if(t===!0)return 1;var r=typeof t>"u"?"undefined":s(t);if(r==="number"){if(t!==t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);4294967295<t;)t/=4294967295,o^=t;return ai(o)}if(r==="string")return t.length>$c?Sc(t):ui(t);if(typeof t.hashCode=="function")return t.hashCode();if(r==="object")return Oc(t);if(typeof t.toString=="function")return ui(t.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Sc(t){var r=Ri[t];return r===void 0&&(r=ui(t),Li===Bc&&(Li=0,Ri={}),Li++,Ri[t]=r),r}function ui(t){for(var r=0,o=0;o<t.length;o++)r=0|31*r+t.charCodeAt(o);return ai(r)}function Oc(t){var r;if(Ni&&(r=Ai.get(t),r!==void 0)||(r=t[Qe],r!==void 0)||!Vs&&(r=t.propertyIsEnumerable&&t.propertyIsEnumerable[Qe],r!==void 0||(r=Ic(t),r!==void 0)))return r;if(r=++Fi,1073741824&Fi&&(Fi=0),Ni)Ai.set(t,r);else{if(js!==void 0&&js(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Vs)Object.defineProperty(t,Qe,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Qe]=r;else if(t.nodeType!==void 0)t[Qe]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function Ic(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function fe(t){wn(t!==1/0,"Cannot perform this action with an infinite size.")}function dt(t){return t==null?Ie():ci(t)&&!pt(t)?t:Ie().withMutations(function(r){var o=E(t);fe(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function ci(t){return!!(t&&t[qs])}function Rr(t,r){this.ownerID=t,this.entries=r}function ar(t,r,o){this.ownerID=t,this.bitmap=r,this.nodes=o}function zr(t,r,o){this.ownerID=t,this.count=r,this.nodes=o}function ur(t,r,o){this.ownerID=t,this.keyHash=r,this.entries=o}function Ue(t,r,o){this.ownerID=t,this.keyHash=r,this.entry=o}function li(t,r,o){this._type=r,this._reverse=o,this._stack=t._root&&Jo(t._root)}function fi(t,r){return R(t,r[0],r[1])}function Jo(t,r){return{node:t,index:0,__prev:r}}function hi(t,r,o,a){var u=Object.create(ut);return u.size=t,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ie(){return Ps||(Ps=hi(0))}function Xo(t,r,o){var a,u;if(t._root){var l=Vt(Zc),d=Vt(Rs);if(a=di(t._root,t.__ownerID,0,void 0,r,o,l,d),!d.value)return t;u=t.size+(l.value?o===lt?-1:1:0)}else{if(o===lt)return t;u=1,a=new Rr(t.__ownerID,[[r,o]])}return t.__ownerID?(t.size=u,t._root=a,t.__hash=void 0,t.__altered=!0,t):a?hi(u,a):Ie()}function di(t,r,o,a,u,l,d,v){return t?t.update(r,o,a,u,l,d,v):l===lt?t:(Tt(v),Tt(d),new Ue(r,a,[u,l]))}function Qo(t){return t.constructor===Ue||t.constructor===ur}function pi(t,r,o,a,u){if(t.keyHash===a)return new ur(r,a,[t.entry,u]);var l,d=(o===0?t.keyHash:t.keyHash>>>o)&ee,v=(o===0?a:a>>>o)&ee,I=d==v?[pi(t,r,o+xt,a,u)]:(l=new Ue(r,a,u),d<v?[t,l]:[l,t]);return new ar(r,1<<d|1<<v,I)}function Dc(t,r,o,a){t||(t=new Et);for(var u,l=new Ue(t,le(o),[o,a]),d=0;d<r.length;d++)u=r[d],l=l.update(t,0,void 0,u[0],u[1]);return l}function Mc(t,r,o,a){for(var u,l=0,d=0,v=Array(o),I=0,D=1,N=r.length;I<N;I++,D<<=1)u=r[I],u!==void 0&&I!==a&&(l|=D,v[d++]=u);return new ar(t,l,v)}function xc(t,r,o,a,u){for(var l=0,d=Array(ve),v=0;o!==0;v++,o>>>=1)d[v]=1&o?r[l++]:void 0;return d[a]=u,new zr(t,l+1,d)}function On(t,r,o){for(var a=[],u=0;u<o.length;u++){var l=o[u],d=E(l);J(l)||(d=d.map(function(v){return Oe(v)})),a.push(d)}return rs(t,r,a)}function ts(t,r){return t&&t.mergeDeep&&J(r)?t.mergeDeep(r):Ut(t,r)?t:r}function es(t){return function(r,o,a){if(r&&r.mergeDeepWith&&J(o))return r.mergeDeepWith(t,o);var u=t(r,o,a);return Ut(r,u)?r:u}}function rs(t,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?t:t.size!==0||t.__ownerID||o.length!==1?t.withMutations(function(a){for(var u=r?function(d,v){a.update(v,lt,function(I){return I===lt?d:r(I,d,v)})}:function(d,v){a.set(v,d)},l=0;l<o.length;l++)o[l].forEach(u)}):t.constructor(o[0])}function ns(t,r,o,a){var u=t===lt,l=r.next();if(l.done){var d=u?o:t,v=a(d);return v===d?t:v}wn(u||t&&t.set,"invalid keyPath");var I=l.value,D=u?lt:t.get(I,lt),N=ns(D,r,o,a);return N===D?t:N===lt?t.remove(I):(u?Ie():t).set(I,N)}function is(t){return t-=1431655765&t>>1,t=(858993459&t)+(858993459&t>>2),t=252645135&t+(t>>4),t+=t>>8,t+=t>>16,127&t}function os(t,r,o,a){var u=a?t:st(t);return u[r]=o,u}function kc(t,r,o,a){var u=t.length+1;if(a&&r+1===u)return t[r]=o,t;for(var l=Array(u),d=0,v=0;v<u;v++)v===r?(l[v]=o,d=-1):l[v]=t[v+d];return l}function bc(t,r,o){var a=t.length-1;if(o&&r===a)return t.pop(),t;for(var u=Array(a),l=0,d=0;d<a;d++)d===r&&(l=1),u[d]=t[d+l];return u}function Mt(t){var r=mi();if(t==null)return r;if(ss(t))return t;var o=U(t),a=o.size;return a===0?r:(fe(a),0<a&&a<ve?Cr(0,a,xt,null,new Ze(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(l,d){return u.set(d,l)})}))}function ss(t){return!!(t&&t[Hs])}function Ze(t,r){this.array=t,this.ownerID=r}function as(t,r){function o(D,N,V){return N===0?a(D,V):u(D,N,V)}function a(D,N){var V=N===v?I&&I.array:D&&D.array,W=N>l?0:l-N,Q=d-N;return Q>ve&&(Q=ve),function(){if(W==Q)return Hr;var ft=r?--Q:W++;return V&&V[ft]}}function u(D,N,V){var W,Q=D&&D.array,ft=V>l?0:l-V>>N,At=(d-V>>N)+1;return At>ve&&(At=ve),function(){do{if(W){var _e=W();if(_e!==Hr)return _e;W=null}if(ft==At)return Hr;var De=r?--At:ft++;W=o(Q&&Q[De],N-xt,V+(De<<N))}while(!0)}}var l=t._origin,d=t._capacity,v=Ur(d),I=t._tail;return o(t._root,t._level,0)}function Cr(t,r,o,a,u,l,d){var v=Object.create(re);return v.size=r-t,v._origin=t,v._capacity=r,v._level=o,v._root=a,v._tail=u,v.__ownerID=l,v.__hash=d,v.__altered=!1,v}function mi(){return Ws||(Ws=Cr(0,0,xt))}function Ac(t,r,o){if(r=tt(t,r),r!==r)return t;if(r>=t.size||0>r)return t.withMutations(function(d){0>r?$e(d,r).set(0,o):$e(d,0,r+1).set(r,o)});r+=t._origin;var a=t._tail,u=t._root,l=Vt(Rs);return r>=Ur(t._capacity)?a=yi(a,t.__ownerID,0,r,o,l):u=yi(u,t.__ownerID,t._level,r,o,l),l.value?t.__ownerID?(t._root=u,t._tail=a,t.__hash=void 0,t.__altered=!0,t):Cr(t._origin,t._capacity,t._level,u,a):t}function yi(t,r,o,a,u,l){var d=a>>>o&ee,v=t&&d<t.array.length;if(!v&&u===void 0)return t;var I;if(0<o){var D=t&&t.array[d],N=yi(D,r,o-xt,a,u,l);return N===D?t:(I=cr(t,r),I.array[d]=N,I)}return v&&t.array[d]===u?t:(Tt(l),I=cr(t,r),u===void 0&&d==I.array.length-1?I.array.pop():I.array[d]=u,I)}function cr(t,r){return r&&t&&r===t.ownerID?t:new Ze(t?t.array.slice():[],r)}function us(t,r){if(r>=Ur(t._capacity))return t._tail;if(r<1<<t._level+xt){for(var o=t._root,a=t._level;o&&0<a;)o=o.array[r>>>a&ee],a-=xt;return o}}function $e(t,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=t.__ownerID||new Et,u=t._origin,l=t._capacity,d=u+r,v=o===void 0?l:0>o?l+o:u+o;if(d===u&&v===l)return t;if(d>=v)return t.clear();for(var I=t._level,D=t._root,N=0;0>d+N;)D=new Ze(D&&D.array.length?[void 0,D]:[],a),I+=xt,N+=1<<I;N&&(d+=N,u+=N,v+=N,l+=N);for(var V=Ur(l),W=Ur(v);W>=1<<I+xt;)D=new Ze(D&&D.array.length?[D]:[],a),I+=xt;var Q=t._tail,ft=W<V?us(t,v-1):W>V?new Ze([],a):Q;if(Q&&W>V&&d<l&&Q.array.length){D=cr(D,a);for(var At,_e=D,De=I;De>xt;De-=xt)At=V>>>De&ee,_e=_e.array[At]=cr(_e.array[At],a);_e.array[V>>>xt&ee]=Q}if(v<l&&(ft=ft&&ft.removeAfter(a,0,v)),d>=W)d-=W,v-=W,I=xt,D=null,ft=ft&&ft.removeBefore(a,0,d);else if(d>u||W<V){for(N=0;D;){var Nn=d>>>I&ee;if(Nn!=W>>>I&ee)break;Nn&&(N+=(1<<I)*Nn),I-=xt,D=D.array[Nn]}D&&d>u&&(D=D.removeBefore(a,I,d-N)),D&&W<V&&(D=D.removeAfter(a,I,W-N)),N&&(d-=N,v-=N)}return t.__ownerID?(t.size=v-d,t._origin=d,t._capacity=v,t._level=I,t._root=D,t._tail=ft,t.__hash=void 0,t.__altered=!0,t):Cr(d,v,I,D,ft)}function In(t,r,o){for(var a=[],u=0,l=0;l<o.length;l++){var d=o[l],v=U(d);v.size>u&&(u=v.size),J(d)||(v=v.map(function(I){return Oe(I)})),a.push(v)}return u>t.size&&(t=t.setSize(u)),rs(t,r,a)}function Ur(t){return t<ve?0:t-1>>>xt<<xt}function Ct(t){return t==null?Dn():cs(t)?t:Dn().withMutations(function(r){var o=E(t);fe(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function cs(t){return ci(t)&&pt(t)}function vi(t,r,o,a){var u=Object.create(Ct.prototype);return u.size=t?t.size:0,u._map=t,u._list=r,u.__ownerID=o,u.__hash=a,u}function Dn(){return Zs||(Zs=vi(Ie(),mi()))}function ls(t,r,o){var a,u,l=t._map,d=t._list,v=l.get(r),I=v!==void 0;if(o===lt){if(!I)return t;d.size>=ve&&d.size>=2*l.size?(u=d.filter(function(D,N){return D!==void 0&&v!==N}),a=u.toKeyedSeq().map(function(D){return D[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=l.remove(r),u=v===d.size-1?d.pop():d.set(v,void 0))}else if(I){if(o===d.get(v)[1])return t;a=l,u=d.set(v,[r,o])}else a=l.set(r,d.size),u=d.set(d.size,[r,o]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t):vi(a,u)}function me(t,r){this._iter=t,this._useKeys=r,this.size=t.size}function lr(t){this._iter=t,this.size=t.size}function fr(t){this._iter=t,this.size=t.size}function hr(t){this._iter=t,this.size=t.size}function fs(t){var r=Ae(t);return r._iter=t,r.size=t.size,r.flip=function(){return t},r.reverse=function(){var o=t.reverse.apply(this);return o.flip=function(){return t.reverse()},o},r.has=function(o){return t.includes(o)},r.includes=function(o){return t.has(o)},r.cacheResult=Ei,r.__iterateUncached=function(o,a){var u=this;return t.__iterate(function(l,d){return o(d,l,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===Le){var u=t.__iterator(o,a);return new K(function(){var l=u.next();if(!l.done){var d=l.value[0];l.value[0]=l.value[1],l.value[1]=d}return l})}return t.__iterator(o===ge?qr:ge,a)},r}function hs(t,r,o){var a=Ae(t);return a.size=t.size,a.has=function(u){return t.has(u)},a.get=function(u,l){var d=t.get(u,lt);return d===lt?l:r.call(o,d,u,t)},a.__iterateUncached=function(u,l){var d=this;return t.__iterate(function(v,I,D){return u(r.call(o,v,I,D),I,d)!==!1},l)},a.__iteratorUncached=function(u,l){var d=t.__iterator(Le,l);return new K(function(){var v=d.next();if(v.done)return v;var I=v.value,D=I[0];return R(u,D,r.call(o,I[1],D,t),v)})},a}function gi(t,r){var o=Ae(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var a=fs(t);return a.reverse=function(){return t.flip()},a}),o.get=function(a,u){return t.get(r?a:-1-a,u)},o.has=function(a){return t.has(r?a:-1-a)},o.includes=function(a){return t.includes(a)},o.cacheResult=Ei,o.__iterate=function(a,u){var l=this;return t.__iterate(function(d,v){return a(d,v,l)},!u)},o.__iterator=function(a,u){return t.__iterator(a,!u)},o}function ds(t,r,o,a){var u=Ae(t);return a&&(u.has=function(l){var d=t.get(l,lt);return d!==lt&&!!r.call(o,d,l,t)},u.get=function(l,d){var v=t.get(l,lt);return v!==lt&&r.call(o,v,l,t)?v:d}),u.__iterateUncached=function(l,d){var v=this,I=0;return t.__iterate(function(D,N,V){if(r.call(o,D,N,V))return I++,l(D,a?N:I-1,v)},d),I},u.__iteratorUncached=function(l,d){var v=t.__iterator(Le,d),I=0;return new K(function(){for(;;){var D=v.next();if(D.done)return D;var N=D.value,V=N[0],W=N[1];if(r.call(o,W,V,t))return R(l,a?V:I++,W,D)}})},u}function Nc(t,r,o){var a=dt().asMutable();return t.__iterate(function(u,l){a.update(r.call(o,u,l,t),0,function(d){return d+1})}),a.asImmutable()}function Fc(t,r,o){var a=X(t),u=(pt(t)?Ct():dt()).asMutable();t.__iterate(function(d,v){u.update(r.call(o,d,v,t),function(I){return I=I||[],I.push(a?[v,d]:d),I})});var l=_s(t);return u.map(function(d){return Ot(t,l(d))})}function _i(t,r,o,a){var u=t.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),ce(r,o,u))return t;var l=Wt(r,u),d=Yt(o,u);if(l!==l||d!==d)return _i(t.toSeq().cacheResult(),r,o,a);var v,I=d-l;I==I&&(v=0>I?0:I);var D=Ae(t);return D.size=v===0?v:t.size&&v||void 0,!a&&g(t)&&0<=v&&(D.get=function(N,V){return N=tt(this,N),0<=N&&N<v?t.get(N+l,V):V}),D.__iterateUncached=function(N,V){var W=this;if(v===0)return 0;if(V)return this.cacheResult().__iterate(N,V);var Q=0,ft=!0,At=0;return t.__iterate(function(_e,De){if(!(ft&&(ft=Q++<l)))return At++,N(_e,a?De:At-1,W)!==!1&&At!==v}),At},D.__iteratorUncached=function(N,V){if(v!==0&&V)return this.cacheResult().__iterator(N,V);var W=v!==0&&t.__iterator(N,V),Q=0,ft=0;return new K(function(){for(;Q++<l;)W.next();if(++ft>v)return vt();var At=W.next();return a||N===ge?At:N===qr?R(N,ft-1,void 0,At):R(N,ft-1,At.value[1],At)})},D}function Lc(t,r,o){var a=Ae(t);return a.__iterateUncached=function(u,l){var d=this;if(l)return this.cacheResult().__iterate(u,l);var v=0;return t.__iterate(function(I,D,N){return r.call(o,I,D,N)&&++v&&u(I,D,d)}),v},a.__iteratorUncached=function(u,l){var d=this;if(l)return this.cacheResult().__iterator(u,l);var v=t.__iterator(Le,l),I=!0;return new K(function(){if(!I)return vt();var D=v.next();if(D.done)return D;var N=D.value,V=N[0],W=N[1];return r.call(o,W,V,d)?u===Le?D:R(u,V,W,D):(I=!1,vt())})},a}function ps(t,r,o,a){var u=Ae(t);return u.__iterateUncached=function(l,d){var v=this;if(d)return this.cacheResult().__iterate(l,d);var I=!0,D=0;return t.__iterate(function(N,V,W){if(!(I&&(I=r.call(o,N,V,W))))return D++,l(N,a?V:D-1,v)}),D},u.__iteratorUncached=function(l,d){var v=this;if(d)return this.cacheResult().__iterator(l,d);var I=t.__iterator(Le,d),D=!0,N=0;return new K(function(){var V,W,Q;do{if(V=I.next(),V.done)return a||l===ge?V:l===qr?R(l,N++,void 0,V):R(l,N++,V.value[1],V);var ft=V.value;W=ft[0],Q=ft[1],D&&(D=r.call(o,Q,W,v))}while(D);return l===Le?V:R(l,W,Q,V)})},u}function Rc(t,r){var o=X(t),a=[t].concat(r).map(function(d){return J(d)?o&&(d=E(d)):d=o?z(d):q(Array.isArray(d)?d:[d]),d}).filter(function(d){return d.size!==0});if(a.length===0)return t;if(a.length===1){var u=a[0];if(u===t||o&&X(u)||ct(t)&&ct(u))return u}var l=new x(a);return o?l=l.toKeyedSeq():!ct(t)&&(l=l.toSetSeq()),l=l.flatten(!0),l.size=a.reduce(function(d,v){if(d!==void 0){var I=v.size;if(I!==void 0)return d+I}},0),l}function ms(t,r,o){var a=Ae(t);return a.__iterateUncached=function(u,l){function d(D,N){var V=this;D.__iterate(function(W,Q){return(!r||N<r)&&J(W)?d(W,N+1):u(W,o?Q:v++,V)===!1&&(I=!0),!I},l)}var v=0,I=!1;return d(t,0),v},a.__iteratorUncached=function(u,l){var d=t.__iterator(u,l),v=[],I=0;return new K(function(){for(;d;){var D=d.next();if(D.done!==!1){d=v.pop();continue}var N=D.value;if(u===Le&&(N=N[1]),(!r||v.length<r)&&J(N))v.push(d),d=N.__iterator(u,l);else return o?D:R(u,I++,N,D)}return vt()})},a}function zc(t,r,o){var a=_s(t);return t.toSeq().map(function(u,l){return a(r.call(o,u,l,t))}).flatten(!0)}function Cc(t,r){var o=Ae(t);return o.size=t.size&&2*t.size-1,o.__iterateUncached=function(a,u){var l=this,d=0;return t.__iterate(function(v){return(!d||a(r,d++,l)!==!1)&&a(v,d++,l)!==!1},u),d},o.__iteratorUncached=function(a,u){var l,d=t.__iterator(ge,u),v=0;return new K(function(){return(!l||v%2)&&(l=d.next(),l.done)?l:v%2?R(a,v++,r):R(a,v++,l.value,l)})},o}function dr(t,r,o){r||(r=Ts);var a=X(t),u=0,l=t.toSeq().map(function(d,v){return[v,d,u++,o?o(d,v,t):d]}).toArray();return l.sort(function(d,v){return r(d[3],v[3])||d[2]-v[2]}).forEach(a?function(d,v){l[v].length=2}:function(d,v){l[v]=d[1]}),a?w(l):ct(t)?S(l):M(l)}function Mn(t,r,o){if(r||(r=Ts),o){var a=t.toSeq().map(function(u,l){return[u,o(u,l,t)]}).reduce(function(u,l){return ys(r,u[1],l[1])?l:u});return a&&a[0]}return t.reduce(function(u,l){return ys(r,u,l)?l:u})}function ys(t,r,o){var a=t(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function Ti(t,r,o){var a=Ae(t);return a.size=new x(o).map(function(u){return u.size}).min(),a.__iterate=function(u,l){for(var d,v=this.__iterator(ge,l),I=0;!(d=v.next()).done&&u(d.value,I++,this)!==!1;);return I},a.__iteratorUncached=function(u,l){var d=o.map(function(D){return D=L(D),te(l?D.reverse():D)}),v=0,I=!1;return new K(function(){var D;return I||(D=d.map(function(N){return N.next()}),I=D.some(function(N){return N.done})),I?vt():R(u,v++,r.apply(null,D.map(function(N){return N.value})))})},a}function Ot(t,r){return g(t)?r:t.constructor(r)}function vs(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function gs(t){return fe(t.size),Z(t)}function _s(t){return X(t)?E:ct(t)?U:rt}function Ae(t){return Object.create((X(t)?w:ct(t)?S:M).prototype)}function Ei(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):b.prototype.cacheResult.call(this)}function Ts(t,r){return t>r?1:t<r?-1:0}function Es(t){var r=te(t);if(!r){if(!G(t))throw new TypeError("Expected iterable or array-like: "+t);r=te(L(t))}return r}function he(t,r){var o,a=function(l){if(l instanceof a)return l;if(!(this instanceof a))return new a(l);if(!o){o=!0;var d=Object.keys(t);Uc(u,d),u.size=d.length,u._name=r,u._keys=d,u._defaultValues=t}this._map=dt(l)},u=a.prototype=Object.create(Kt);return u.constructor=a,a}function xn(t,r,o){var a=Object.create(Object.getPrototypeOf(t));return a._map=r,a.__ownerID=o,a}function ws(t){return t._name||t.constructor.name||"Record"}function Uc(t,r){try{r.forEach(jc.bind(void 0,t))}catch{}}function jc(t,r){Object.defineProperty(t,r,{get:function(){return this.get(r)},set:function(a){wn(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function kt(t){return t==null?Oi():wi(t)&&!pt(t)?t:Oi().withMutations(function(r){var o=rt(t);fe(o.size),o.forEach(function(a){return r.add(a)})})}function wi(t){return!!(t&&t[$s])}function Si(t,r){return t.__ownerID?(t.size=r.size,t._map=r,t):r===t._map?t:r.size===0?t.__empty():t.__make(r)}function Ss(t,r){var o=Object.create(de);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function Oi(){return Bs||(Bs=Ss(Ie()))}function Ne(t){return t==null?Ii():Os(t)?t:Ii().withMutations(function(r){var o=rt(t);fe(o.size),o.forEach(function(a){return r.add(a)})})}function Os(t){return wi(t)&&pt(t)}function Is(t,r){var o=Object.create(bn);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function Ii(){return Ys||(Ys=Is(Dn()))}function jt(t){return t==null?Di():Ds(t)?t:Di().unshiftAll(t)}function Ds(t){return!!(t&&t[Gs])}function jr(t,r,o,a){var u=Object.create(mr);return u.size=t,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Di(){return Ks||(Ks=jr(0))}function Fe(t,r){var o=function(a){t.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),t}function Vc(t,r){return r}function qc(t,r){return[r,t]}function kn(t){return function(){return!t.apply(this,arguments)}}function Ms(t){return function(){return-t.apply(this,arguments)}}function xs(t){return typeof t=="string"?JSON.stringify(t):t+""}function Pc(){return st(arguments)}function ks(t,r){return t<r?1:t>r?-1:0}function Hc(t){if(t.size===1/0)return 0;var r=pt(t),o=X(t),a=r?1:0,u=t.__iterate(o?r?function(l,d){a=0|31*a+bs(le(l),le(d))}:function(l,d){a=0|a+bs(le(l),le(d))}:r?function(l){a=0|31*a+le(l)}:function(l){a=0|a+le(l)});return Wc(u,a)}function Wc(t,r){return r=Pr(r,3432918353),r=Pr(r<<15|r>>>-15,461845907),r=Pr(r<<13|r>>>-13,5),r=(0|r+3864292196)^t,r=Pr(r^r>>>16,2246822507),r=Pr(r^r>>>13,3266489909),r=ai(r^r>>>16),r}function bs(t,r){return 0|t^r+2654435769+(t<<6)+(t>>2)}var As=Math.imul,Xe=Math.max,ye=Array.prototype.slice;T(E,L),T(U,L),T(rt,L),L.isIterable=J,L.isKeyed=X,L.isIndexed=ct,L.isAssociative=ht,L.isOrdered=pt,L.Keyed=E,L.Indexed=U,L.Set=rt;var Ns="@@__IMMUTABLE_ITERABLE__@@",Fs="@@__IMMUTABLE_KEYED__@@",Ls="@@__IMMUTABLE_INDEXED__@@",pr="@@__IMMUTABLE_ORDERED__@@",Vr="delete",xt=5,ve=1<<xt,ee=ve-1,lt={},Zc={value:!1},Rs={value:!1},qr=0,ge=1,Le=2,Mi=typeof Symbol=="function"&&Symbol.iterator,zs="@@iterator",xi=Mi||zs;K.prototype.toString=function(){return"[Iterator]"},K.KEYS=qr,K.VALUES=ge,K.ENTRIES=Le,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[xi]=function(){return this},T(b,L),b.of=function(){return b(arguments)},b.prototype.toSeq=function(){return this},b.prototype.toString=function(){return this.__toString("Seq {","}")},b.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},b.prototype.__iterate=function(t,r){return at(this,t,r,!0)},b.prototype.__iterator=function(t,r){return bt(this,t,r,!0)},T(w,b),w.prototype.toKeyedSeq=function(){return this},T(S,b),S.of=function(){return S(arguments)},S.prototype.toIndexedSeq=function(){return this},S.prototype.toString=function(){return this.__toString("Seq [","]")},S.prototype.__iterate=function(t,r){return at(this,t,r,!1)},S.prototype.__iterator=function(t,r){return bt(this,t,r,!1)},T(M,b),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},b.isSeq=g,b.Keyed=w,b.Set=M,b.Indexed=S;var Cs="@@__IMMUTABLE_SEQ__@@";b.prototype[Cs]=!0,T(x,S),x.prototype.get=function(t,r){return this.has(t)?this._array[tt(this,t)]:r},x.prototype.__iterate=function(t,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(t(o[r?a-u:u],u,this)===!1)return u+1;return u},x.prototype.__iterator=function(t,r){var o=this._array,a=o.length-1,u=0;return new K(function(){return u>a?vt():R(t,u,o[r?a-u++:u++])})},T(F,w),F.prototype.get=function(t,r){return r===void 0||this.has(t)?this._object[t]:r},F.prototype.has=function(t){return this._object.hasOwnProperty(t)},F.prototype.__iterate=function(t,r){for(var o,a=this._object,u=this._keys,l=u.length-1,d=0;d<=l;d++)if(o=u[r?l-d:d],t(a[o],o,this)===!1)return d+1;return d},F.prototype.__iterator=function(t,r){var o=this._object,a=this._keys,u=a.length-1,l=0;return new K(function(){var d=a[r?u-l:l];return l++>u?vt():R(t,d,o[d])})},F.prototype[pr]=!0,T(O,S),O.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);var o=this._iterable,a=te(o),u=0;if(qt(a))for(var l;!(l=a.next()).done&&t(l.value,u++,this)!==!1;);return u},O.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterable,a=te(o);if(!qt(a))return new K(vt);var u=0;return new K(function(){var l=a.next();return l.done?l:R(t,u++,l.value)})},T(p,S),p.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(t(a[u],u++,this)===!1)return u;for(var l,d;!(l=o.next()).done&&(d=l.value,a[u]=d,t(d,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterator,a=this._iteratorCache,u=0;return new K(function(){if(u>=a.length){var l=o.next();if(l.done)return l;a[u]=l.value}return R(t,u,a[u++])})};var Us;T(Xt,S),Xt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Xt.prototype.get=function(t,r){return this.has(t)?this._value:r},Xt.prototype.includes=function(t){return Ut(this._value,t)},Xt.prototype.slice=function(t,r){var o=this.size;return ce(t,r,o)?this:new Xt(this._value,Yt(r,o)-Wt(t,o))},Xt.prototype.reverse=function(){return this},Xt.prototype.indexOf=function(t){return Ut(this._value,t)?0:-1},Xt.prototype.lastIndexOf=function(t){return Ut(this._value,t)?this.size:-1},Xt.prototype.__iterate=function(t){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},Xt.prototype.__iterator=function(t){var r=this,o=0;return new K(function(){return o<r.size?R(t,o++,r._value):vt()})},Xt.prototype.equals=function(t){return t instanceof Xt?Ut(this._value,t._value):si(t)};var ki;T(Gt,S),Gt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Gt.prototype.get=function(t,r){return this.has(t)?this._start+tt(this,t)*this._step:r},Gt.prototype.includes=function(t){var r=(t-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Gt.prototype.slice=function(t,r){return ce(t,r,this.size)?this:(t=Wt(t,this.size),r=Yt(r,this.size),r<=t?new Gt(0,0):new Gt(this.get(t,this._end),this.get(r,this._end),this._step))},Gt.prototype.indexOf=function(t){var r=t-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Gt.prototype.lastIndexOf=function(t){return this.indexOf(t)},Gt.prototype.__iterate=function(t,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,l=0;l<=o;l++){if(t(u,l,this)===!1)return l+1;u+=r?-a:a}return l},Gt.prototype.__iterator=function(t,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,l=0;return new K(function(){var d=u;return u+=r?-a:a,l>o?vt():R(t,l++,d)})},Gt.prototype.equals=function(t){return t instanceof Gt?this._start===t._start&&this._end===t._end&&this._step===t._step:si(this,t)};var bi;T(We,L),T(Lr,We),T(sr,We),T(Sn,We),We.Keyed=Lr,We.Indexed=sr,We.Set=Sn;var Ai,Pr=typeof As=="function"?As:function(t,r){t|=0,r|=0;var o=65535&t,a=65535&r;return 0|o*a+((t>>>16)*a+o*(r>>>16)<<16>>>0)},js=Object.isExtensible,Vs=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),Ni=typeof WeakMap=="function";Ni&&(Ai=new WeakMap);var Fi=0,Qe="__immutablehash__";typeof Symbol=="function"&&(Qe=Symbol(Qe));var $c=16,Bc=255,Li=0,Ri={};T(dt,Lr),dt.of=function(){var t=ye.call(arguments,0);return Ie().withMutations(function(r){for(var o=0;o<t.length;o+=2){if(o+1>=t.length)throw new Error("Missing value for key: "+t[o]);r.set(t[o],t[o+1])}})},dt.prototype.toString=function(){return this.__toString("Map {","}")},dt.prototype.get=function(t,r){return this._root?this._root.get(0,void 0,t,r):r},dt.prototype.set=function(t,r){return Xo(this,t,r)},dt.prototype.setIn=function(t,r){return this.updateIn(t,lt,function(){return r})},dt.prototype.remove=function(t){return Xo(this,t,lt)},dt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return lt})},dt.prototype.update=function(t,r,o){return arguments.length===1?t(this):this.updateIn([t],r,o)},dt.prototype.updateIn=function(t,r,o){o||(o=r,r=void 0);var a=ns(this,Es(t),r,o);return a===lt?void 0:a},dt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ie()},dt.prototype.merge=function(){return On(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return On(this,t,r)},dt.prototype.mergeIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},dt.prototype.mergeDeep=function(){return On(this,ts,arguments)},dt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return On(this,es(t),r)},dt.prototype.mergeDeepIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},dt.prototype.sort=function(t){return Ct(dr(this,t))},dt.prototype.sortBy=function(t,r){return Ct(dr(this,r,t))},dt.prototype.withMutations=function(t){var r=this.asMutable();return t(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Et)},dt.prototype.asImmutable=function(){return this.__ensureOwner()},dt.prototype.wasAltered=function(){return this.__altered},dt.prototype.__iterator=function(t,r){return new li(this,t,r)},dt.prototype.__iterate=function(t,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,t(u[1],u[0],o)},r),a},dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?hi(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},dt.isMap=ci;var qs="@@__IMMUTABLE_MAP__@@",ut=dt.prototype;ut[qs]=!0,ut[Vr]=ut.remove,ut.removeIn=ut.deleteIn,Rr.prototype.get=function(t,r,o,a){for(var u=this.entries,l=0,d=u.length;l<d;l++)if(Ut(o,u[l][0]))return u[l][1];return a},Rr.prototype.update=function(t,r,o,a,u,l,d){for(var v=u===lt,I=this.entries,D=0,N=I.length;D<N&&!Ut(a,I[D][0]);D++);var V=D<N;if(V?I[D][1]===u:v)return this;if(Tt(d),(v||!V)&&Tt(l),!(v&&I.length===1)){if(!V&&!v&&I.length>=Yc)return Dc(t,I,a,u);var W=t&&t===this.ownerID,Q=W?I:st(I);return V?v?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new Rr(t,Q)}},ar.prototype.get=function(t,r,o,a){r===void 0&&(r=le(o));var u=1<<((t===0?r:r>>>t)&ee),l=this.bitmap;return l&u?this.nodes[is(l&u-1)].get(t+xt,r,o,a):a},ar.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=le(a));var v=(r===0?o:o>>>r)&ee,I=1<<v,D=this.bitmap,N=(D&I)!=0;if(!N&&u===lt)return this;var V=is(D&I-1),W=this.nodes,Q=N?W[V]:void 0,ft=di(Q,t,r+xt,o,a,u,l,d);if(ft===Q)return this;if(!N&&ft&&W.length>=Gc)return xc(t,W,D,v,ft);if(N&&!ft&&W.length===2&&Qo(W[1^V]))return W[1^V];if(N&&ft&&W.length===1&&Qo(ft))return ft;var At=t&&t===this.ownerID,_e=N?ft?D:D^I:D|I,De=N?ft?os(W,V,ft,At):bc(W,V,At):kc(W,V,ft,At);return At?(this.bitmap=_e,this.nodes=De,this):new ar(t,_e,De)},zr.prototype.get=function(t,r,o,a){r===void 0&&(r=le(o));var u=(t===0?r:r>>>t)&ee,l=this.nodes[u];return l?l.get(t+xt,r,o,a):a},zr.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=le(a));var v=(r===0?o:o>>>r)&ee,I=this.nodes,D=I[v];if(u===lt&&!D)return this;var N=di(D,t,r+xt,o,a,u,l,d);if(N===D)return this;var V=this.count;if(!D)V++;else if(!N&&(V--,V<Kc))return Mc(t,I,V,v);var W=t&&t===this.ownerID,Q=os(I,v,N,W);return W?(this.count=V,this.nodes=Q,this):new zr(t,V,Q)},ur.prototype.get=function(t,r,o,a){for(var u=this.entries,l=0,d=u.length;l<d;l++)if(Ut(o,u[l][0]))return u[l][1];return a},ur.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=le(a));var v=u===lt;if(o!==this.keyHash)return v?this:(Tt(d),Tt(l),pi(this,t,r,o,[a,u]));for(var I=this.entries,D=0,N=I.length;D<N&&!Ut(a,I[D][0]);D++);var V=D<N;if(V?I[D][1]===u:v)return this;if(Tt(d),(v||!V)&&Tt(l),v&&N===2)return new Ue(t,this.keyHash,I[1^D]);var W=t&&t===this.ownerID,Q=W?I:st(I);return V?v?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new ur(t,this.keyHash,Q)},Ue.prototype.get=function(t,r,o,a){return Ut(o,this.entry[0])?this.entry[1]:a},Ue.prototype.update=function(t,r,o,a,u,l,d){var v=u===lt,I=Ut(a,this.entry[0]);return(I?u===this.entry[1]:v)?this:(Tt(d),v?void Tt(l):I?t&&t===this.ownerID?(this.entry[1]=u,this):new Ue(t,this.keyHash,[a,u]):(Tt(l),pi(this,t,r,le(a),[a,u])))},Rr.prototype.iterate=ur.prototype.iterate=function(t,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(t(o[r?u-a:a])===!1)return!1},ar.prototype.iterate=zr.prototype.iterate=function(t,r){for(var o,a=this.nodes,u=0,l=a.length-1;u<=l;u++)if(o=a[r?l-u:u],o&&o.iterate(t,r)===!1)return!1},Ue.prototype.iterate=function(t){return t(this.entry)},T(li,K),li.prototype.next=function(){for(var t=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return fi(t,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return fi(t,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var l=a.nodes[this._reverse?o-u:u];if(l){if(l.entry)return fi(t,l.entry);r=this._stack=Jo(l,r)}continue}r=this._stack=this._stack.__prev}return vt()};var Ps,Yc=ve/4,Gc=ve/2,Kc=ve/4;T(Mt,sr),Mt.of=function(){return this(arguments)},Mt.prototype.toString=function(){return this.__toString("List [","]")},Mt.prototype.get=function(t,r){if(t=tt(this,t),0<=t&&t<this.size){t+=this._origin;var o=us(this,t);return o&&o.array[t&ee]}return r},Mt.prototype.set=function(t,r){return Ac(this,t,r)},Mt.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Mt.prototype.insert=function(t,r){return this.splice(t,0,r)},Mt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=xt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):mi()},Mt.prototype.push=function(){var t=arguments,r=this.size;return this.withMutations(function(o){$e(o,0,r+t.length);for(var a=0;a<t.length;a++)o.set(r+a,t[a])})},Mt.prototype.pop=function(){return $e(this,0,-1)},Mt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(r){$e(r,-t.length);for(var o=0;o<t.length;o++)r.set(o,t[o])})},Mt.prototype.shift=function(){return $e(this,1)},Mt.prototype.merge=function(){return In(this,void 0,arguments)},Mt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return In(this,t,r)},Mt.prototype.mergeDeep=function(){return In(this,ts,arguments)},Mt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return In(this,es(t),r)},Mt.prototype.setSize=function(t){return $e(this,0,t)},Mt.prototype.slice=function(t,r){var o=this.size;return ce(t,r,o)?this:$e(this,Wt(t,o),Yt(r,o))},Mt.prototype.__iterator=function(t,r){var o=0,a=as(this,r);return new K(function(){var u=a();return u===Hr?vt():R(t,o++,u)})},Mt.prototype.__iterate=function(t,r){for(var o,a=0,u=as(this,r);(o=u())!==Hr&&t(o,a++,this)!==!1;);return a},Mt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Cr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Mt.isList=ss;var Hs="@@__IMMUTABLE_LIST__@@",re=Mt.prototype;re[Hs]=!0,re[Vr]=re.remove,re.setIn=ut.setIn,re.deleteIn=re.removeIn=ut.removeIn,re.update=ut.update,re.updateIn=ut.updateIn,re.mergeIn=ut.mergeIn,re.mergeDeepIn=ut.mergeDeepIn,re.withMutations=ut.withMutations,re.asMutable=ut.asMutable,re.asImmutable=ut.asImmutable,re.wasAltered=ut.wasAltered,Ze.prototype.removeBefore=function(t,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&ee;if(a>=this.array.length)return new Ze([],t);var u,l=a==0;if(0<r){var d=this.array[a];if(u=d&&d.removeBefore(t,r-xt,o),u===d&&l)return this}if(l&&!u)return this;var v=cr(this,t);if(!l)for(var I=0;I<a;I++)v.array[I]=void 0;return u&&(v.array[a]=u),v},Ze.prototype.removeAfter=function(t,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&ee;if(a>=this.array.length)return this;var u;if(0<r){var l=this.array[a];if(u=l&&l.removeAfter(t,r-xt,o),u===l&&a==this.array.length-1)return this}var d=cr(this,t);return d.array.splice(a+1),u&&(d.array[a]=u),d};var Ws,Hr={};T(Ct,dt),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ct.prototype.get=function(t,r){var o=this._map.get(t);return o===void 0?r:this._list.get(o)[1]},Ct.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Dn()},Ct.prototype.set=function(t,r){return ls(this,t,r)},Ct.prototype.remove=function(t){return ls(this,t,lt)},Ct.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ct.prototype.__iterate=function(t,r){var o=this;return this._list.__iterate(function(a){return a&&t(a[1],a[0],o)},r)},Ct.prototype.__iterator=function(t,r){return this._list.fromEntrySeq().__iterator(t,r)},Ct.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t),o=this._list.__ensureOwner(t);return t?vi(r,o,t,this.__hash):(this.__ownerID=t,this._map=r,this._list=o,this)},Ct.isOrderedMap=cs,Ct.prototype[pr]=!0,Ct.prototype[Vr]=Ct.prototype.remove;var Zs;T(me,w),me.prototype.get=function(t,r){return this._iter.get(t,r)},me.prototype.has=function(t){return this._iter.has(t)},me.prototype.valueSeq=function(){return this._iter.valueSeq()},me.prototype.reverse=function(){var t=this,r=gi(this,!0);return this._useKeys||(r.valueSeq=function(){return t._iter.toSeq().reverse()}),r},me.prototype.map=function(t,r){var o=this,a=hs(this,t,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(t,r)}),a},me.prototype.__iterate=function(t,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,l){return t(u,l,a)}:(o=r?gs(this):0,function(u){return t(u,r?--o:o++,a)}),r)},me.prototype.__iterator=function(t,r){if(this._useKeys)return this._iter.__iterator(t,r);var o=this._iter.__iterator(ge,r),a=r?gs(this):0;return new K(function(){var u=o.next();return u.done?u:R(t,r?--a:a++,u.value,u)})},me.prototype[pr]=!0,T(lr,S),lr.prototype.includes=function(t){return this._iter.includes(t)},lr.prototype.__iterate=function(t,r){var o=this,a=0;return this._iter.__iterate(function(u){return t(u,a++,o)},r)},lr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r),a=0;return new K(function(){var u=o.next();return u.done?u:R(t,a++,u.value,u)})},T(fr,M),fr.prototype.has=function(t){return this._iter.includes(t)},fr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){return t(a,a,o)},r)},fr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new K(function(){var a=o.next();return a.done?a:R(t,a.value,a.value,a)})},T(hr,w),hr.prototype.entrySeq=function(){return this._iter.toSeq()},hr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){if(a){vs(a);var u=J(a);return t(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},hr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new K(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){vs(u);var l=J(u);return R(t,l?u.get(0):u[0],l?u.get(1):u[1],a)}}})},lr.prototype.cacheResult=me.prototype.cacheResult=fr.prototype.cacheResult=hr.prototype.cacheResult=Ei,T(he,Lr),he.prototype.toString=function(){return this.__toString(ws(this)+" {","}")},he.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},he.prototype.get=function(t,r){if(!this.has(t))return r;var o=this._defaultValues[t];return this._map?this._map.get(t,o):o},he.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=xn(this,Ie()))},he.prototype.set=function(t,r){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ws(this));if(this._map&&!this._map.has(t)){var o=this._defaultValues[t];if(r===o)return this}var a=this._map&&this._map.set(t,r);return this.__ownerID||a===this._map?this:xn(this,a)},he.prototype.remove=function(t){if(!this.has(t))return this;var r=this._map&&this._map.remove(t);return this.__ownerID||r===this._map?this:xn(this,r)},he.prototype.wasAltered=function(){return this._map.wasAltered()},he.prototype.__iterator=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(t,r)},he.prototype.__iterate=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(t,r)},he.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(t);return t?xn(this,r,t):(this.__ownerID=t,this._map=r,this)};var Kt=he.prototype;Kt[Vr]=Kt.remove,Kt.deleteIn=Kt.removeIn=ut.removeIn,Kt.merge=ut.merge,Kt.mergeWith=ut.mergeWith,Kt.mergeIn=ut.mergeIn,Kt.mergeDeep=ut.mergeDeep,Kt.mergeDeepWith=ut.mergeDeepWith,Kt.mergeDeepIn=ut.mergeDeepIn,Kt.setIn=ut.setIn,Kt.update=ut.update,Kt.updateIn=ut.updateIn,Kt.withMutations=ut.withMutations,Kt.asMutable=ut.asMutable,Kt.asImmutable=ut.asImmutable,T(kt,Sn),kt.of=function(){return this(arguments)},kt.fromKeys=function(t){return this(E(t).keySeq())},kt.prototype.toString=function(){return this.__toString("Set {","}")},kt.prototype.has=function(t){return this._map.has(t)},kt.prototype.add=function(t){return Si(this,this._map.set(t,!0))},kt.prototype.remove=function(t){return Si(this,this._map.remove(t))},kt.prototype.clear=function(){return Si(this,this._map.clear())},kt.prototype.union=function(){var t=ye.call(arguments,0);return t=t.filter(function(r){return r.size!==0}),t.length===0?this:this.size!==0||this.__ownerID||t.length!==1?this.withMutations(function(r){for(var o=0;o<t.length;o++)rt(t[o]).forEach(function(a){return r.add(a)})}):this.constructor(t[0])},kt.prototype.intersect=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.every(function(u){return u.includes(a)})||o.remove(a)})})},kt.prototype.subtract=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.some(function(u){return u.includes(a)})&&o.remove(a)})})},kt.prototype.merge=function(){return this.union.apply(this,arguments)},kt.prototype.mergeWith=function(){var t=ye.call(arguments,1);return this.union.apply(this,t)},kt.prototype.sort=function(t){return Ne(dr(this,t))},kt.prototype.sortBy=function(t,r){return Ne(dr(this,r,t))},kt.prototype.wasAltered=function(){return this._map.wasAltered()},kt.prototype.__iterate=function(t,r){var o=this;return this._map.__iterate(function(a,u){return t(u,u,o)},r)},kt.prototype.__iterator=function(t,r){return this._map.map(function(o,a){return a}).__iterator(t,r)},kt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t);return t?this.__make(r,t):(this.__ownerID=t,this._map=r,this)},kt.isSet=wi;var $s="@@__IMMUTABLE_SET__@@",de=kt.prototype;de[$s]=!0,de[Vr]=de.remove,de.mergeDeep=de.merge,de.mergeDeepWith=de.mergeWith,de.withMutations=ut.withMutations,de.asMutable=ut.asMutable,de.asImmutable=ut.asImmutable,de.__empty=Oi,de.__make=Ss;var Bs;T(Ne,kt),Ne.of=function(){return this(arguments)},Ne.fromKeys=function(t){return this(E(t).keySeq())},Ne.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ne.isOrderedSet=Os;var bn=Ne.prototype;bn[pr]=!0,bn.__empty=Ii,bn.__make=Is;var Ys;T(jt,sr),jt.of=function(){return this(arguments)},jt.prototype.toString=function(){return this.__toString("Stack [","]")},jt.prototype.get=function(t,r){var o=this._head;for(t=tt(this,t);o&&t--;)o=o.next;return o?o.value:r},jt.prototype.peek=function(){return this._head&&this._head.value},jt.prototype.push=function(){if(arguments.length===0)return this;for(var t=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):jr(t,r)},jt.prototype.pushAll=function(t){if(t=U(t),t.size===0)return this;fe(t.size);var r=this.size,o=this._head;return t.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):jr(r,o)},jt.prototype.pop=function(){return this.slice(1)},jt.prototype.unshift=function(){return this.push.apply(this,arguments)},jt.prototype.unshiftAll=function(t){return this.pushAll(t)},jt.prototype.shift=function(){return this.pop.apply(this,arguments)},jt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Di()},jt.prototype.slice=function(t,r){if(ce(t,r,this.size))return this;var o=Wt(t,this.size),a=Yt(r,this.size);if(a!==this.size)return sr.prototype.slice.call(this,t,r);for(var u=this.size-o,l=this._head;o--;)l=l.next;return this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):jr(u,l)},jt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?jr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},jt.prototype.__iterate=function(t,r){if(r)return this.reverse().__iterate(t);for(var o=0,a=this._head;a&&t(a.value,o++,this)!==!1;)a=a.next;return o},jt.prototype.__iterator=function(t,r){if(r)return this.reverse().__iterator(t);var o=0,a=this._head;return new K(function(){if(a){var u=a.value;return a=a.next,R(t,o++,u)}return vt()})},jt.isStack=Ds;var Gs="@@__IMMUTABLE_STACK__@@",mr=jt.prototype;mr[Gs]=!0,mr.withMutations=ut.withMutations,mr.asMutable=ut.asMutable,mr.asImmutable=ut.asImmutable,mr.wasAltered=ut.wasAltered;var Ks;L.Iterator=K,Fe(L,{toArray:function(){fe(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new lr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new me(this,!0)},toMap:function(){return dt(this.toKeyedSeq())},toObject:function(){fe(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return Ct(this.toKeyedSeq())},toOrderedSet:function(){return Ne(X(this)?this.valueSeq():this)},toSet:function(){return kt(X(this)?this.valueSeq():this)},toSetSeq:function(){return new fr(this)},toSeq:function(){return ct(this)?this.toIndexedSeq():X(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return jt(X(this)?this.valueSeq():this)},toList:function(){return Mt(X(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=ye.call(arguments,0);return Ot(this,Rc(this,r))},includes:function(r){return this.some(function(o){return Ut(o,r)})},entries:function(){return this.__iterator(Le)},every:function(r,o){fe(this.size);var a=!0;return this.__iterate(function(u,l,d){if(!r.call(o,u,l,d))return a=!1,!1}),a},filter:function(r,o){return Ot(this,ds(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return fe(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){fe(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator(qr)},map:function(r,o){return Ot(this,hs(this,r,o))},reduce:function(r,o,a){fe(this.size);var u,l;return 2>arguments.length?l=!0:u=o,this.__iterate(function(d,v,I){l?(l=!1,u=d):u=r.call(a,u,d,v,I)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ot(this,gi(this,!0))},slice:function(r,o){return Ot(this,_i(this,r,o,!0))},some:function(r,o){return!this.every(kn(r),o)},sort:function(r){return Ot(this,dr(this,r))},values:function(){return this.__iterator(ge)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return Z(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return Nc(this,r,o)},equals:function(r){return si(this,r)},entrySeq:function(){var r=this;if(r._cache)return new x(r._cache);var o=r.toSeq().map(qc).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(kn(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(l,d,v){if(r.call(o,l,d,v))return u=[d,l],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Ht)},flatMap:function(r,o){return Ot(this,zc(this,r,o))},flatten:function(r){return Ot(this,ms(this,r,!0))},fromEntrySeq:function(){return new hr(this)},get:function(r,o){return this.find(function(a,u){return Ut(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,l=this,d=Es(r);!(a=d.next()).done;)if(u=a.value,l=l&&l.get?l.get(u,lt):lt,l===lt)return o;return l},groupBy:function(r,o){return Fc(this,r,o)},has:function(r){return this.get(r,lt)!==lt},hasIn:function(r){return this.getIn(r,lt)!==lt},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return Ut(o,r)})},keySeq:function(){return this.toSeq().map(Vc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return Mn(this,r)},maxBy:function(r,o){return Mn(this,o,r)},min:function(r){return Mn(this,r?Ms(r):ks)},minBy:function(r,o){return Mn(this,o?Ms(o):ks,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(Xe(0,r))},skipLast:function(r){return Ot(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return Ot(this,ps(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(kn(r),o)},sortBy:function(r,o){return Ot(this,dr(this,o,r))},take:function(r){return this.slice(0,Xe(0,r))},takeLast:function(r){return Ot(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return Ot(this,Lc(this,r,o))},takeUntil:function(r,o){return this.takeWhile(kn(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Hc(this))}});var ne=L.prototype;ne[Ns]=!0,ne[xi]=ne.values,ne.__toJS=ne.toArray,ne.__toStringMapper=xs,ne.inspect=ne.toSource=function(){return this.toString()},ne.chain=ne.flatMap,ne.contains=ne.includes,Fe(E,{flip:function(){return Ot(this,fs(this))},mapEntries:function(r,o){var a=this,u=0;return Ot(this,this.toSeq().map(function(l,d){return r.call(o,[d,l],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return Ot(this,this.toSeq().flip().map(function(u,l){return r.call(o,u,l,a)}).flip())}});var An=E.prototype;return An[Fs]=!0,An[xi]=ne.entries,An.__toJS=ne.toObject,An.__toStringMapper=function(t,r){return JSON.stringify(r)+": "+xs(t)},Fe(U,{toKeyedSeq:function(){return new me(this,!1)},filter:function(r,o){return Ot(this,ds(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return Ot(this,gi(this,!1))},slice:function(r,o){return Ot(this,_i(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=Xe(0|o,0),a===0||a===2&&!o)return this;r=Wt(r,0>r?this.count():this.size);var u=this.slice(0,r);return Ot(this,a===1?u:u.concat(st(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return Ot(this,ms(this,r,!1))},get:function(r,o){return r=tt(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=tt(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return Ot(this,Cc(this,r))},interleave:function(){var r=[this].concat(st(arguments)),o=Ti(this.toSeq(),S.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),Ot(this,a)},keySeq:function(){return Gt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return Ot(this,ps(this,r,o,!1))},zip:function(){var r=[this].concat(st(arguments));return Ot(this,Ti(this,Pc,r))},zipWith:function(r){var o=st(arguments);return o[0]=this,Ot(this,Ti(this,r,o))}}),U.prototype[Ls]=!0,U.prototype[pr]=!0,Fe(rt,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),rt.prototype.has=ne.includes,rt.prototype.contains=rt.prototype.includes,Fe(w,E.prototype),Fe(S,U.prototype),Fe(M,rt.prototype),Fe(Lr,E.prototype),Fe(sr,U.prototype),Fe(Sn,rt.prototype),{Iterable:L,Seq:b,Collection:We,Map:dt,OrderedMap:Ct,List:Mt,Stack:jt,Set:kt,OrderedSet:Ne,Record:he,Range:Gt,Repeat:Xt,is:Ut,fromJS:Oe}})}),B=i(function(y,T){(function(L,E){E(T,C)})(e,function(L){"use strict";function E(p,g){for(var A=Object.getOwnPropertyNames(g),z=0;z<A.length;z++){var q=A[z],H=Object.getOwnPropertyDescriptor(g,q);H&&H.configurable&&p[q]===void 0&&Object.defineProperty(p,q,H)}return p}function U(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function rt(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof g>"u"?"undefined":s(g)));p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):E(p,g))}function J(){}var X=function(){function p(g,A){for(var z,q=0;q<A.length;q++)z=A[q],z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(g,z.key,z)}return function(g,A,z){return A&&p(g.prototype,A),z&&p(g,z),g}}(),ct=function(p,g,A){var z=!0;t:for(;z;){var q=p,H=g,et=A;z=!1,q===null&&(q=Function.prototype);var at=Object.getOwnPropertyDescriptor(q,H);if(at===void 0){var bt=Object.getPrototypeOf(q);if(bt===null)return;p=bt,g=H,A=et,z=!0,at=bt=void 0;continue t}else{if("value"in at)return at.value;var Oe=at.get;return Oe===void 0?void 0:Oe.call(et)}}};if(typeof ht>"u"){var ht=function(p){return"@@"+p};ht.for=ht}L.construct=function(p){return J.prototype=p.constructor.prototype,new J};var pt=ht.for("typed/type"),Vt=ht.for("typed/store"),Tt=ht.for("typed/empty"),Et=ht.for("typed/type/maybe"),st=ht.for("typed/type/default"),Z=ht.for("typed/type/label"),tt=ht.for("transducer/init"),Ht=ht.for("transducer/result"),ce=ht.for("transducer/step"),Wt=ht.for("typed/type/read"),Yt=ht.for("typed/type/parse"),zt=ht("typed/type/name"),K=ht("typed/type/signature"),R=function(p,g,A){var z=function(et){function at(bt){U(this,at),ct(Object.getPrototypeOf(at.prototype),"constructor",this).call(this),this[st]=bt}return rt(at,et),at}(Qt),q=z.prototype;q[st]=A,q[Yt]=g,q[Z]=p;var H=function(et){return et===void 0?q:new z(et)};return H.prototype=q,H};L.Typed=R,R.label=Z,R.defaultValue=st,R.read=Wt,R.typeName=zt,R.typeSignature=K,R.type=pt,R.store=Vt,R.init=tt,R.result=Ht,R.step=ce,R.DELETE="delete",R.empty=Tt;var vt=function(p){return p[zt]()},Qt=function(){function p(){U(this,p)}return X(p,[{key:R.read,value:function(){var g=0>=arguments.length||arguments[0]===void 0?this[st]:arguments[0];return this[Yt](g)}},{key:R.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:R.typeName,value:function(){var g=this[Z],A=this[st];return A===void 0?g:g+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qt;var qt=Object.prototype,te=Array.isArray||function(p){return qt.toString.call(p)==="[object Array]"},Y=function(p){return qt.toString.call(p)==="[object RegExp]"},G=function(p){var g=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Wt]?p:p.prototype&&p.prototype[Wt]?p.prototype:g==="number"?new R.Number(p):g==="string"?new R.String(p):g==="boolean"?new R.Boolean(p):g==="symbol"?new R.Symbol(p):te(p)?R.Array(p):Y(p)?new R.RegExp(p):p===String?R.String.prototype:p===Number?R.Number.prototype:p===Boolean?R.Boolean.prototype:p===RegExp?R.RegExp.prototype:p===Array?R.Array.prototype:p===ht?R.Symbol.prototype:p===Date?R.Date.prototype:b}()};L.typeOf=G;var b=R("Any",function(p){return p})();L.Any=b,R.Any=b,R.Number=R("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),R.String=R("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),R.Symbol=R("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),R.Array=R("Array",function(p){return te(p)?p:TypeError('"'+p+'" is not an array')}),R.RegExp=R("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),R.Boolean=R("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),R.Date=R("Date",function(p){var g=new Date(p);return isNaN(g.valueOf())?new TypeError('"'+p+'" is not a valid date.'):g});var w=function(p){function g(A){U(this,g),ct(Object.getPrototypeOf(g.prototype),"constructor",this).call(this),this[pt]=A}return rt(g,p),X(g,[{key:R.typeName,value:function(){return"Maybe("+this[pt][zt]()+")"}},{key:R.read,value:function(A){var z=A==null?null:this[pt][Wt](A);return z instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[pt][zt]()+" type"):z}}]),g}(Qt),S=function(p){var g=G(p);if(g===b)throw TypeError(p+" is not a valid type");return g[Et]||(g[Et]=new w(g))};L.Maybe=S,S.Type=w;var M=function(p){function g(A){U(this,g),ct(Object.getPrototypeOf(g.prototype),"constructor",this).call(this),this[pt]=A}return rt(g,p),X(g,[{key:R.typeName,value:function(){return"Union("+this[pt].map(vt).join(", ")+")"}},{key:R.read,value:function(A){for(var z,q=this[pt],H=q.length,et=0;et<H;){if(z=q[et],A instanceof z.constructor)return A;++et}for(et=0;et<H;){var at=q[et][Wt](A);if(!(at instanceof TypeError))return at;++et}return TypeError('"'+A+'" does not satisfy '+this[zt]()+" type")}}]),g}(Qt),x=function(p,g){return p.filter(function(A){return 0>g.indexOf(A)})},F=function(p,g){if(p.length>g.length){var A=x(g,p);return A.length===0?p:p.concat(A)}var A=x(p,g);return A.length===0?g:A.concat(g)},O=function(){for(var p=arguments.length,g=Array(p),A=0;A<p;A++)g[A]=arguments[A];var z=g.length;if(z===0)throw TypeError("Union must be of at at least one type");for(var q=null,H=null,et=0;et<z;){var at=G(g[et]);if(at===b)return b;if(!q)H=at,q=H instanceof M?H[pt]:[at];else if(0>q.indexOf(at))if(at instanceof M){var bt=F(q,at[pt]);bt===at[pt]?(H=at,q=bt):bt!==q&&(H=null,q=bt)}else H=null,q.push(at);++et}return H||new M(q)};L.Union=O,O.Type=M,R.Number.Range=function(p,g,A){return g===void 0&&(g=1/0),R("Typed.Number.Range("+p+".."+g+")",function(z){return typeof z=="number"?z>=p&&z<=g?z:TypeError('"'+z+`" isn't in the range of `+p+".."+g):TypeError('"'+z+'" is not a number')},A)}})}),ot=i(function(y,T){(function(L,E){E(T,B,C)})(e,function(L,E,U){"use strict";function rt(G,b){for(var w=Object.getOwnPropertyNames(b),S=0;S<w.length;S++){var M=w[S],x=Object.getOwnPropertyDescriptor(b,M);x&&x.configurable&&G[M]===void 0&&Object.defineProperty(G,M,x)}return G}function J(G,b,w){return b in G?Object.defineProperty(G,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):G[b]=w,G}function X(G,b){if(!(G instanceof b))throw new TypeError("Cannot call a class as a function")}function ct(G,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof b>"u"?"undefined":s(b)));G.prototype=Object.create(b&&b.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(G,b):rt(G,b))}var ht=function(){function G(b,w){var S,M=[],x=!0,F=!1;try{for(var O,p=b[Symbol.iterator]();!(x=(O=p.next()).done)&&(M.push(O.value),!(w&&M.length===w));x=!0);}catch(g){F=!0,S=g}finally{try{!x&&p.return&&p.return()}finally{if(F)throw S}}return M}return function(b,w){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return G(b,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function G(b,w){for(var S,M=0;M<w.length;M++)S=w[M],S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}return function(b,w,S){return w&&G(b.prototype,w),S&&G(b,S),b}}(),Vt=function(G,b,w){var S=!0;t:for(;S;){var M=G,x=b,F=w;S=!1,M===null&&(M=Function.prototype);var O=Object.getOwnPropertyDescriptor(M,x);if(O===void 0){var p=Object.getPrototypeOf(M);if(p===null)return;G=p,b=x,w=F,S=!0,O=p=void 0;continue t}else{if("value"in O)return O.value;var g=O.get;return g===void 0?void 0:g.call(F)}}},Tt=U.Iterable.Keyed,Et=function(G){return function(){return this.get(G)}},st=function(G){return function(b){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(G,b)}},Z=E.Typed.store,tt=E.Typed.type,Ht=E.Typed.step,ce=E.Typed.init,Wt=E.Typed.result,Yt=E.Typed.read,zt=E.Typed.label,K=E.Typed.empty,R=E.Typed.typeName,vt=E.Typed.typeSignature,Qt=function(){};Qt.prototype=U.Iterable.Keyed.prototype;var qt=function(G){function b(){X(this,b),Vt(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return ct(b,G),pt(b,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(w){return w.asImmutable()}},{key:E.Typed.read,value:function(w){var S=this.constructor;if(w&&w instanceof S)return w;if(w===null||w&&(typeof w>"u"?"undefined":s(w))!=="object")return TypeError('Invalid data structure "'+w+'" was passed to '+this[R]());var M=(0,U.Seq)(w),x=this[tt],F=M.size===0;if(F&&this[K])return this[K];var O;for(var p in x){var g=x[p],A=M.has(p)?M.get(p):this.get(p),z=g[Yt](A);if(z instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+z.message);O=this[Ht](O||this[ce](),[p,z])}return O=this[Wt](O),F&&(this[K]=O),O}},{key:E.Typed.step,value:function(w,S){var M=ht(S,2),x=M[0],F=M[1],O=w[Z]?w[Z].set(x,F):new U.Map([[x,F]]);if(w[Z]===O)return w;var p=w.__ownerID?w:(0,E.construct)(w);return p[Z]=O,p}},{key:E.Typed.typeSignature,value:function(){var w=this[tt],S=[];for(var M in w)S.push(M+": "+w[M][R]());return"Typed.Record({"+S.join(", ")+"})"}},{key:E.Typed.typeName,value:function(){return this[zt]||this[vt]()}},{key:"toString",value:function(){return this.__toString(this[R]()+"({","})")}},{key:"has",value:function(w){return!!this[tt][w]}},{key:"get",value:function(w,S){return this[tt][w]&&this[Z]?this[Z].get(w,S):S}},{key:"clear",value:function(){return this.__ownerID?(this[Z]&&this[Z].clear(),this):this[K]||(this[K]=new this.constructor)}},{key:"remove",value:function(w){return this[tt][w]?this.set(w,void 0):this}},{key:"set",value:function(w,S){var M=this[tt][w];if(!M)throw TypeError('Cannot set unknown field "'+w+'" on "'+this[R]()+'"');var x=M[Yt](S);if(x instanceof TypeError)throw TypeError("Invalid value for "+w+" field: "+x.message);return this[Ht](this,[w,x])}},{key:"__iterator",value:function(w,S){var M=this;return Tt(this[tt]).map(function(x,F){return M.get(F)}).__iterator(w,S)}},{key:"__iterate",value:function(w,S){var M=this;return Tt(this[tt]).map(function(x,F){return M.get(F)}).__iterate(w,S)}},{key:"__ensureOwner",value:function(w){if(w===this.__ownerID)return this;var S=this[Z]&&this[Z].__ensureOwner(w),M=w?(0,E.construct)(this):this;return M.__ownerID=w,M[Z]=S,M}},{key:"wasAltered",value:function(){return this[Z].wasAltered()}}]),b}(Qt),te=function(G,b){if(G&&(typeof G>"u"?"undefined":s(G))==="object"){var w=Object.create(null),S=Object.keys(G),M=S.length;if(0<M){var x,F=function(){for(var O=(x={size:{value:M}},J(x,tt,{value:w}),J(x,zt,{value:b}),x),p=0;p<M;){var g=S[p],A=(0,E.typeOf)(G[g]);if(A)w[g]=A,O[g]={get:Et(g),set:st(g),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+g+'" field');++p}var z=function q(H){var et=this instanceof q,at=et?this.constructor:q;if(H instanceof at)return H;var bt=at.prototype,Oe=bt[Yt](H);if(Oe instanceof TypeError)throw Oe;return et?void(this[Z]=Oe[Z]):Oe};return O.constructor={value:z},z.prototype=Object.create(Y,O),z.prototype,{v:z}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=te,te.Type=qt,te.prototype=qt.prototype;var Y=qt.prototype;Y[E.Typed.DELETE]=Y.remove,Y.deleteIn=U.Map.prototype.deleteIn,Y.removeIn=U.Map.prototype.removeIn,Y.merge=U.Map.prototype.merge,Y.mergeWith=U.Map.prototype.mergeWith,Y.mergeIn=U.Map.prototype.mergeIn,Y.mergeDeep=U.Map.prototype.mergeDeep,Y.mergeDeepWith=U.Map.prototype.mergeDeepWith,Y.mergeDeepIn=U.Map.prototype.mergeDeepIn,Y.setIn=U.Map.prototype.setIn,Y.update=U.Map.prototype.update,Y.updateIn=U.Map.prototype.updateIn,Y.withMutations=U.Map.prototype.withMutations,Y.asMutable=U.Map.prototype.asMutable,Y.asImmutable=U.Map.prototype.asImmutable,Y.map=void 0,Y.filter=void 0,Y.filterNot=void 0,Y.flip=void 0,Y.mapKeys=void 0,Y.mapEntries=void 0,Y.sort=void 0,Y.sortBy=void 0,Y.reverse=void 0,Y.slice=void 0,Y.butLast=void 0,Y.flatMap=void 0,Y.flatten=void 0,Y.rest=void 0,Y.skip=void 0,Y.skipLast=void 0,Y.skipWhile=void 0,Y.skipUntil=void 0,Y.sortBy=void 0,Y.take=void 0,Y.takeLast=void 0,Y.takeWhile=void 0,Y.takeUntil=void 0})}),P=i(function(y,T){(function(L,E){E(T,B,C)})(e,function(L,E,U){"use strict";function rt(x,F){for(var O=Object.getOwnPropertyNames(F),p=0;p<O.length;p++){var g=O[p],A=Object.getOwnPropertyDescriptor(F,g);A&&A.configurable&&x[g]===void 0&&Object.defineProperty(x,g,A)}return x}function J(x,F,O){return F in x?Object.defineProperty(x,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[F]=O,x}function X(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")}function ct(x,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));x.prototype=Object.create(F&&F.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(x,F):rt(x,F))}function ht(){}var pt=function(){function x(F,O){var p,g=[],A=!0,z=!1;try{for(var q,H=F[Symbol.iterator]();!(A=(q=H.next()).done)&&(g.push(q.value),!(O&&g.length===O));A=!0);}catch(et){z=!0,p=et}finally{try{!A&&H.return&&H.return()}finally{if(z)throw p}}return g}return function(F,O){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Vt=function(){function x(F,O){for(var p,g=0;g<O.length;g++)p=O[g],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,O,p){return O&&x(F.prototype,O),p&&x(F,p),F}}(),Tt=function(x,F,O){var p=!0;t:for(;p;){var g=x,A=F,z=O;p=!1,g===null&&(g=Function.prototype);var q=Object.getOwnPropertyDescriptor(g,A);if(q===void 0){var H=Object.getPrototypeOf(g);if(H===null)return;x=H,F=A,O=z,p=!0,q=H=void 0;continue t}else{if("value"in q)return q.value;var et=q.get;return et===void 0?void 0:et.call(z)}}},Et=U.List,st=U.Iterable.Indexed,Z=E.Typed.store,tt=E.Typed.type,Ht=E.Typed.read,ce=E.Typed.step,Wt=E.Typed.init,Yt=E.Typed.result,zt=E.Typed.label,K=E.Typed.typeName,R=E.Typed.empty,vt=function(x,F){var O=F(x[Z]);if(O===x[Z])return x;var p=x.__ownerID?x:(0,E.construct)(x);return p[Z]=O,p.size=O.size,p},Qt=function(x){return x.clear()},qt=function(x){return x.pop()},te=function(x){return x.shift()},Y=function(x){function F(){X(this,F),Tt(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return ct(F,x),Vt(F,[{key:E.Typed.typeName,value:function(){return"TypeInferer"}},{key:E.Typed.read,value:function(O){var p=(0,E.typeOf)(O).constructor.prototype;return this.type=this.type?(0,E.Union)(this.type,p):p,O}}]),F}(E.Type);ht.prototype=Et.prototype;var G=function(x){function F(O){return X(this,F),Tt(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Ht](O)}return ct(F,x),Vt(F,null,[{key:"from",value:function(O){var p=(0,E.construct)(this.prototype);return p[Z]=O[Z],p.size=O.size,p}}]),Vt(F,[{key:E.Typed.init,value:function(){var O=(0,E.construct)(this).asMutable();return O[tt]=new Y,O}},{key:E.Typed.result,value:function(O){var p=O.asImmutable();return p[tt]=O[tt].type,p}},{key:E.Typed.read,value:function(O){var p=this.constructor;if(O==null){if(!this[R]){var g=(0,E.construct)(this);g[Z]=Et(),g.size=0,this[R]=g}return this[R]}if(O instanceof p&&O&&O.constructor===p)return O;var A=st(O),z=A.size===0;if(z&&this[R])return this[R];var q=this[Wt]();return q.size=A.size,A.forEach(function(H,et){q.set(et,H)}),q=this[Yt](q),z&&(this[R]=q),q}},{key:E.Typed.step,value:function(O,p){var g=pt(p,2),A=g[0],z=g[1];return vt(O,function(){var q=0>=arguments.length||arguments[0]===void 0?Et():arguments[0];return q.set(A,z)})}},{key:E.Typed.typeName,value:function(){return this[zt]||"Typed.List("+this[tt][K]()+")"}},{key:"toString",value:function(){return this.__toString(this[K]()+"([","])")}},{key:"has",value:function(O){return this[Z].has(O)}},{key:"get",value:function(O,p){return this[Z]?this[Z].get(parseInt(O),p):p}},{key:"clear",value:function(){return this.__ownerID?vt(this,Qt):this[R]||this[Ht]()}},{key:"insert",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var g=this[tt][Ht](p);if(g instanceof TypeError)throw TypeError("Invalid value: "+g.message);return vt(this,function(A){return A.insert(O,p)})}},{key:"remove",value:function(O){return vt(this,function(p){return p&&p.remove(O)})}},{key:"set",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var g=this[tt][Ht](p);if(g instanceof TypeError)throw TypeError("Invalid value: "+g.message);return this[ce](this,[O,g])}},{key:"push",value:function(){for(var O=this[tt],p=[],g=arguments.length,A=Array(g),z=0;z<g;z++)A[z]=arguments[z];for(var q=A.length,H=0;H<q;){var et=A[H],at=O[Ht](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return vt(this,function(bt){return bt?bt.push.apply(bt,p):Et.apply(void 0,p)})}},{key:"pop",value:function(){return vt(this,qt)}},{key:"unshift",value:function(){for(var O=this[tt],p=[],g=arguments.length,A=Array(g),z=0;z<g;z++)A[z]=arguments[z];for(var q=A.length,H=0;H<q;){var et=A[H],at=O[Ht](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return vt(this,function(bt){return bt?bt.unshift.apply(bt,p):Et.apply(void 0,p)})}},{key:"shift",value:function(){return vt(this,te)}},{key:"setSize",value:function(O){if(O>this.size)throw TypeError("setSize may only downsize");return vt(this,function(p){return p.setSize(O)})}},{key:"slice",value:function(O,p){return vt(this,function(g){return g&&g.slice(O,p)})}},{key:"wasAltered",value:function(){return this[Z].wasAltered()}},{key:"__ensureOwner",value:function(O){var p=this.__ownerID===O?this:O?(0,E.construct)(this):this;return p.__ownerID=O,p[Z]=this[Z]?this[Z].__ensureOwner(O):Et().__ensureOwner(O),p.size=p[Z].size,p}},{key:"__iterator",value:function(O,p){var g=this;return st(this[Z]).map(function(A,z){return g.get(z)}).__iterator(O,p)}},{key:"__iterate",value:function(O,p){var g=this;return st(this[Z]).map(function(A,z){return g.get(z)}).__iterate(O,p)}}]),F}(ht);G.prototype[E.Typed.DELETE]=G.prototype.remove;var b=function(){};b.prototype=G.prototype;var w=function(x){function F(){X(this,F),Tt(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return ct(F,x),Vt(F,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(O){return O.asImmutable()}},{key:"map",value:function(O,p){if(this.size===0)return this;var g=G.from(this).map(O,p);if(this[Z]===g[Z])return this;if(g[tt]===this[tt]){var A=(0,E.construct)(this);return A[Z]=g[Z],A.size=g.size,A}return g}},{key:"flatMap",value:function(O,p){if(this.size===0)return this;var g=G.from(this).flatMap(O,p);if(this[Z]===g[Z])return this;if(g[tt]===this[tt]){var A=(0,E.construct)(this);return A[Z]=g[Z],A.size=g.size,A}return g}}]),F}(b),S=function(x,F){var O;if(x===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(x===E.Any)return U.List;var p=(0,E.typeOf)(x);if(p===E.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+x);var g=function A(z){var q=this instanceof A,H=q?this.constructor:A;if(z instanceof H)return z;var et=H.prototype[Ht](z);if(et instanceof TypeError)throw et;if(q&&!this[Z])this[Z]=et[Z],this.size=et.size;else return et;return this};return g.of=Et.of,g.prototype=Object.create(M,(O={constructor:{value:g}},J(O,tt,{value:p}),J(O,zt,{value:F}),O)),g};L.List=S,S.Type=w,S.prototype=w.prototype;var M=w.prototype})}),mt=i(function(y,T){(function(L,E){E(T,B,C)})(e,function(L,E,U){"use strict";function rt(b,w){for(var S=Object.getOwnPropertyNames(w),M=0;M<S.length;M++){var x=S[M],F=Object.getOwnPropertyDescriptor(w,x);F&&F.configurable&&b[x]===void 0&&Object.defineProperty(b,x,F)}return b}function J(b,w,S){return w in b?Object.defineProperty(b,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[w]=S,b}function X(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function ct(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof w>"u"?"undefined":s(w)));b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):rt(b,w))}var ht=function(){function b(w,S){var M,x=[],F=!0,O=!1;try{for(var p,g=w[Symbol.iterator]();!(F=(p=g.next()).done)&&(x.push(p.value),!(S&&x.length===S));F=!0);}catch(A){O=!0,M=A}finally{try{!F&&g.return&&g.return()}finally{if(O)throw M}}return x}return function(w,S){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return b(w,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function b(w,S){for(var M,x=0;x<S.length;x++)M=S[x],M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(w,M.key,M)}return function(w,S,M){return S&&b(w.prototype,S),M&&b(w,M),w}}(),Vt=function(b,w,S){var M=!0;t:for(;M;){var x=b,F=w,O=S;M=!1,x===null&&(x=Function.prototype);var p=Object.getOwnPropertyDescriptor(x,F);if(p===void 0){var g=Object.getPrototypeOf(x);if(g===null)return;b=g,w=F,S=O,M=!0,p=g=void 0;continue t}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(O)}}},Tt=U.Map,Et=U.Iterable.Keyed,st=E.Typed.store,Z=E.Typed.type,tt=E.Typed.read,Ht=E.Typed.step,ce=E.Typed.init,Wt=E.Typed.result,Yt=E.Typed.label,zt=E.Typed.typeName,K=E.Typed.empty,R=function(b){function w(S,M,x){X(this,w),Vt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),this.key=S,this.value=M,this.label=x}return ct(w,b),pt(w,[{key:E.Typed.typeName,value:function(){return this.label||this.key[zt]()+", "+this.value[zt]()}},{key:E.Typed.read,value:function(S){function M(){return S.apply(this,arguments)}return M.toString=function(){return S.toString()},M}(function(S){var M=ht(S,2),x=M[0],F=M[1],O=this.key[tt](x);if(O instanceof TypeError)return TypeError("Invalid key: "+O.message);var p=this.value[tt](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[O,p]})}]),w}(E.Type),vt=function(b){function w(){X(this,w),Vt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this,key,value)}return ct(w,b),pt(w,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:E.Typed.typeName,value:function(){var S=this.key?this.key[zt]():"TypeInferred",M=this.value?this.value[zt]():"TypeInferred";return S+", "+M}},{key:E.Typed.read,value:function(S){var M=(0,E.typeOf)(S[0]).constructor.prototype;this.key=this.key?(0,E.Union)(this.key,M):M;var x=(0,E.typeOf)(S[1]).constructor.prototype;return this.value=this.value?(0,E.Union)(this.value,x):x,S}}]),w}(R),Qt=function(){};Qt.prototype=U.Map.prototype;var qt=function(b){function w(S){return X(this,w),Vt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),w.prototype[tt](S)}return ct(w,b),pt(w,[{key:"advance",value:function(S){var M=S.__ownerID?this:(0,E.construct)(this);return M[st]=S,M.size=S.size,M.__ownerID=S.__ownerID,M}},{key:E.Typed.init,value:function(){return this.advance(Tt()).asMutable()}},{key:E.Typed.step,value:function(S,M){var x=this[Z][tt](M);if(x instanceof TypeError)throw x;var F=ht(x,2),O=F[0],p=F[1];return S.advance(S[st].set(O,p))}},{key:E.Typed.result,value:function(S){return S.asImmutable()}},{key:E.Typed.read,value:function(S){var M=this.constructor;if(S==null)return this[K]||(this[K]=this.advance(Tt())),this[K];var x=S instanceof M&&S.constructor===M;if(x)return S;for(var F=Et(S).entries(),O=this[Z],p=this[ce]();;){var g=F.next(),A=g.done,z=g.value;if(A)break;var q=O[tt](z);if(q instanceof TypeError)return q;p=p[Ht](p,q)}return this[Wt](p)}},{key:E.Typed.typeName,value:function(){return this[Yt]||"Typed.Map("+this[Z][zt]()+")"}},{key:"toString",value:function(){return this.__toString(this[zt]()+"({","})")}},{key:"has",value:function(S){return this[st].has(S)}},{key:"get",value:function(S,M){return this[st].get(S,M)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[st].clear()):this[K]||this[tt]()}},{key:"remove",value:function(S){return this.advance(this[st].remove(S))}},{key:"set",value:function(S,M){return this[Ht](this,[S,M])}},{key:"wasAltered",value:function(){return this[st].wasAltered()}},{key:"__ensureOwner",value:function(S){var M=this.__ownerID===S?this:S?(0,E.construct)(this):this,x=this[st].__ensureOwner(S);return M[st]=x,M.size=x.size,M.__ownerID=S,M}},{key:"__iterator",value:function(S,M){return this[st].__iterator(S,M)}},{key:"__iterate",value:function(S,M){return this[st].__iterate(S,M)}}]),w}(Qt);qt.prototype[E.Typed.DELETE]=qt.prototype.remove;var te=function(b){function w(){X(this,w),Vt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this)}return ct(w,b),pt(w,[{key:E.Typed.init,value:function(){var S=this.advance(Tt()).asMutable();return S[Z]=new vt,S}},{key:E.Typed.result,value:function(S){var M=S.asImmutable();return M[Z]=S[Z].toStatic(),M}}]),w}(qt),Y=function(b,w,S){var M;if(b===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(w===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(b===E.Any&&w===E.Any)return Tt;var x=(0,E.typeOf)(b),F=(0,E.typeOf)(w);if(x===E.Any&&b!==E.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+b);if(F===E.Any&&w!==E.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+w);var O=new R(x,F,S),p=function g(A){var z=this instanceof g,q=z?this.constructor:g;if(A instanceof q)return A;var H=q.prototype[tt](A);if(H instanceof TypeError)throw H;if(z&&!this[st])this[st]=H[st],this.size=H.size;else return H;return this};return p.of=function(){for(var g=arguments.length,A=Array(g),z=0;z<g;z++)A[z]=arguments[z];return p().withMutations(function(q){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);q.set(A[H],A[H+1])}})},p.prototype=Object.create(G,(M={constructor:{value:p}},J(M,Z,{value:O}),J(M,Yt,{value:S}),M)),p};L.Map=Y,Y.Type=qt,Y.prototype=qt.prototype;var G=Y.prototype})}),Dt=i(function(y,T){(function(L,E){E(T,ot,P,mt,B)})(e,function(L,E,U,rt,J){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return E.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return U.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return rt.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return J.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return J.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return J.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return J.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return J.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return J.Maybe}})})}),wt=Dt.Typed,Rt=Dt.Record,Bt=Dt.List,He=Dt.Map,oe=Dt.Any,se="[object Function]",br="[object GeneratorFunction]",ue=Object.prototype,Se=ue.toString;function Ar(y){var T=Nr(y)?Se.call(y):"";return T==se||T==br}function Nr(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}var ir=Ar;function Jn(y){return y===null}var or=Jn;function Tn(y){return y===void 0}var yu=Tn,Xn=i(function(y,T){function L(Et){return!!Et&&(typeof Et>"u"?"undefined":s(Et))=="object"}var E=s(e)=="object"&&e&&e.Object===Object&&e,U=T&&!T.nodeType&&T,rt=U&&!0&&y&&!y.nodeType&&y,J=rt&&rt.exports===U,X=J&&E.process,ct=function(){try{return X&&X.binding("util")}catch{}}(),ht=ct&&ct.isDate,pt=Object.prototype,Vt=pt.toString,Tt=ht?function(Et){return function(st){return Et(st)}}(ht):function(Et){return L(Et)&&Vt.call(Et)=="[object Date]"};y.exports=Tt}),Qn=1/0,vu=9007199254740991,gu=17976931348623157e292,ko=0/0,_u="[object Symbol]",Tu=/^\s+|\s+$/g,Eu=/^[-+]0x[0-9a-f]+$/i,wu=/^0b[01]+$/i,Su=/^0o[0-7]+$/i,bo="\\ud800-\\udfff",Ou="\\u0300-\\u036f\\ufe20-\\ufe23",Iu="\\u20d0-\\u20f0",Du="\\ufe0e\\ufe0f",Mu="["+bo+"]",ti="["+Ou+Iu+"]",ei="\\ud83c[\\udffb-\\udfff]",xu="(?:"+ti+"|"+ei+")",Ao="[^"+bo+"]",No="(?:\\ud83c[\\udde6-\\uddff]){2}",Fo="[\\ud800-\\udbff][\\udc00-\\udfff]",ku="\\u200d",Lo=xu+"?",Ro="["+Du+"]?",bu="(?:"+ku+"(?:"+[Ao,No,Fo].join("|")+")"+Ro+Lo+")*",Au=Ro+Lo+bu,Nu="(?:"+[Ao+ti+"?",ti,No,Fo,Mu].join("|")+")",ri=RegExp(ei+"(?="+ei+")|"+Nu+Au,"g"),Fu=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,Lu=parseInt,Ru=s(e)=="object"&&e&&e.Object===Object&&e,zu=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,Cu=Ru||zu||Function("return this")(),Uu=Vu("length");function ju(y){return y.split("")}function Vu(y){return function(T){return T?.[y]}}function ni(y){return Fu.test(y)}function zo(y){return ni(y)?Pu(y):Uu(y)}function qu(y){return ni(y)?Hu(y):ju(y)}function Pu(y){for(var T=ri.lastIndex=0;ri.test(y);)T++;return T}function Hu(y){return y.match(ri)||[]}var Wu=Object.prototype,Zu=Wu.toString,Co=Cu.Symbol,$u=Math.ceil,Bu=Math.floor,Uo=Co?Co.prototype:void 0,jo=Uo?Uo.toString:void 0;function Vo(y,T){var L="";if(!y||1>T||T>vu)return L;do T%2&&(L+=y),T=Bu(T/2),T&&(y+=y);while(T);return L}function Yu(y,T,L){var E=-1,U=y.length;0>T&&(T=-T>U?0:U+T),L=L>U?U:L,0>L&&(L+=U),U=T>L?0:L-T>>>0,T>>>=0;for(var rt=Array(U);++E<U;)rt[E]=y[E+T];return rt}function qo(y){if(typeof y=="string")return y;if(Ho(y))return jo?jo.call(y):"";var T=y+"";return T=="0"&&1/y==-Qn?"-0":T}function Gu(y,T,L){var E=y.length;return L=L===void 0?E:L,!T&&L>=E?y:Yu(y,T,L)}function Ku(y,T){T=T===void 0?" ":qo(T);var L=T.length;if(2>L)return L?Vo(T,y):T;var E=Vo(T,$u(y/zo(T)));return ni(T)?Gu(qu(E),0,y).join(""):E.slice(0,y)}function Po(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}function Ju(y){return!!y&&(typeof y>"u"?"undefined":s(y))=="object"}function Ho(y){return(typeof y>"u"?"undefined":s(y))=="symbol"||Ju(y)&&Zu.call(y)==_u}function Xu(y){if(!y)return y===0?y:0;if(y=tc(y),y===Qn||y===-Qn){var T=0>y?-1:1;return T*gu}return y===y?y:0}function Qu(y){var T=Xu(y),L=T%1;return T===T?L?T-L:T:0}function tc(y){if(typeof y=="number")return y;if(Ho(y))return ko;if(Po(y)){var T=typeof y.valueOf=="function"?y.valueOf():y;y=Po(T)?T+"":T}if(typeof y!="string")return y===0?y:+y;y=y.replace(Tu,"");var L=wu.test(y);return L||Su.test(y)?Lu(y.slice(2),L?2:8):Eu.test(y)?ko:+y}function ec(y){return y==null?"":qo(y)}function rc(y,T,L){y=ec(y),T=Qu(T);var E=T?zo(y):0;return T&&E<T?Ku(T-E,L)+y:y}var Fr=rc,Wo=function(y){return y.getFullYear()+Fr(y.getMonth()+1,2,0)+Fr(y.getDate(),2,0)},Zo=function(y){return Fr(y.getHours(),2,0)+Fr(y.getMinutes(),2,0)+Fr(y.getSeconds(),2,0)},nc=function(y){return Wo(y)+"T"+Zo(y)},$o=function(y){var T=6e4*y.getTimezoneOffset();return new Date(y.getTime()+T)},ic=function(y){return y?"TRUE":"FALSE"},oc=function(y){return Xn(y)?Wo($o(y)):y},sc=function(y){return Xn(y)?nc(y):y},Bo=function(y){return Number.parseFloat(y)},ac=function(){return Bo.apply(void 0,arguments).toFixed(1)},uc=function(y){return Number.parseInt(y)},cc=function(y){return y.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},lc=function(y){return Xn(y)?Zo($o(y)):y},fc=Object.freeze({BOOLEAN:ic,DATE:oc,DATETIME:sc,FLOAT:Bo,FLOAT__FIXED_1:ac,INTEGER:uc,TEXT:cc,TIME:lc}),hc=`\r
 `,dc=`\r
`,Yo=";",pc="=",mc="VALUE",yc=":",vc=",",gc=new RegExp(/[\s\S]{1,75}/g),_c="BEGIN",Tc="END",St={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},Ec=St.TEXT,wc={ATTACH:St.URI,ATTENDEE:St.CALADDRESS,CREATED:St.DATETIME,DTSTART:St.DATETIME,DTEND:St.DATETIME,DTSTAMP:St.DATETIME,DUE:St.DATETIME,DURATION:St.DURATION,EXDATE:St.DATETIME,FREEBUSY:St.PERIOD,"LAST-MODIFIED":St.DATETIME,ORGANIZER:St.CALADDRESS,"PERCENT-COMPLETE":St.INTEGER,PRIORITY:St.INTEGER,RDATE:St.DATETIME,"RECURRENCE-ID":St.DATETIME,REPEAT:St.INTEGER,RRULE:St.RECUR,SEQUENCE:St.INTEGER,TRIGGER:St.DURATION,TZOFFSETFROM:St.UTCOFFSET,TZOFFSETTO:St.UTCOFFSET,TZURL:St.URI,URL:St.URI,VERSION:St.FLOAT+"__FIXED_1"},En=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return f(T,y),h(T,[{key:"getTransformedValue",value:function(){var E=this,U=St[this.parameters.get(mc)]||wc[this.name]||Ec,rt=fc[U];return ir(rt)?Array.isArray(this.value)?this.value.map(function(J){return rt(J,E.parameters)}).join(vc):rt(this.value,this.parameters):this.value}},{key:"toString",value:function(){var E=this.name;0<this.parameters.size&&(E+=Yo+this.parameters.entrySeq().map(function(rt){var J=_(rt,2),X=J[0],ct=J[1];return X+pc+ct}).join(Yo));var U=this.transform?this.getTransformedValue():this.value;return or(U)||yu(U)||(E+=yc+U),E.match(gc).join(hc)}}]),T}(Rt({name:String,parameters:He(String,oe),transform:!0,value:oe}));wt.Component=wt("Component",function(y){return y instanceof Go?y:TypeError('"'+y+'" is not a Component')}),wt.Property=wt("Property",function(y){return y instanceof En?y:TypeError('"'+y+'" is not a Property')});var Go=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return f(T,y),h(T,[{key:"pushComponent",value:function(E){return this.update("components",function(U){return U.push(E)})}},{key:"pushProperty",value:function(E){return this.update("properties",function(U){return U.push(E)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new En({name:_c,value:this.name})].concat(k(this.properties),k(this.components),[new En({name:Tc,value:this.name})]).join(dc)}}]),T}(Rt({name:String,components:Bt(wt.Component),properties:Bt(wt.Property)}));n.Component=Go,n.Property=En,Object.defineProperty(n,"__esModule",{value:!0})})});var pu=Xs((Mo,xo)=>{(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Mo<"u"?e():(e(),n.FileSaver={})})(Mo,function(){"use strict";function n(m,_){return typeof _>"u"?_={autoBom:!1}:typeof _!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),_={autoBom:!_}),_.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function e(m,_,k){var C=new XMLHttpRequest;C.open("GET",m),C.responseType="blob",C.onload=function(){f(C.response,_,k)},C.onerror=function(){console.error("could not download file")},C.send()}function i(m){var _=new XMLHttpRequest;_.open("HEAD",m,!1);try{_.send()}catch{}return 200<=_.status&&299>=_.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var _=document.createEvent("MouseEvents");_.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(_)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,h=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(m,_,k){var C=c.URL||c.webkitURL,B=document.createElement("a");_=_||m.name||"download",B.download=_,B.rel="noopener",typeof m=="string"?(B.href=m,B.origin===location.origin?s(B):i(B.href)?e(m,_,k):s(B,B.target="_blank")):(B.href=C.createObjectURL(m),setTimeout(function(){C.revokeObjectURL(B.href)},4e4),setTimeout(function(){s(B)},0))}:"msSaveOrOpenBlob"in navigator?function(m,_,k){if(_=_||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,k),_);else if(i(m))e(m,_,k);else{var C=document.createElement("a");C.href=m,C.target="_blank",setTimeout(function(){s(C)})}}:function(m,_,k,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof m=="string")return e(m,_,k);var B=m.type==="application/octet-stream",ot=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||B&&ot||h)&&typeof FileReader<"u"){var mt=new FileReader;mt.onloadend=function(){var Rt=mt.result;Rt=P?Rt:Rt.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=Rt:location=Rt,C=null},mt.readAsDataURL(m)}else{var Dt=c.URL||c.webkitURL,wt=Dt.createObjectURL(m);C?C.location=wt:location.href=wt,C=null,setTimeout(function(){Dt.revokeObjectURL(wt)},4e4)}});c.saveAs=f.saveAs=f,typeof xo<"u"&&(xo.exports=f)})});var je=class extends Error{},Fn=class extends je{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Ln=class extends je{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Rn=class extends je{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},Ve=class extends je{},yr=class extends je{constructor(e){super(`Invalid unit ${e}`)}},Zt=class extends je{},Me=class extends je{constructor(){super("Zone is an abstract class")}};var j="numeric",xe="short",pe="long",Be={year:j,month:j,day:j},Wr={year:j,month:xe,day:j},zi={year:j,month:xe,day:j,weekday:xe},Zr={year:j,month:pe,day:j},$r={year:j,month:pe,day:j,weekday:pe},Br={hour:j,minute:j},Yr={hour:j,minute:j,second:j},Gr={hour:j,minute:j,second:j,timeZoneName:xe},Kr={hour:j,minute:j,second:j,timeZoneName:pe},Jr={hour:j,minute:j,hourCycle:"h23"},Xr={hour:j,minute:j,second:j,hourCycle:"h23"},Qr={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:xe},tn={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:pe},en={year:j,month:j,day:j,hour:j,minute:j},rn={year:j,month:j,day:j,hour:j,minute:j,second:j},nn={year:j,month:xe,day:j,hour:j,minute:j},on={year:j,month:xe,day:j,hour:j,minute:j,second:j},Ci={year:j,month:xe,day:j,weekday:xe,hour:j,minute:j},sn={year:j,month:pe,day:j,hour:j,minute:j,timeZoneName:xe},an={year:j,month:pe,day:j,hour:j,minute:j,second:j,timeZoneName:xe},un={year:j,month:pe,day:j,weekday:pe,hour:j,minute:j,timeZoneName:pe},cn={year:j,month:pe,day:j,weekday:pe,hour:j,minute:j,second:j,timeZoneName:pe};var ae=class{get type(){throw new Me}get name(){throw new Me}get ianaName(){return this.name}get isUniversal(){throw new Me}offsetName(e,i){throw new Me}formatOffset(e,i){throw new Me}offset(e){throw new Me}equals(e){throw new Me}get isValid(){throw new Me}};var Ui=null,Re=class extends ae{static get instance(){return Ui===null&&(Ui=new Re),Ui}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Cn(e,i,s)}formatOffset(e,i){return Ye(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var jn={};function nl(n){return jn[n]||(jn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),jn[n]}var il={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ol(n,e){let i=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,c,h,f,m,_,k,C]=s;return[f,c,h,m,_,k,C]}function sl(n,e){let i=n.formatToParts(e),s=[];for(let c=0;c<i.length;c++){let{type:h,value:f}=i[c],m=il[h];h==="era"?s[m]=f:nt(m)||(s[m]=parseInt(f,10))}return s}var Un={},Pt=class extends ae{static create(e){return Un[e]||(Un[e]=new Pt(e)),Un[e]}static resetCache(){Un={},jn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Pt.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Cn(e,i,s,this.name)}formatOffset(e,i){return Ye(this.offset(e),i)}offset(e){let i=new Date(e);if(isNaN(i))return NaN;let s=nl(this.name),[c,h,f,m,_,k,C]=s.formatToParts?sl(s,i):ol(s,i);m==="BC"&&(c=-Math.abs(c)+1);let ot=ln({year:c,month:h,day:f,hour:_===24?0:_,minute:k,second:C,millisecond:0}),P=+i,mt=P%1e3;return P-=mt>=0?mt:1e3+mt,(ot-P)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var ta={};function al(n,e={}){let i=JSON.stringify([n,e]),s=ta[i];return s||(s=new Intl.ListFormat(n,e),ta[i]=s),s}var ji={};function Vi(n,e={}){let i=JSON.stringify([n,e]),s=ji[i];return s||(s=new Intl.DateTimeFormat(n,e),ji[i]=s),s}var qi={};function ul(n,e={}){let i=JSON.stringify([n,e]),s=qi[i];return s||(s=new Intl.NumberFormat(n,e),qi[i]=s),s}var Pi={};function cl(n,e={}){let{base:i,...s}=e,c=JSON.stringify([n,s]),h=Pi[c];return h||(h=new Intl.RelativeTimeFormat(n,e),Pi[c]=h),h}var fn=null;function ll(){return fn||(fn=new Intl.DateTimeFormat().resolvedOptions().locale,fn)}function fl(n){let e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));let i=n.indexOf("-u-");if(i===-1)return[n];{let s,c;try{s=Vi(n).resolvedOptions(),c=n}catch{let _=n.substring(0,i);s=Vi(_).resolvedOptions(),c=_}let{numberingSystem:h,calendar:f}=s;return[c,h,f]}}function hl(n,e,i){return(i||e)&&(n.includes("-u-")||(n+="-u"),i&&(n+=`-ca-${i}`),e&&(n+=`-nu-${e}`)),n}function dl(n){let e=[];for(let i=1;i<=12;i++){let s=$.utc(2016,i,1);e.push(n(s))}return e}function pl(n){let e=[];for(let i=1;i<=7;i++){let s=$.utc(2016,11,13+i);e.push(n(s))}return e}function Vn(n,e,i,s,c){let h=n.listingMode(i);return h==="error"?null:h==="en"?s(e):c(e)}function ml(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var Hi=class{constructor(e,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:c,floor:h,...f}=s;if(!i||Object.keys(f).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=ul(e,m)}}format(e){if(this.inf){let i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{let i=this.floor?Math.floor(e):vr(e,3);return Nt(i,this.padTo)}}},Wi=class{constructor(e,i,s){this.opts=s;let c;if(e.zone.isUniversal){let f=-1*(e.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;e.offset!==0&&Pt.create(m).valid?(c=m,this.dt=e):(c="UTC",s.timeZoneName?this.dt=e:this.dt=e.offset===0?e:$.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,c=e.zone.name);let h={...this.opts};h.timeZone=h.timeZone||c,this.dtf=Vi(i,h)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Zi=class{constructor(e,i,s){this.opts={style:"long",...s},!i&&qn()&&(this.rtf=cl(e,s))}format(e,i){return this.rtf?this.rtf.format(e,i):ea(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}},yt=class{static fromOpts(e){return yt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,i,s,c=!1){let h=e||_t.defaultLocale,f=h||(c?"en-US":ll()),m=i||_t.defaultNumberingSystem,_=s||_t.defaultOutputCalendar;return new yt(f,m,_,h)}static resetCache(){fn=null,ji={},qi={},Pi={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:s}={}){return yt.create(e,i,s)}constructor(e,i,s,c){let[h,f,m]=fl(e);this.locale=h,this.numberingSystem=i||f||null,this.outputCalendar=s||m||null,this.intl=hl(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=ml(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:yt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1,s=!0){return Vn(this,e,s,$i,()=>{let c=i?{month:e,day:"numeric"}:{month:e},h=i?"format":"standalone";return this.monthsCache[h][e]||(this.monthsCache[h][e]=dl(f=>this.extract(f,c,"month"))),this.monthsCache[h][e]})}weekdays(e,i=!1,s=!0){return Vn(this,e,s,Bi,()=>{let c=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},h=i?"format":"standalone";return this.weekdaysCache[h][e]||(this.weekdaysCache[h][e]=pl(f=>this.extract(f,c,"weekday"))),this.weekdaysCache[h][e]})}meridiems(e=!0){return Vn(this,void 0,e,()=>Yi,()=>{if(!this.meridiemCache){let i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[$.utc(2016,11,13,9),$.utc(2016,11,13,19)].map(s=>this.extract(s,i,"dayperiod"))}return this.meridiemCache})}eras(e,i=!0){return Vn(this,e,i,Gi,()=>{let s={era:e};return this.eraCache[e]||(this.eraCache[e]=[$.utc(-40,1,1),$.utc(2017,1,1)].map(c=>this.extract(c,s,"era"))),this.eraCache[e]})}extract(e,i,s){let c=this.dtFormatter(e,i),h=c.formatToParts(),f=h.find(m=>m.type.toLowerCase()===s);return f?f.value:null}numberFormatter(e={}){return new Hi(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Wi(e,this.intl,i)}relFormatter(e={}){return new Zi(this.intl,this.isEnglish(),e)}listFormatter(e={}){return al(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};var Ji=null,Ft=class extends ae{static get utcInstance(){return Ji===null&&(Ji=new Ft(0)),Ji}static instance(e){return e===0?Ft.utcInstance:new Ft(e)}static parseSpecifier(e){if(e){let i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ft(tr(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ye(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ye(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Ye(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var gr=class extends ae{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function ke(n,e){let i;if(nt(n)||n===null)return e;if(n instanceof ae)return n;if(ra(n)){let s=n.toLowerCase();return s==="default"?e:s==="local"||s==="system"?Re.instance:s==="utc"||s==="gmt"?Ft.utcInstance:Ft.parseSpecifier(s)||Pt.create(n)}else return ze(n)?Ft.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new gr(n)}var na=()=>Date.now(),ia="system",oa=null,sa=null,aa=null,ua=60,ca,_t=class{static get now(){return na}static set now(e){na=e}static set defaultZone(e){ia=e}static get defaultZone(){return ke(ia,Re.instance)}static get defaultLocale(){return oa}static set defaultLocale(e){oa=e}static get defaultNumberingSystem(){return sa}static set defaultNumberingSystem(e){sa=e}static get defaultOutputCalendar(){return aa}static set defaultOutputCalendar(e){aa=e}static get twoDigitCutoffYear(){return ua}static set twoDigitCutoffYear(e){ua=e%100}static get throwOnInvalid(){return ca}static set throwOnInvalid(e){ca=e}static resetCaches(){yt.resetCache(),Pt.resetCache()}};function nt(n){return typeof n>"u"}function ze(n){return typeof n=="number"}function hn(n){return typeof n=="number"&&n%1===0}function ra(n){return typeof n=="string"}function la(n){return Object.prototype.toString.call(n)==="[object Date]"}function qn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function fa(n){return Array.isArray(n)?n:[n]}function Xi(n,e,i){if(n.length!==0)return n.reduce((s,c)=>{let h=[e(c),c];return s&&i(s[0],h[0])===s[0]?s:h},null)[1]}function ha(n,e){return e.reduce((i,s)=>(i[s]=n[s],i),{})}function Ge(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ce(n,e,i){return hn(n)&&n>=e&&n<=i}function yl(n,e){return n-e*Math.floor(n/e)}function Nt(n,e=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function qe(n){if(!(nt(n)||n===null||n===""))return parseInt(n,10)}function Ke(n){if(!(nt(n)||n===null||n===""))return parseFloat(n)}function dn(n){if(!(nt(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function vr(n,e,i=!1){let s=10**e;return(i?Math.trunc:Math.round)(n*s)/s}function er(n){return n%4===0&&(n%100!==0||n%400===0)}function rr(n){return er(n)?366:365}function _r(n,e){let i=yl(e-1,12)+1,s=n+(e-i)/12;return i===2?er(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function ln(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Tr(n){let e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,i=n-1,s=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return e===4||s===3?53:52}function pn(n){return n>99?n:n>_t.twoDigitCutoffYear?1900+n:2e3+n}function Cn(n,e,i,s=null){let c=new Date(n),h={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(h.timeZone=s);let f={timeZoneName:e,...h},m=new Intl.DateTimeFormat(i,f).formatToParts(c).find(_=>_.type.toLowerCase()==="timezonename");return m?m.value:null}function tr(n,e){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(e,10)||0,c=i<0||Object.is(i,-0)?-s:s;return i*60+c}function Qi(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Zt(`Invalid unit value ${n}`);return e}function Er(n,e){let i={};for(let s in n)if(Ge(n,s)){let c=n[s];if(c==null)continue;i[e(s)]=Qi(c)}return i}function Ye(n,e){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),c=n>=0?"+":"-";switch(e){case"short":return`${c}${Nt(i,2)}:${Nt(s,2)}`;case"narrow":return`${c}${i}${s>0?`:${s}`:""}`;case"techie":return`${c}${Nt(i,2)}${Nt(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function mn(n){return ha(n,["hour","minute","second","millisecond"])}var vl=["January","February","March","April","May","June","July","August","September","October","November","December"],to=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gl=["J","F","M","A","M","J","J","A","S","O","N","D"];function $i(n){switch(n){case"narrow":return[...gl];case"short":return[...to];case"long":return[...vl];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var eo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ro=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_l=["M","T","W","T","F","S","S"];function Bi(n){switch(n){case"narrow":return[..._l];case"short":return[...ro];case"long":return[...eo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Yi=["AM","PM"],Tl=["Before Christ","Anno Domini"],El=["BC","AD"],wl=["B","A"];function Gi(n){switch(n){case"narrow":return[...wl];case"short":return[...El];case"long":return[...Tl];default:return null}}function da(n){return Yi[n.hour<12?0:1]}function pa(n,e){return Bi(e)[n.weekday-1]}function ma(n,e){return $i(e)[n.month-1]}function ya(n,e){return Gi(e)[n.year<0?0:1]}function ea(n,e,i="always",s=!1){let c={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},h=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&h){let B=n==="days";switch(e){case 1:return B?"tomorrow":`next ${c[n][0]}`;case-1:return B?"yesterday":`last ${c[n][0]}`;case 0:return B?"today":`this ${c[n][0]}`;default:}}let f=Object.is(e,-0)||e<0,m=Math.abs(e),_=m===1,k=c[n],C=s?_?k[1]:k[2]||k[1]:_?c[n][0]:n;return f?`${m} ${C} ago`:`in ${m} ${C}`}function va(n,e){let i="";for(let s of n)s.literal?i+=s.val:i+=e(s.val);return i}var Sl={D:Be,DD:Wr,DDD:Zr,DDDD:$r,t:Br,tt:Yr,ttt:Gr,tttt:Kr,T:Jr,TT:Xr,TTT:Qr,TTTT:tn,f:en,ff:nn,fff:sn,ffff:un,F:rn,FF:on,FFF:an,FFFF:cn},Lt=class{static create(e,i={}){return new Lt(e,i)}static parseFormat(e){let i=null,s="",c=!1,h=[];for(let f=0;f<e.length;f++){let m=e.charAt(f);m==="'"?(s.length>0&&h.push({literal:c,val:s}),i=null,s="",c=!c):c||m===i?s+=m:(s.length>0&&h.push({literal:!1,val:s}),s=m,i=m)}return s.length>0&&h.push({literal:c,val:s}),h}static macroTokenToFormatOpts(e){return Sl[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTime(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTimeParts(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).formatToParts()}formatInterval(e,i={}){return this.loc.dtFormatter(e.start,{...this.opts,...i}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return Nt(e,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){let s=this.loc.listingMode()==="en",c=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",h=(P,mt)=>this.loc.extract(e,P,mt),f=P=>e.isOffsetFixed&&e.offset===0&&P.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,P.format):"",m=()=>s?da(e):h({hour:"numeric",hourCycle:"h12"},"dayperiod"),_=(P,mt)=>s?ma(e,P):h(mt?{month:P}:{month:P,day:"numeric"},"month"),k=(P,mt)=>s?pa(e,P):h(mt?{weekday:P}:{weekday:P,month:"long",day:"numeric"},"weekday"),C=P=>{let mt=Lt.macroTokenToFormatOpts(P);return mt?this.formatWithSystemDefault(e,mt):P},B=P=>s?ya(e,P):h({era:P},"era"),ot=P=>{switch(P){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return m();case"d":return c?h({day:"numeric"},"day"):this.num(e.day);case"dd":return c?h({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return k("short",!0);case"cccc":return k("long",!0);case"ccccc":return k("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return k("short",!1);case"EEEE":return k("long",!1);case"EEEEE":return k("narrow",!1);case"L":return c?h({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return c?h({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return c?h({month:"numeric"},"month"):this.num(e.month);case"MM":return c?h({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return c?h({year:"numeric"},"year"):this.num(e.year);case"yy":return c?h({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return c?h({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return c?h({year:"numeric"},"year"):this.num(e.year,6);case"G":return B("short");case"GG":return B("long");case"GGGGG":return B("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return C(P)}};return va(Lt.parseFormat(i),ot)}formatDurationFromString(e,i){let s=_=>{switch(_[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},c=_=>k=>{let C=s(k);return C?this.num(_.get(C),k.length):k},h=Lt.parseFormat(i),f=h.reduce((_,{literal:k,val:C})=>k?_:_.concat(C),[]),m=e.shiftTo(...f.map(s).filter(_=>_));return va(h,c(m))}};var $t=class{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var _a=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sr(...n){let e=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${e}$`)}function Or(...n){return e=>n.reduce(([i,s,c],h)=>{let[f,m,_]=h(e,c);return[{...i,...f},m||s,_]},[{},null,1]).slice(0,2)}function Ir(n,...e){if(n==null)return[null,null];for(let[i,s]of e){let c=i.exec(n);if(c)return s(c)}return[null,null]}function Ta(...n){return(e,i)=>{let s={},c;for(c=0;c<n.length;c++)s[n[c]]=qe(e[i+c]);return[s,null,i+c]}}var Ea=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ol=`(?:${Ea.source}?(?:\\[(${_a.source})\\])?)?`,no=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wa=RegExp(`${no.source}${Ol}`),io=RegExp(`(?:T${wa.source})?`),Il=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Dl=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ml=/(\d{4})-?(\d{3})/,xl=Ta("weekYear","weekNumber","weekDay"),kl=Ta("year","ordinal"),bl=/(\d{4})-(\d\d)-(\d\d)/,Sa=RegExp(`${no.source} ?(?:${Ea.source}|(${_a.source}))?`),Al=RegExp(`(?: ${Sa.source})?`);function wr(n,e,i){let s=n[e];return nt(s)?i:qe(s)}function Nl(n,e){return[{year:wr(n,e),month:wr(n,e+1,1),day:wr(n,e+2,1)},null,e+3]}function Dr(n,e){return[{hours:wr(n,e,0),minutes:wr(n,e+1,0),seconds:wr(n,e+2,0),milliseconds:dn(n[e+3])},null,e+4]}function yn(n,e){let i=!n[e]&&!n[e+1],s=tr(n[e+1],n[e+2]),c=i?null:Ft.instance(s);return[{},c,e+3]}function vn(n,e){let i=n[e]?Pt.create(n[e]):null;return[{},i,e+1]}var Fl=RegExp(`^T?${no.source}$`),Ll=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Rl(n){let[e,i,s,c,h,f,m,_,k]=n,C=e[0]==="-",B=_&&_[0]==="-",ot=(P,mt=!1)=>P!==void 0&&(mt||P&&C)?-P:P;return[{years:ot(Ke(i)),months:ot(Ke(s)),weeks:ot(Ke(c)),days:ot(Ke(h)),hours:ot(Ke(f)),minutes:ot(Ke(m)),seconds:ot(Ke(_),_==="-0"),milliseconds:ot(dn(k),B)}]}var zl={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function oo(n,e,i,s,c,h,f){let m={year:e.length===2?pn(qe(e)):qe(e),month:to.indexOf(i)+1,day:qe(s),hour:qe(c),minute:qe(h)};return f&&(m.second=qe(f)),n&&(m.weekday=n.length>3?eo.indexOf(n)+1:ro.indexOf(n)+1),m}var Cl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ul(n){let[,e,i,s,c,h,f,m,_,k,C,B]=n,ot=oo(e,c,s,i,h,f,m),P;return _?P=zl[_]:k?P=0:P=tr(C,B),[ot,new Ft(P)]}function jl(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Vl=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ql=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Pl=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ga(n){let[,e,i,s,c,h,f,m]=n;return[oo(e,c,s,i,h,f,m),Ft.utcInstance]}function Hl(n){let[,e,i,s,c,h,f,m]=n;return[oo(e,m,i,s,c,h,f),Ft.utcInstance]}var Wl=Sr(Il,io),Zl=Sr(Dl,io),$l=Sr(Ml,io),Bl=Sr(wa),Oa=Or(Nl,Dr,yn,vn),Yl=Or(xl,Dr,yn,vn),Gl=Or(kl,Dr,yn,vn),Kl=Or(Dr,yn,vn);function Ia(n){return Ir(n,[Wl,Oa],[Zl,Yl],[$l,Gl],[Bl,Kl])}function Da(n){return Ir(jl(n),[Cl,Ul])}function Ma(n){return Ir(n,[Vl,ga],[ql,ga],[Pl,Hl])}function xa(n){return Ir(n,[Ll,Rl])}var Jl=Or(Dr);function ka(n){return Ir(n,[Fl,Jl])}var Xl=Sr(bl,Al),Ql=Sr(Sa),tf=Or(Dr,yn,vn);function ba(n){return Ir(n,[Xl,Oa],[Ql,tf])}var ef="Invalid Duration",Aa={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},rf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Aa},Te=146097/400,Mr=146097/4800,nf={years:{quarters:4,months:12,weeks:Te/7,days:Te,hours:Te*24,minutes:Te*24*60,seconds:Te*24*60*60,milliseconds:Te*24*60*60*1e3},quarters:{months:3,weeks:Te/28,days:Te/4,hours:Te*24/4,minutes:Te*24*60/4,seconds:Te*24*60*60/4,milliseconds:Te*24*60*60*1e3/4},months:{weeks:Mr/7,days:Mr,hours:Mr*24,minutes:Mr*24*60,seconds:Mr*24*60*60,milliseconds:Mr*24*60*60*1e3},...Aa},nr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],of=nr.slice(0).reverse();function Je(n,e,i=!1){let s={values:i?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new it(s)}function sf(n){return n<0?Math.floor(n):Math.ceil(n)}function Na(n,e,i,s,c){let h=n[c][i],f=e[i]/h,m=Math.sign(f)===Math.sign(s[c]),_=!m&&s[c]!==0&&Math.abs(f)<=1?sf(f):Math.trunc(f);s[c]+=_,e[i]-=_*h}function af(n,e){of.reduce((i,s)=>nt(e[s])?i:(i&&Na(n,e,i,e,s),s),null)}function uf(n){let e={};for(let[i,s]of Object.entries(n))s!==0&&(e[i]=s);return e}var it=class{constructor(e){let i=e.conversionAccuracy==="longterm"||!1,s=i?nf:rf;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||yt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,i){return it.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Zt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new it({values:Er(e,it.normalizeUnit),loc:yt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(ze(e))return it.fromMillis(e);if(it.isDuration(e))return e;if(typeof e=="object")return it.fromObject(e);throw new Zt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){let[s]=xa(e);return s?it.fromObject(s,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){let[s]=ka(e);return s?it.fromObject(s,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Zt("need to specify a reason the Duration is invalid");let s=e instanceof $t?e:new $t(e,i);if(_t.throwOnInvalid)throw new Rn(s);return new it({invalid:s})}static normalizeUnit(e){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new yr(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Lt.create(this.loc,s).formatDurationFromString(this,e):ef}toHuman(e={}){let i=nr.map(s=>{let c=this.values[s];return nt(c)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(c)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=vr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let i=this.toMillis();if(i<0||i>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let s=this.shiftTo("hours","minutes","seconds","milliseconds"),c=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(c+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||s.milliseconds!==0)&&(c+=".SSS"));let h=s.toFormat(c);return e.includePrefix&&(h="T"+h),h}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e),s={};for(let c of nr)(Ge(i.values,c)||Ge(this.values,c))&&(s[c]=i.get(c)+this.get(c));return Je(this,{values:s},!0)}minus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=Qi(e(this.values[s],s));return Je(this,{values:i},!0)}get(e){return this[it.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let i={...this.values,...Er(e,it.normalizeUnit)};return Je(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:s,matrix:c}={}){let f={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:c,conversionAccuracy:s};return Je(this,f)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return af(this.matrix,e),Je(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=uf(this.normalize().shiftToAll().toObject());return Je(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(f=>it.normalizeUnit(f));let i={},s={},c=this.toObject(),h;for(let f of nr)if(e.indexOf(f)>=0){h=f;let m=0;for(let k in s)m+=this.matrix[k][f]*s[k],s[k]=0;ze(c[f])&&(m+=c[f]);let _=Math.trunc(m);i[f]=_,s[f]=(m*1e3-_*1e3)/1e3;for(let k in c)nr.indexOf(k)>nr.indexOf(f)&&Na(this.matrix,c,k,i,f)}else ze(c[f])&&(s[f]=c[f]);for(let f in s)s[f]!==0&&(i[h]+=f===h?s[f]:s[f]/this.matrix[h][f]);return Je(this,{values:i},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Je(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(s,c){return s===void 0||s===0?c===void 0||c===0:s===c}for(let s of nr)if(!i(this.values[s],e.values[s]))return!1;return!0}};var xr="Invalid Interval";function cf(n,e){return!n||!n.isValid?It.invalid("missing or invalid start"):!e||!e.isValid?It.invalid("missing or invalid end"):e<n?It.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var It=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Zt("need to specify a reason the Interval is invalid");let s=e instanceof $t?e:new $t(e,i);if(_t.throwOnInvalid)throw new Ln(s);return new It({invalid:s})}static fromDateTimes(e,i){let s=kr(e),c=kr(i),h=cf(s,c);return h??new It({start:s,end:c})}static after(e,i){let s=it.fromDurationLike(i),c=kr(e);return It.fromDateTimes(c,c.plus(s))}static before(e,i){let s=it.fromDurationLike(i),c=kr(e);return It.fromDateTimes(c.minus(s),c)}static fromISO(e,i){let[s,c]=(e||"").split("/",2);if(s&&c){let h,f;try{h=$.fromISO(s,i),f=h.isValid}catch{f=!1}let m,_;try{m=$.fromISO(c,i),_=m.isValid}catch{_=!1}if(f&&_)return It.fromDateTimes(h,m);if(f){let k=it.fromISO(c,i);if(k.isValid)return It.after(h,k)}else if(_){let k=it.fromISO(s,i);if(k.isValid)return It.before(m,k)}}return It.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let i=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(i,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?It.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];let i=e.map(kr).filter(f=>this.contains(f)).sort(),s=[],{s:c}=this,h=0;for(;c<this.e;){let f=i[h]||this.e,m=+f>+this.e?this.e:f;s.push(It.fromDateTimes(c,m)),c=m,h+=1}return s}splitBy(e){let i=it.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,c=1,h,f=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(_=>_*c));h=+m>+this.e?this.e:m,f.push(It.fromDateTimes(s,h)),s=h,c+=1}return f}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let i=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return i>=s?null:It.fromDateTimes(i,s)}union(e){if(!this.isValid)return this;let i=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return It.fromDateTimes(i,s)}static merge(e){let[i,s]=e.sort((c,h)=>c.s-h.s).reduce(([c,h],f)=>h?h.overlaps(f)||h.abutsStart(f)?[c,h.union(f)]:[c.concat([h]),f]:[c,f],[[],null]);return s&&i.push(s),i}static xor(e){let i=null,s=0,c=[],h=e.map(_=>[{time:_.s,type:"s"},{time:_.e,type:"e"}]),f=Array.prototype.concat(...h),m=f.sort((_,k)=>_.time-k.time);for(let _ of m)s+=_.type==="s"?1:-1,s===1?i=_.time:(i&&+i!=+_.time&&c.push(It.fromDateTimes(i,_.time)),i=null);return It.merge(c)}difference(...e){return It.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:xr}toLocaleString(e=Be,i={}){return this.isValid?Lt.create(this.s.loc.clone(i),e).formatInterval(this):xr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:xr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:xr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:xr}toFormat(e,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:xr}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):it.invalid(this.invalidReason)}mapEndpoints(e){return It.fromDateTimes(e(this.s),e(this.e))}};var Pe=class{static hasDST(e=_t.defaultZone){let i=$.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Pt.isValidZone(e)}static normalizeZone(e){return ke(e,_t.defaultZone)}static months(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:h="gregory"}={}){return(c||yt.create(i,s,h)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:h="gregory"}={}){return(c||yt.create(i,s,h)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||yt.create(i,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||yt.create(i,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return yt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return yt.create(i,null,"gregory").eras(e)}static features(){return{relative:qn()}}};function Fa(n,e){let i=c=>c.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(e)-i(n);return Math.floor(it.fromMillis(s).as("days"))}function lf(n,e,i){let s=[["years",(_,k)=>k.year-_.year],["quarters",(_,k)=>k.quarter-_.quarter+(k.year-_.year)*4],["months",(_,k)=>k.month-_.month+(k.year-_.year)*12],["weeks",(_,k)=>{let C=Fa(_,k);return(C-C%7)/7}],["days",Fa]],c={},h=n,f,m;for(let[_,k]of s)i.indexOf(_)>=0&&(f=_,c[_]=k(n,e),m=h.plus(c),m>e?(c[_]--,n=h.plus(c)):n=m);return[n,c,m,f]}function La(n,e,i,s){let[c,h,f,m]=lf(n,e,i),_=e-c,k=i.filter(B=>["hours","minutes","seconds","milliseconds"].indexOf(B)>=0);k.length===0&&(f<e&&(f=c.plus({[m]:1})),f!==c&&(h[m]=(h[m]||0)+_/(f-c)));let C=it.fromObject(h,s);return k.length>0?it.fromMillis(_,s).shiftTo(...k).plus(C):C}var so={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Ra={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ff=so.hanidec.replace(/[\[|\]]/g,"").split("");function za(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(so.hanidec)!==-1)e+=ff.indexOf(n[i]);else for(let c in Ra){let[h,f]=Ra[c];s>=h&&s<=f&&(e+=s-h)}}return parseInt(e,10)}else return e}function Ee({numberingSystem:n},e=""){return new RegExp(`${so[n||"latn"]}${e}`)}var hf="missing Intl.DateTimeFormat.formatToParts support";function gt(n,e=i=>i){return{regex:n,deser:([i])=>e(za(i))}}var df=String.fromCharCode(160),ja=`[ ${df}]`,Va=new RegExp(ja,"g");function pf(n){return n.replace(/\./g,"\\.?").replace(Va,ja)}function Ca(n){return n.replace(/\./g,"").replace(Va," ").toLowerCase()}function be(n,e){return n===null?null:{regex:RegExp(n.map(pf).join("|")),deser:([i])=>n.findIndex(s=>Ca(i)===Ca(s))+e}}function Ua(n,e){return{regex:n,deser:([,i,s])=>tr(i,s),groups:e}}function ao(n){return{regex:n,deser:([e])=>e}}function mf(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function yf(n,e){let i=Ee(e),s=Ee(e,"{2}"),c=Ee(e,"{3}"),h=Ee(e,"{4}"),f=Ee(e,"{6}"),m=Ee(e,"{1,2}"),_=Ee(e,"{1,3}"),k=Ee(e,"{1,6}"),C=Ee(e,"{1,9}"),B=Ee(e,"{2,4}"),ot=Ee(e,"{4,6}"),P=wt=>({regex:RegExp(mf(wt.val)),deser:([Rt])=>Rt,literal:!0}),Dt=(wt=>{if(n.literal)return P(wt);switch(wt.val){case"G":return be(e.eras("short",!1),0);case"GG":return be(e.eras("long",!1),0);case"y":return gt(k);case"yy":return gt(B,pn);case"yyyy":return gt(h);case"yyyyy":return gt(ot);case"yyyyyy":return gt(f);case"M":return gt(m);case"MM":return gt(s);case"MMM":return be(e.months("short",!0,!1),1);case"MMMM":return be(e.months("long",!0,!1),1);case"L":return gt(m);case"LL":return gt(s);case"LLL":return be(e.months("short",!1,!1),1);case"LLLL":return be(e.months("long",!1,!1),1);case"d":return gt(m);case"dd":return gt(s);case"o":return gt(_);case"ooo":return gt(c);case"HH":return gt(s);case"H":return gt(m);case"hh":return gt(s);case"h":return gt(m);case"mm":return gt(s);case"m":return gt(m);case"q":return gt(m);case"qq":return gt(s);case"s":return gt(m);case"ss":return gt(s);case"S":return gt(_);case"SSS":return gt(c);case"u":return ao(C);case"uu":return ao(m);case"uuu":return gt(i);case"a":return be(e.meridiems(),0);case"kkkk":return gt(h);case"kk":return gt(B,pn);case"W":return gt(m);case"WW":return gt(s);case"E":case"c":return gt(i);case"EEE":return be(e.weekdays("short",!1,!1),1);case"EEEE":return be(e.weekdays("long",!1,!1),1);case"ccc":return be(e.weekdays("short",!0,!1),1);case"cccc":return be(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ua(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return Ua(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return ao(/[a-z_+-/]{1,256}?/i);default:return P(wt)}})(n)||{invalidReason:hf};return Dt.token=n,Dt}var vf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function gf(n,e){let{type:i,value:s}=n;if(i==="literal")return{literal:!0,val:s};let c=e[i],h=vf[i];if(typeof h=="object"&&(h=h[c]),h)return{literal:!1,val:h}}function _f(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function Tf(n,e,i){let s=n.match(e);if(s){let c={},h=1;for(let f in i)if(Ge(i,f)){let m=i[f],_=m.groups?m.groups+1:1;!m.literal&&m.token&&(c[m.token.val[0]]=m.deser(s.slice(h,h+_))),h+=_}return[s,c]}else return[s,{}]}function Ef(n){let e=h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return nt(n.z)||(i=Pt.create(n.z)),nt(n.Z)||(i||(i=new Ft(n.Z)),s=n.Z),nt(n.q)||(n.M=(n.q-1)*3+1),nt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),nt(n.u)||(n.S=dn(n.u)),[Object.keys(n).reduce((h,f)=>{let m=e(f);return m&&(h[m]=n[f]),h},{}),i,s]}var uo=null;function wf(){return uo||(uo=$.fromMillis(1555555555555)),uo}function Sf(n,e){if(n.literal)return n;let i=Lt.macroTokenToFormatOpts(n.val),s=fo(i,e);return s==null||s.includes(void 0)?n:s}function co(n,e){return Array.prototype.concat(...n.map(i=>Sf(i,e)))}function lo(n,e,i){let s=co(Lt.parseFormat(i),n),c=s.map(f=>yf(f,n)),h=c.find(f=>f.invalidReason);if(h)return{input:e,tokens:s,invalidReason:h.invalidReason};{let[f,m]=_f(c),_=RegExp(f,"i"),[k,C]=Tf(e,_,m),[B,ot,P]=C?Ef(C):[null,null,void 0];if(Ge(C,"a")&&Ge(C,"H"))throw new Ve("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:_,rawMatches:k,matches:C,result:B,zone:ot,specificOffset:P}}}function qa(n,e,i){let{result:s,zone:c,specificOffset:h,invalidReason:f}=lo(n,e,i);return[s,c,h,f]}function fo(n,e){return n?Lt.create(e,n).formatDateTimeParts(wf()).map(c=>gf(c,n)):null}var Pa=[0,31,59,90,120,151,181,212,243,273,304,334],Ha=[0,31,60,91,121,152,182,213,244,274,305,335];function we(n,e){return new $t("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Wa(n,e,i){let s=new Date(Date.UTC(n,e-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let c=s.getUTCDay();return c===0?7:c}function Za(n,e,i){return i+(er(n)?Ha:Pa)[e-1]}function $a(n,e){let i=er(n)?Ha:Pa,s=i.findIndex(h=>h<e),c=e-i[s];return{month:s+1,day:c}}function Pn(n){let{year:e,month:i,day:s}=n,c=Za(e,i,s),h=Wa(e,i,s),f=Math.floor((c-h+10)/7),m;return f<1?(m=e-1,f=Tr(m)):f>Tr(e)?(m=e+1,f=1):m=e,{weekYear:m,weekNumber:f,weekday:h,...mn(n)}}function ho(n){let{weekYear:e,weekNumber:i,weekday:s}=n,c=Wa(e,1,4),h=rr(e),f=i*7+s-c-3,m;f<1?(m=e-1,f+=rr(m)):f>h?(m=e+1,f-=rr(e)):m=e;let{month:_,day:k}=$a(m,f);return{year:m,month:_,day:k,...mn(n)}}function Hn(n){let{year:e,month:i,day:s}=n,c=Za(e,i,s);return{year:e,ordinal:c,...mn(n)}}function po(n){let{year:e,ordinal:i}=n,{month:s,day:c}=$a(e,i);return{year:e,month:s,day:c,...mn(n)}}function Ba(n){let e=hn(n.weekYear),i=Ce(n.weekNumber,1,Tr(n.weekYear)),s=Ce(n.weekday,1,7);return e?i?s?!1:we("weekday",n.weekday):we("week",n.week):we("weekYear",n.weekYear)}function Ya(n){let e=hn(n.year),i=Ce(n.ordinal,1,rr(n.year));return e?i?!1:we("ordinal",n.ordinal):we("year",n.year)}function mo(n){let e=hn(n.year),i=Ce(n.month,1,12),s=Ce(n.day,1,_r(n.year,n.month));return e?i?s?!1:we("day",n.day):we("month",n.month):we("year",n.year)}function yo(n){let{hour:e,minute:i,second:s,millisecond:c}=n,h=Ce(e,0,23)||e===24&&i===0&&s===0&&c===0,f=Ce(i,0,59),m=Ce(s,0,59),_=Ce(c,0,999);return h?f?m?_?!1:we("millisecond",c):we("second",s):we("minute",i):we("hour",e)}var vo="Invalid DateTime",Ga=864e13;function Wn(n){return new $t("unsupported zone",`the zone "${n.name}" is not supported`)}function go(n){return n.weekData===null&&(n.weekData=Pn(n.c)),n.weekData}function gn(n,e){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new $({...i,...e,old:i})}function nu(n,e,i){let s=n-e*60*1e3,c=i.offset(s);if(e===c)return[s,e];s-=(c-e)*60*1e3;let h=i.offset(s);return c===h?[s,c]:[n-Math.min(c,h)*60*1e3,Math.max(c,h)]}function Ka(n,e){n+=e*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function $n(n,e,i){return nu(ln(n),e,i)}function Ja(n,e){let i=n.o,s=n.c.year+Math.trunc(e.years),c=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,h={...n.c,year:s,month:c,day:Math.min(n.c.day,_r(s,c))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},f=it.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),m=ln(h),[_,k]=nu(m,i,n.zone);return f!==0&&(_+=f,k=n.zone.offset(_)),{ts:_,o:k}}function _n(n,e,i,s,c,h){let{setZone:f,zone:m}=i;if(n&&Object.keys(n).length!==0){let _=e||m,k=$.fromObject(n,{...i,zone:_,specificOffset:h});return f?k:k.setZone(m)}else return $.invalid(new $t("unparsable",`the input "${c}" can't be parsed as ${s}`))}function Zn(n,e,i=!0){return n.isValid?Lt.create(yt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,e):null}function _o(n,e){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=Nt(n.c.year,i?6:4),e?(s+="-",s+=Nt(n.c.month),s+="-",s+=Nt(n.c.day)):(s+=Nt(n.c.month),s+=Nt(n.c.day)),s}function Xa(n,e,i,s,c,h){let f=Nt(n.c.hour);return e?(f+=":",f+=Nt(n.c.minute),(n.c.second!==0||!i)&&(f+=":")):f+=Nt(n.c.minute),(n.c.second!==0||!i)&&(f+=Nt(n.c.second),(n.c.millisecond!==0||!s)&&(f+=".",f+=Nt(n.c.millisecond,3))),c&&(n.isOffsetFixed&&n.offset===0&&!h?f+="Z":n.o<0?(f+="-",f+=Nt(Math.trunc(-n.o/60)),f+=":",f+=Nt(Math.trunc(-n.o%60))):(f+="+",f+=Nt(Math.trunc(n.o/60)),f+=":",f+=Nt(Math.trunc(n.o%60)))),h&&(f+="["+n.zone.ianaName+"]"),f}var iu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Of={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},If={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ou=["year","month","day","hour","minute","second","millisecond"],Df=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Mf=["year","ordinal","hour","minute","second","millisecond"];function Qa(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new yr(n);return e}function tu(n,e){let i=ke(e.zone,_t.defaultZone),s=yt.fromObject(e),c=_t.now(),h,f;if(nt(n.year))h=c;else{for(let k of ou)nt(n[k])&&(n[k]=iu[k]);let m=mo(n)||yo(n);if(m)return $.invalid(m);let _=i.offset(c);[h,f]=$n(n,_,i)}return new $({ts:h,zone:i,loc:s,o:f})}function eu(n,e,i){let s=nt(i.round)?!0:i.round,c=(f,m)=>(f=vr(f,s||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(f,m)),h=f=>i.calendary?e.hasSame(n,f)?0:e.startOf(f).diff(n.startOf(f),f).get(f):e.diff(n,f).get(f);if(i.unit)return c(h(i.unit),i.unit);for(let f of i.units){let m=h(f);if(Math.abs(m)>=1)return c(m,f)}return c(n>e?-0:0,i.units[i.units.length-1])}function ru(n){let e={},i;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[e,i]}var $=class{constructor(e){let i=e.zone||_t.defaultZone,s=e.invalid||(Number.isNaN(e.ts)?new $t("invalid input"):null)||(i.isValid?null:Wn(i));this.ts=nt(e.ts)?_t.now():e.ts;let c=null,h=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[c,h]=[e.old.c,e.old.o];else{let m=i.offset(this.ts);c=Ka(this.ts,m),s=Number.isNaN(c.year)?new $t("invalid input"):null,c=s?null:c,h=s?null:m}this._zone=i,this.loc=e.loc||yt.create(),this.invalid=s,this.weekData=null,this.c=c,this.o=h,this.isLuxonDateTime=!0}static now(){return new $({})}static local(){let[e,i]=ru(arguments),[s,c,h,f,m,_,k]=i;return tu({year:s,month:c,day:h,hour:f,minute:m,second:_,millisecond:k},e)}static utc(){let[e,i]=ru(arguments),[s,c,h,f,m,_,k]=i;return e.zone=Ft.utcInstance,tu({year:s,month:c,day:h,hour:f,minute:m,second:_,millisecond:k},e)}static fromJSDate(e,i={}){let s=la(e)?e.valueOf():NaN;if(Number.isNaN(s))return $.invalid("invalid input");let c=ke(i.zone,_t.defaultZone);return c.isValid?new $({ts:s,zone:c,loc:yt.fromObject(i)}):$.invalid(Wn(c))}static fromMillis(e,i={}){if(ze(e))return e<-Ga||e>Ga?$.invalid("Timestamp out of range"):new $({ts:e,zone:ke(i.zone,_t.defaultZone),loc:yt.fromObject(i)});throw new Zt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(ze(e))return new $({ts:e*1e3,zone:ke(i.zone,_t.defaultZone),loc:yt.fromObject(i)});throw new Zt("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};let s=ke(i.zone,_t.defaultZone);if(!s.isValid)return $.invalid(Wn(s));let c=_t.now(),h=nt(i.specificOffset)?s.offset(c):i.specificOffset,f=Er(e,Qa),m=!nt(f.ordinal),_=!nt(f.year),k=!nt(f.month)||!nt(f.day),C=_||k,B=f.weekYear||f.weekNumber,ot=yt.fromObject(i);if((C||m)&&B)throw new Ve("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(k&&m)throw new Ve("Can't mix ordinal dates with month/day");let P=B||f.weekday&&!C,mt,Dt,wt=Ka(c,h);P?(mt=Df,Dt=Of,wt=Pn(wt)):m?(mt=Mf,Dt=If,wt=Hn(wt)):(mt=ou,Dt=iu);let Rt=!1;for(let Se of mt){let Ar=f[Se];nt(Ar)?Rt?f[Se]=Dt[Se]:f[Se]=wt[Se]:Rt=!0}let Bt=P?Ba(f):m?Ya(f):mo(f),He=Bt||yo(f);if(He)return $.invalid(He);let oe=P?ho(f):m?po(f):f,[se,br]=$n(oe,h,s),ue=new $({ts:se,zone:s,o:br,loc:ot});return f.weekday&&C&&e.weekday!==ue.weekday?$.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${ue.toISO()}`):ue}static fromISO(e,i={}){let[s,c]=Ia(e);return _n(s,c,i,"ISO 8601",e)}static fromRFC2822(e,i={}){let[s,c]=Da(e);return _n(s,c,i,"RFC 2822",e)}static fromHTTP(e,i={}){let[s,c]=Ma(e);return _n(s,c,i,"HTTP",i)}static fromFormat(e,i,s={}){if(nt(e)||nt(i))throw new Zt("fromFormat requires an input string and a format");let{locale:c=null,numberingSystem:h=null}=s,f=yt.fromOpts({locale:c,numberingSystem:h,defaultToEN:!0}),[m,_,k,C]=qa(f,e,i);return C?$.invalid(C):_n(m,_,s,`format ${i}`,e,k)}static fromString(e,i,s={}){return $.fromFormat(e,i,s)}static fromSQL(e,i={}){let[s,c]=ba(e);return _n(s,c,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Zt("need to specify a reason the DateTime is invalid");let s=e instanceof $t?e:new $t(e,i);if(_t.throwOnInvalid)throw new Fn(s);return new $({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){let s=fo(e,yt.fromObject(i));return s?s.map(c=>c?c.val:null).join(""):null}static expandFormat(e,i={}){return co(Lt.parseFormat(e),yt.fromObject(i)).map(c=>c.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?go(this).weekYear:NaN}get weekNumber(){return this.isValid?go(this).weekNumber:NaN}get weekday(){return this.isValid?go(this).weekday:NaN}get ordinal(){return this.isValid?Hn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pe.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pe.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pe.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pe.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return er(this.year)}get daysInMonth(){return _r(this.year,this.month)}get daysInYear(){return this.isValid?rr(this.year):NaN}get weeksInWeekYear(){return this.isValid?Tr(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:i,numberingSystem:s,calendar:c}=Lt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:c}}toUTC(e=0,i={}){return this.setZone(Ft.instance(e),i)}toLocal(){return this.setZone(_t.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(e=ke(e,_t.defaultZone),e.equals(this.zone))return this;if(e.isValid){let c=this.ts;if(i||s){let h=e.offset(this.ts),f=this.toObject();[c]=$n(f,h,e)}return gn(this,{ts:c,zone:e})}else return $.invalid(Wn(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:s}={}){let c=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:s});return gn(this,{loc:c})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let i=Er(e,Qa),s=!nt(i.weekYear)||!nt(i.weekNumber)||!nt(i.weekday),c=!nt(i.ordinal),h=!nt(i.year),f=!nt(i.month)||!nt(i.day),m=h||f,_=i.weekYear||i.weekNumber;if((m||c)&&_)throw new Ve("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new Ve("Can't mix ordinal dates with month/day");let k;s?k=ho({...Pn(this.c),...i}):nt(i.ordinal)?(k={...this.toObject(),...i},nt(i.day)&&(k.day=Math.min(_r(k.year,k.month),k.day))):k=po({...Hn(this.c),...i});let[C,B]=$n(k,this.o,this.zone);return gn(this,{ts:C,o:B})}plus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e);return gn(this,Ja(this,i))}minus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e).negate();return gn(this,Ja(this,i))}startOf(e){if(!this.isValid)return this;let i={},s=it.normalizeUnit(e);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){let c=Math.ceil(this.month/3);i.month=(c-1)*3+1}return this.set(i)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,i={}){return this.isValid?Lt.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):vo}toLocaleString(e=Be,i={}){return this.isValid?Lt.create(this.loc.clone(i),e).formatDateTime(this):vo}toLocaleParts(e={}){return this.isValid?Lt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:c=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;let f=e==="extended",m=_o(this,f);return m+="T",m+=Xa(this,f,i,s,c,h),m}toISODate({format:e="extended"}={}){return this.isValid?_o(this,e==="extended"):null}toISOWeekDate(){return Zn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:c=!1,extendedZone:h=!1,format:f="extended"}={}){return this.isValid?(c?"T":"")+Xa(this,f==="extended",i,e,s,h):null}toRFC2822(){return Zn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Zn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?_o(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let c="HH:mm:ss.SSS";return(i||e)&&(s&&(c+=" "),i?c+="z":e&&(c+="ZZ")),Zn(this,c,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():vo}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",s={}){if(!this.isValid||!e.isValid)return it.invalid("created by diffing an invalid DateTime");let c={locale:this.locale,numberingSystem:this.numberingSystem,...s},h=fa(i).map(it.normalizeUnit),f=e.valueOf()>this.valueOf(),m=f?this:e,_=f?e:this,k=La(m,_,h,c);return f?k.negate():k}diffNow(e="milliseconds",i={}){return this.diff($.now(),e,i)}until(e){return this.isValid?It.fromDateTimes(this,e):this}hasSame(e,i){if(!this.isValid)return!1;let s=e.valueOf(),c=this.setZone(e.zone,{keepLocalTime:!0});return c.startOf(i)<=s&&s<=c.endOf(i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let i=e.base||$.fromObject({},{zone:this.zone}),s=e.padding?this<i?-e.padding:e.padding:0,c=["years","months","days","hours","minutes","seconds"],h=e.unit;return Array.isArray(e.unit)&&(c=e.unit,h=void 0),eu(i,this.plus(s),{...e,numeric:"always",units:c,unit:h})}toRelativeCalendar(e={}){return this.isValid?eu(e.base||$.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every($.isDateTime))throw new Zt("min requires all arguments be DateTimes");return Xi(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every($.isDateTime))throw new Zt("max requires all arguments be DateTimes");return Xi(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,s={}){let{locale:c=null,numberingSystem:h=null}=s,f=yt.fromOpts({locale:c,numberingSystem:h,defaultToEN:!0});return lo(f,e,i)}static fromStringExplain(e,i,s={}){return $.fromFormatExplain(e,i,s)}static get DATE_SHORT(){return Be}static get DATE_MED(){return Wr}static get DATE_MED_WITH_WEEKDAY(){return zi}static get DATE_FULL(){return Zr}static get DATE_HUGE(){return $r}static get TIME_SIMPLE(){return Br}static get TIME_WITH_SECONDS(){return Yr}static get TIME_WITH_SHORT_OFFSET(){return Gr}static get TIME_WITH_LONG_OFFSET(){return Kr}static get TIME_24_SIMPLE(){return Jr}static get TIME_24_WITH_SECONDS(){return Xr}static get TIME_24_WITH_SHORT_OFFSET(){return Qr}static get TIME_24_WITH_LONG_OFFSET(){return tn}static get DATETIME_SHORT(){return en}static get DATETIME_SHORT_WITH_SECONDS(){return rn}static get DATETIME_MED(){return nn}static get DATETIME_MED_WITH_SECONDS(){return on}static get DATETIME_MED_WITH_WEEKDAY(){return Ci}static get DATETIME_FULL(){return sn}static get DATETIME_FULL_WITH_SECONDS(){return an}static get DATETIME_HUGE(){return un}static get DATETIME_HUGE_WITH_SECONDS(){return cn}};function kr(n){if($.isDateTime(n))return n;if(n&&n.valueOf&&ze(n.valueOf()))return $.fromJSDate(n);if(n&&typeof n=="object")return $.fromObject(n);throw new Zt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var ie=Qs(au(),1);var Yn,xf=new Uint8Array(16);function To(){if(!Yn&&(Yn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yn(xf)}var Jt=[];for(let n=0;n<256;++n)Jt.push((n+256).toString(16).slice(1));function uu(n,e=0){return(Jt[n[e+0]]+Jt[n[e+1]]+Jt[n[e+2]]+Jt[n[e+3]]+"-"+Jt[n[e+4]]+Jt[n[e+5]]+"-"+Jt[n[e+6]]+Jt[n[e+7]]+"-"+Jt[n[e+8]]+Jt[n[e+9]]+"-"+Jt[n[e+10]]+Jt[n[e+11]]+Jt[n[e+12]]+Jt[n[e+13]]+Jt[n[e+14]]+Jt[n[e+15]]).toLowerCase()}var kf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Eo={randomUUID:kf};function bf(n,e,i){if(Eo.randomUUID&&!e&&!n)return Eo.randomUUID();n=n||{};let s=n.random||(n.rng||To)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){i=i||0;for(let c=0;c<16;++c)e[i+c]=s[c];return e}return uu(s)}var wo=bf;var Af=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),So={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},Nf={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},Ff=[2,3,4,9,10,11],Lf=[4,5,6,10,11,12,1],Rf={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},zf={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function Cf(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,Af)}function cu(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function Oo(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function Uf(n){return e=>e.set({hour:n.hour,minute:n.minute})}var Io=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,jf=new RegExp(Io);function Vf(n){return jf.test(n)}var qf=`${Object.keys(So).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${Io}|\\(|\\)`;function Pf(n,e){let i=!0,s=parseInt(n[2]),c=parseInt(e[2]),h=parseInt(n[3]+n[2]+n[1]),f=parseInt(e[3]+e[2]+e[1]);return(Ff.indexOf(s)===-1||Lf.indexOf(c)===-1||s>12||c>12||h>f)&&(i=!1),i}function lu(n){let e=n.split("-"),i=parseInt(e[2]),s=Nf[e[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let c=parseInt(e[0]);return $.fromObject({year:i,month:s,day:c,hour:12,minute:0},{zone:"Europe/Rome"})}function Hf(n,e){let i=[];for(let h of e)h[3]!==void 0&&i.push(h[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,c=[...n.matchAll(s)];for(let h of c)i.push(h[1].trim());return i=[...new Set(i)],i}function fu(n,e){let i=null,s=zf[Rf[n]||"en"];e.length===1?i="one":e.length>1&&(i="many");let c="";return i!=null&&(c=s[i]),c}function Wf(n,e,i){let s=[],c=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2}), (.+?(?=\sin\s|\sClassroom\s|\sAula\s))(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,h=[...n.split(c)];h.splice(0,1);let f=8,m=h.length/f;for(let _=0;_<m;_++){let k=h[_*f+1],C=h[_*f+2],B=h[_*f+3],ot=h[_*f+4],P=h[_*f+5];P=P[0].toUpperCase()+P.substring(1);let mt=h[_*f+6],Dt=h[_*f+7].split(`

`)[0].trim().split(`
`);Dt=Dt.filter(Vf);let wt=lu(Dt.splice(0,1)[0]),Rt=wt.set({hour:k,minute:C}),Bt=wt.set({hour:B,minute:ot}),He=fu(P,e),oe={summary:i,start:Rt,end:Bt,dtstamp:$.now(),location:mt,description:P+`
`+He+`
`+e.join(`
`)};Dt.length>0&&(oe.rdate=Dt.map(lu).map(Uf(Rt)).map(Oo).join(",")),s.push(oe)}return{data:s,error:null}}function Zf(n,e,i,s,c){e.lastIndex=0;let h=[...n.matchAll(e)];if(h.length>1){let f=[],m="";for(let C of n.split(`
`))i.test(C)?(m=m.trim(),m!==""&&f.push(m),m=C):m+=`
`+C;m=m.trim(),m!==""&&f.push(m);let _=Kn(f[0],s),k=Kn(f.slice(1).join(`
`),s);return{data:[..._.data,...k.data],error:_.error||k.error}}else if(h.length===1){let f=h[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,_=m.exec(f[2]),k=m.exec(f[3]),B=Pf(_,k)?"dd/MM/yyyy":"MM/dd/yyyy",ot=$.fromFormat(f[2],B,{zone:"Europe/Rome"}),P=$.fromFormat(f[3],B,{zone:"Europe/Rome"});if(ot.invalid!==null||P.invalid!=null)return{data:[],error:ot.invalid||P.invalid};if(ot.valueOf()>P.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${ot} > ${P})`};let mt=[],Dt=/\n[^\n]+\n?([\s\S]*)/.exec(n);if(Dt!==null&&Dt[1]!==""){let wt=Dt[1].trim().split(`

`)[0].split(`
`);for(let Rt of wt){let Bt=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(Rt);if(Bt===null)continue;let He=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,oe=So[Bt[1]],se=ot;oe<ot.weekday?se=ot.set({day:ot.day-ot.weekday+7+oe}):se=ot.set({day:ot.day-ot.weekday+oe});let br=Bt.groups.startMidday!==void 0&&Bt.groups.startMidday[0]==="p"?12:0;se=se.set({hour:parseInt(Bt[2])+br,minute:parseInt(Bt[3])});let ue=P;if(oe<=P.weekday?ue=P.set({day:P.day-P.weekday+oe}):ue=P.set({day:P.day-P.weekday-7+oe}),ue=ue.set({hour:se.hour,minute:se.minute}),se.valueOf()>ue.valueOf())return{data:mt,error:`First day is unexpectedly greater than Last day (${se} > ${ue})`};let Se=se,Ar=Bt.groups.endMidday!==void 0&&Bt.groups.endMidday[0]==="p"?12:0;Se=Se.set({hour:parseInt(Bt[5])+Ar,minute:parseInt(Bt[6])});let Nr=null,ir=null;if(!He.test(Rt)){let or=/,\s*(.+)\s+in\s+(?:.*?)(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(Rt);if(or===null){let Tn=/,\s*(?:classroom lesson)?\s*(.*)/.exec(Rt);Tn!==null&&(ir="Lesson",Nr=Tn[1])}else ir=or[1][0].toUpperCase()+or[1].substring(1),Nr=or[2]}let Jn=fu(ir,s);mt.push({summary:c,start:se,end:Se,dtstamp:$.now(),location:Nr,rrule:"FREQ=WEEKLY;UNTIL="+Oo(ue),description:ir+`
`+Jn+`
`+s.join(`
`)})}}return{data:mt,error:null}}}var Gn=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${qf})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function Kn(n,e=null,i=null){let s=[...n.matchAll(Gn)];if(s.length===0)return{data:[],error:null};let c=Hf(n,s);if(c.length===0&&e!==null&&(c=e),i!==null&&s.length>1&&n.includes(i)){let k=[];for(let C of n.split(i)){let B=Kn(C.trim(),c);if(k=[...k,...B.data],B.error!==null)return{data:k,error:B.error}}return{data:k,error:null}}let h=/\s*(?:L'orario non è stato definito|The schedule has not been defined)/,f=/\s*(?:Nessun orario definito|No timetable defined)/;if(h.test(n)||f.test(n))return{data:[],error:null};let m=s[s.length-1][2],_=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return _.test(n)?Zf(n,_,Gn,c,m):Wf(n,c,m)}var $f=Object.keys(So).join("|");function Bf(n,e,i,s,c,h){let f=i.match(/.{11}/g);return`${e}
${f.join(`
`)}`}function Yf(n){let e=n.split(`
`),i=[],s="",c=0;for(let h of e){let f=(h.match(/\(/g)||[]).length,m=(h.match(/\)/g)||[]).length;c>0?(c+=f-m,s+=` ${h}`,c===0&&(i.push(s),s="")):(c+=f-m,c===0?i.push(h):s=h)}return s!==""&&i.push(`${s}${")".repeat(c)}`),i.join(`
`)}function hu(n,e=`

`){return n.match(e)===null?n.replace(Gn,`
$&`):n}function Gf(n){let e=n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<auicDate>(${Io})+)`,"g"),Bf).replace(new RegExp(`(\\S)(${$f})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${Gn.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`).trim(),i=Yf(e);return hu(i).trim()}function Do(n,e=!0){try{let i=Gf(n),s=`


`;i.includes(`



`)&&(s=`



`);let c=i.split(s),h=[];for(let f of c){let m=Kn(f.trim(),null,s.slice(0,-1));if(h=[...h,...m.data],m.error!==null)return{data:h,error:m.error}}return h.length===0&&i.length!==0?e?Do(hu(i,`


`),!1):{data:[],error:"No courses detected"}:{data:h,error:null}}catch(i){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+i.message+")"),{data:[],error:i.message}}}function du(n){let e=new ie.Property({name:"VERSION",value:2}),i=new ie.Property({name:"PRODID",value:"bebora@github"}),s=new ie.Component({name:"VCALENDAR",properties:[e,i]});for(let h of n.data){let f=new ie.Component({name:"VEVENT",properties:[new ie.Property({name:"SUMMARY",value:h.summary}),new ie.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:cu(h.start)}),new ie.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:cu(h.end)}),new ie.Property({name:"DTSTAMP",value:Oo(h.dtstamp)}),new ie.Property({name:"UID",value:wo()})]});h.location!==void 0&&(f=f.pushProperty(new ie.Property({name:"LOCATION",value:h.location}))),h.description!==void 0&&(f=f.pushProperty(new ie.Property({name:"DESCRIPTION",value:h.description}))),h.rrule!==void 0&&(f=f.pushProperty(new ie.Property({name:"RRULE",value:h.rrule}))),h.rdate!==void 0&&(f=f.pushProperty(new ie.Property({name:"RDATE",value:h.rdate}))),s=s.pushComponent(f)}let c=s.toString();return{data:Cf(c),error:null}}var mu=Qs(pu(),1);function Kf(n){return new Promise(e=>setTimeout(e,n))}async function Jf(){try{let n,e,i=!1;if(/.*GestioneCarrelloPublic\.do.*/.test(window.location.href)){document.getElementById("orarioTestuale")!=null&&(i=!0);let c=document.getElementsByClassName("ui-tabs-nav ui-helper-reset ui-helper-clearfix")[0].children[0].children[0];c.innerText.indexOf("iCalendar")===-1&&(c.innerText+=" + file iCalendar"),n=document.getElementsByClassName("ElementInfoCard2 ui-corner-bottom")[0].children[0],e=n.children[1].innerText}else{i=!0,await Kf(100),n=document.getElementsByClassName("tabs polij_tabs ui-tabs ui-corner-all ui-widget ui-widget-content")[0];let s=document.createElement("DIV");s.innerHTML=document.getElementById("orarioTestuale").innerHTML,s.style.display="block",s.style.height="0px",s.style.width="0px",s.style.overflow="hidden",document.body.appendChild(s),e=s.innerText}if(i&&document.getElementById("exportCalButton")==null){let s=Do(e),c=du(s);if(s.data.length===0||c.error!==null)console.error(s.data.length,c.error),alert("The userscript cannot detect any courses, please add something to the timetable");else{let h=document.createElement("BUTTON");h.innerHTML="Esporta orario come iCalendar",h.type="button",h.style.marginTop="35px",h.style.backgroundColor="#c0ff85",h.id="exportCalButton",n.appendChild(h),h.addEventListener("click",function(){let f=new Blob([c.data||"Something has prevented the script from correctly creating the calendar"],{type:"text/plain;charset=utf-8"});(0,mu.saveAs)(f,"orarioPolimi.ics")})}}}catch(n){console.error("Error while adding download button to page. ("+n.message+")")}}Jf();})();
