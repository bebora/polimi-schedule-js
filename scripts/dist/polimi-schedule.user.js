// ==UserScript==
// @name     polimi-schedule-js
// @version  2.0.10
// @match    https://www4.ceda.polimi.it/manifesti/manifesti/controller/GestioneCarrelloPublic.do*
// @match    https://www13.ceda.polimi.it/oralez/oralez/controller/MainDesktop.do*
// @grant    none
// ==/UserScript==

(()=>{var al=Object.create;var ia=Object.defineProperty;var ul=Object.getOwnPropertyDescriptor;var cl=Object.getOwnPropertyNames;var ll=Object.getPrototypeOf,fl=Object.prototype.hasOwnProperty;var oa=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var hl=(n,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of cl(e))!fl.call(n,c)&&c!==i&&ia(n,c,{get:()=>e[c],enumerable:!(s=ul(e,c))||s.enumerable});return n};var sa=(n,e,i)=>(i=n!=null?al(ll(n)):{},hl(e||!n||!n.__esModule?ia(i,"default",{value:n,enumerable:!0}):i,n));var vu=oa((Qn,yu)=>{(function(n,e){typeof Qn=="object"&&typeof yu<"u"?e(Qn):typeof define=="function"&&define.amd?define(["exports"],e):e(n["immutable-ics"]={})})(Qn,function(n){"use strict";var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(y,T){return T={exports:{}},y(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c=function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")},f=function(){function y(T,L){for(var w=0;w<L.length;w++){var W=L[w];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(T,W.key,W)}}return function(T,L,w){return L&&y(T.prototype,L),w&&y(T,w),T}}(),h=function(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)},m=function(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y},v=function(){function y(T,L){var w=[],W=!0,nt=!1,J=void 0;try{for(var X=T[Symbol.iterator](),at;!(W=(at=X.next()).done)&&(w.push(at.value),!(L&&w.length===L));W=!0);}catch(lt){nt=!0,J=lt}finally{try{!W&&X.return&&X.return()}finally{if(nt)throw J}}return w}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return y(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(y){if(Array.isArray(y)){for(var T=0,L=Array(y.length);T<y.length;T++)L[T]=y[T];return L}else return Array.from(y)},z=i(function(y){(function(T,L){y.exports=L()})(e,function(){"use strict";function T(t,r){r&&(t.prototype=Object.create(r.prototype)),t.prototype.constructor=t}function L(t){return J(t)?t:b(t)}function w(t){return X(t)?t:E(t)}function W(t){return at(t)?t:S(t)}function nt(t){return J(t)&&!lt(t)?t:M(t)}function J(t){return!!(t&&t[Us])}function X(t){return!!(t&&t[js])}function at(t){return!!(t&&t[Vs])}function lt(t){return X(t)||at(t)}function dt(t){return!!(t&&t[gr])}function Ut(t){return t.value=!1,t}function _t(t){t&&(t.value=!0)}function Tt(){}function it(t,r){r=r||0;for(var o=rr(0,t.length-r),a=Array(o),u=0;u<o;u++)a[u]=t[u+r];return a}function $(t){return t.size===void 0&&(t.size=t.__iterate(Vt)),t.size}function et(t,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?$(t)+r:r}function Vt(){return!0}function ae(t,r,o){return(t===0||o!==void 0&&t<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Pt(t,r){return Lt(t,r,0)}function $t(t,r){return Lt(t,r,r)}function Lt(t,r,o){return t===void 0?o:0>t?rr(0,r+t):r===void 0?t:Math.min(r,t)}function K(t){this.next=t}function R(t,r,o,a){var u=t===0?r:t===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function pt(){return{value:void 0,done:!0}}function Qt(t){return!!Y(t)}function jt(t){return t&&typeof t.next=="function"}function te(t){var r=Y(t);return r&&r.call(t)}function Y(t){var r=t&&(Fi&&t[Fi]||t[qs]);if(typeof r=="function")return r}function G(t){return t&&typeof t.length=="number"}function b(t){return t==null?A():J(t)?t.toSeq():H(t)}function E(t){return t==null?A().toKeyedSeq():J(t)?X(t)?t.toSeq():t.fromEntrySeq():C(t)}function S(t){return t==null?A():J(t)?X(t)?t.entrySeq():t.toIndexedSeq():V(t)}function M(t){return(t==null?A():J(t)?X(t)?t.entrySeq():t:V(t)).toSetSeq()}function x(t){this._array=t,this.size=t.length}function F(t){var r=Object.keys(t);this._object=t,this._keys=r,this.size=r.length}function O(t){this._iterable=t,this.size=t.length||t.size}function p(t){this._iterator=t,this._iteratorCache=[]}function _(t){return!!(t&&t[Hs])}function A(){return Zs||(Zs=new x([]))}function C(t){var r=Array.isArray(t)?new x(t).fromEntrySeq():jt(t)?new p(t).fromEntrySeq():Qt(t)?new O(t).fromEntrySeq():(typeof t>"u"?"undefined":s(t))==="object"?new F(t):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return r}function V(t){var r=rt(t);if(!r)throw new TypeError("Expected Array or iterable object of values: "+t);return r}function H(t){var r=rt(t)||(typeof t>"u"?"undefined":s(t))==="object"&&new F(t);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return r}function rt(t){return G(t)?new x(t):jt(t)?new p(t):Qt(t)?new O(t):void 0}function ot(t,r,o,a){var u=t._cache;if(u){for(var l,d=u.length-1,g=0;g<=d;g++)if(l=u[o?d-g:g],r(l[1],a?l[0]:g,t)===!1)return g+1;return g}return t.__iterateUncached(r,o)}function xt(t,r,o,a){var u=t._cache;if(u){var l=u.length-1,d=0;return new K(function(){var g=u[o?l-d:d];return d++>l?pt():R(r,a?g[0]:d-1,g[1])})}return t.__iteratorUncached(r,o)}function Oe(t,r){return r?li(r,t,"",{"":t}):fi(t)}function li(t,r,o,a){return Array.isArray(r)?t.call(a,o,S(r).map(function(u,l){return li(t,u,l,r)})):ns(r)?t.call(a,o,E(r).map(function(u,l){return li(t,u,l,r)})):r}function fi(t){return Array.isArray(t)?S(t).map(fi).toList():ns(t)?E(t).map(fi).toMap():t}function ns(t){return t&&(t.constructor===Object||t.constructor===void 0)}function zt(t,r){if(t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1;if(typeof t.valueOf=="function"&&typeof r.valueOf=="function"){if(t=t.valueOf(),r=r.valueOf(),t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1}return typeof t.equals=="function"&&typeof r.equals=="function"&&t.equals(r)}function hi(t,r){if(t===r)return!0;if(!J(r)||t.size!==void 0&&r.size!==void 0&&t.size!==r.size||t.__hash!==void 0&&r.__hash!==void 0&&t.__hash!==r.__hash||X(t)!==X(r)||at(t)!==at(r)||dt(t)!==dt(r))return!1;if(t.size===0&&r.size===0)return!0;var o=!lt(t);if(dt(t)){var a=t.entries();return r.every(function(I,D){var N=a.next().value;return N&&zt(N[1],I)&&(o||zt(N[0],D))})&&a.next().done}var u=!1;if(t.size===void 0)if(r.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{u=!0;var l=t;t=r,r=l}var d=!0,g=r.__iterate(function(I,D){if(o?!t.has(I):u?!zt(I,t.get(D,ut)):!zt(t.get(D,ut),I))return d=!1,!1});return d&&t.size===g}function Kt(t,r){if(!(this instanceof Kt))return new Kt(t,r);if(this._value=t,this.size=r===void 0?1/0:rr(0,r),this.size===0){if(Ri)return Ri;Ri=this}}function On(t,r){if(!t)throw new Error(r)}function Yt(t,r,o){if(!(this instanceof Yt))return new Yt(t,r,o);if(On(o!==0,"Cannot step a Range by 0"),t=t||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<t&&(o=-o),this._start=t,this._end=r,this._step=o,this.size=rr(0,Math.ceil((r-t)/o-1)+1),this.size===0){if(zi)return zi;zi=this}}function He(){throw TypeError("Abstract")}function zr(){}function lr(){}function In(){}function di(t){return 1073741824&t>>>1|3221225471&t}function ue(t){if(t===!1||t===null||t===void 0||typeof t.valueOf=="function"&&(t=t.valueOf(),t===!1||t===null||t===void 0))return 0;if(t===!0)return 1;var r=typeof t>"u"?"undefined":s(t);if(r==="number"){if(t!==t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);4294967295<t;)t/=4294967295,o^=t;return di(o)}if(r==="string")return t.length>rl?Fc(t):pi(t);if(typeof t.hashCode=="function")return t.hashCode();if(r==="object")return Lc(t);if(typeof t.toString=="function")return pi(t.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Fc(t){var r=Vi[t];return r===void 0&&(r=pi(t),ji===nl&&(ji=0,Vi={}),ji++,Vi[t]=r),r}function pi(t){for(var r=0,o=0;o<t.length;o++)r=0|31*r+t.charCodeAt(o);return di(r)}function Lc(t){var r;if(Wi&&(r=Ci.get(t),r!==void 0)||(r=t[nr],r!==void 0)||!Ys&&(r=t.propertyIsEnumerable&&t.propertyIsEnumerable[nr],r!==void 0||(r=Rc(t),r!==void 0)))return r;if(r=++Ui,1073741824&Ui&&(Ui=0),Wi)Ci.set(t,r);else{if($s!==void 0&&$s(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ys)Object.defineProperty(t,nr,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[nr]=r;else if(t.nodeType!==void 0)t[nr]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function Rc(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ce(t){On(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return t==null?Ie():mi(t)&&!dt(t)?t:Ie().withMutations(function(r){var o=w(t);ce(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function mi(t){return!!(t&&t[Bs])}function Cr(t,r){this.ownerID=t,this.entries=r}function fr(t,r,o){this.ownerID=t,this.bitmap=r,this.nodes=o}function Wr(t,r,o){this.ownerID=t,this.count=r,this.nodes=o}function hr(t,r,o){this.ownerID=t,this.keyHash=r,this.entries=o}function Ce(t,r,o){this.ownerID=t,this.keyHash=r,this.entry=o}function yi(t,r,o){this._type=r,this._reverse=o,this._stack=t._root&&is(t._root)}function vi(t,r){return R(t,r[0],r[1])}function is(t,r){return{node:t,index:0,__prev:r}}function gi(t,r,o,a){var u=Object.create(st);return u.size=t,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ie(){return Gs||(Gs=gi(0))}function os(t,r,o){var a,u;if(t._root){var l=Ut(el),d=Ut(Ps);if(a=_i(t._root,t.__ownerID,0,void 0,r,o,l,d),!d.value)return t;u=t.size+(l.value?o===ut?-1:1:0)}else{if(o===ut)return t;u=1,a=new Cr(t.__ownerID,[[r,o]])}return t.__ownerID?(t.size=u,t._root=a,t.__hash=void 0,t.__altered=!0,t):a?gi(u,a):Ie()}function _i(t,r,o,a,u,l,d,g){return t?t.update(r,o,a,u,l,d,g):l===ut?t:(_t(g),_t(d),new Ce(r,a,[u,l]))}function ss(t){return t.constructor===Ce||t.constructor===hr}function Ti(t,r,o,a,u){if(t.keyHash===a)return new hr(r,a,[t.entry,u]);var l,d=(o===0?t.keyHash:t.keyHash>>>o)&ee,g=(o===0?a:a>>>o)&ee,I=d==g?[Ti(t,r,o+Dt,a,u)]:(l=new Ce(r,a,u),d<g?[t,l]:[l,t]);return new fr(r,1<<d|1<<g,I)}function zc(t,r,o,a){t||(t=new Tt);for(var u,l=new Ce(t,ue(o),[o,a]),d=0;d<r.length;d++)u=r[d],l=l.update(t,0,void 0,u[0],u[1]);return l}function Cc(t,r,o,a){for(var u,l=0,d=0,g=Array(o),I=0,D=1,N=r.length;I<N;I++,D<<=1)u=r[I],u!==void 0&&I!==a&&(l|=D,g[d++]=u);return new fr(t,l,g)}function Wc(t,r,o,a,u){for(var l=0,d=Array(ye),g=0;o!==0;g++,o>>>=1)d[g]=1&o?r[l++]:void 0;return d[a]=u,new Wr(t,l+1,d)}function Dn(t,r,o){for(var a=[],u=0;u<o.length;u++){var l=o[u],d=w(l);J(l)||(d=d.map(function(g){return Oe(g)})),a.push(d)}return cs(t,r,a)}function as(t,r){return t&&t.mergeDeep&&J(r)?t.mergeDeep(r):zt(t,r)?t:r}function us(t){return function(r,o,a){if(r&&r.mergeDeepWith&&J(o))return r.mergeDeepWith(t,o);var u=t(r,o,a);return zt(r,u)?r:u}}function cs(t,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?t:t.size!==0||t.__ownerID||o.length!==1?t.withMutations(function(a){for(var u=r?function(d,g){a.update(g,ut,function(I){return I===ut?d:r(I,d,g)})}:function(d,g){a.set(g,d)},l=0;l<o.length;l++)o[l].forEach(u)}):t.constructor(o[0])}function ls(t,r,o,a){var u=t===ut,l=r.next();if(l.done){var d=u?o:t,g=a(d);return g===d?t:g}On(u||t&&t.set,"invalid keyPath");var I=l.value,D=u?ut:t.get(I,ut),N=ls(D,r,o,a);return N===D?t:N===ut?t.remove(I):(u?Ie():t).set(I,N)}function fs(t){return t-=1431655765&t>>1,t=(858993459&t)+(858993459&t>>2),t=252645135&t+(t>>4),t+=t>>8,t+=t>>16,127&t}function hs(t,r,o,a){var u=a?t:it(t);return u[r]=o,u}function Uc(t,r,o,a){var u=t.length+1;if(a&&r+1===u)return t[r]=o,t;for(var l=Array(u),d=0,g=0;g<u;g++)g===r?(l[g]=o,d=-1):l[g]=t[g+d];return l}function jc(t,r,o){var a=t.length-1;if(o&&r===a)return t.pop(),t;for(var u=Array(a),l=0,d=0;d<a;d++)d===r&&(l=1),u[d]=t[d+l];return u}function It(t){var r=wi();if(t==null)return r;if(ds(t))return t;var o=W(t),a=o.size;return a===0?r:(ce(a),0<a&&a<ye?Ur(0,a,Dt,null,new Ze(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(l,d){return u.set(d,l)})}))}function ds(t){return!!(t&&t[Ks])}function Ze(t,r){this.array=t,this.ownerID=r}function ps(t,r){function o(D,N,j){return N===0?a(D,j):u(D,N,j)}function a(D,N){var j=N===g?I&&I.array:D&&D.array,Z=N>l?0:l-N,Q=d-N;return Q>ye&&(Q=ye),function(){if(Z==Q)return Zr;var ct=r?--Q:Z++;return j&&j[ct]}}function u(D,N,j){var Z,Q=D&&D.array,ct=j>l?0:l-j>>N,bt=(d-j>>N)+1;return bt>ye&&(bt=ye),function(){do{if(Z){var ge=Z();if(ge!==Zr)return ge;Z=null}if(ct==bt)return Zr;var De=r?--bt:ct++;Z=o(Q&&Q[De],N-Dt,j+(De<<N))}while(!0)}}var l=t._origin,d=t._capacity,g=jr(d),I=t._tail;return o(t._root,t._level,0)}function Ur(t,r,o,a,u,l,d){var g=Object.create(re);return g.size=r-t,g._origin=t,g._capacity=r,g._level=o,g._root=a,g._tail=u,g.__ownerID=l,g.__hash=d,g.__altered=!1,g}function wi(){return Js||(Js=Ur(0,0,Dt))}function Vc(t,r,o){if(r=et(t,r),r!==r)return t;if(r>=t.size||0>r)return t.withMutations(function(d){0>r?$e(d,r).set(0,o):$e(d,0,r+1).set(r,o)});r+=t._origin;var a=t._tail,u=t._root,l=Ut(Ps);return r>=jr(t._capacity)?a=Ei(a,t.__ownerID,0,r,o,l):u=Ei(u,t.__ownerID,t._level,r,o,l),l.value?t.__ownerID?(t._root=u,t._tail=a,t.__hash=void 0,t.__altered=!0,t):Ur(t._origin,t._capacity,t._level,u,a):t}function Ei(t,r,o,a,u,l){var d=a>>>o&ee,g=t&&d<t.array.length;if(!g&&u===void 0)return t;var I;if(0<o){var D=t&&t.array[d],N=Ei(D,r,o-Dt,a,u,l);return N===D?t:(I=dr(t,r),I.array[d]=N,I)}return g&&t.array[d]===u?t:(_t(l),I=dr(t,r),u===void 0&&d==I.array.length-1?I.array.pop():I.array[d]=u,I)}function dr(t,r){return r&&t&&r===t.ownerID?t:new Ze(t?t.array.slice():[],r)}function ms(t,r){if(r>=jr(t._capacity))return t._tail;if(r<1<<t._level+Dt){for(var o=t._root,a=t._level;o&&0<a;)o=o.array[r>>>a&ee],a-=Dt;return o}}function $e(t,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=t.__ownerID||new Tt,u=t._origin,l=t._capacity,d=u+r,g=o===void 0?l:0>o?l+o:u+o;if(d===u&&g===l)return t;if(d>=g)return t.clear();for(var I=t._level,D=t._root,N=0;0>d+N;)D=new Ze(D&&D.array.length?[void 0,D]:[],a),I+=Dt,N+=1<<I;N&&(d+=N,u+=N,g+=N,l+=N);for(var j=jr(l),Z=jr(g);Z>=1<<I+Dt;)D=new Ze(D&&D.array.length?[D]:[],a),I+=Dt;var Q=t._tail,ct=Z<j?ms(t,g-1):Z>j?new Ze([],a):Q;if(Q&&Z>j&&d<l&&Q.array.length){D=dr(D,a);for(var bt,ge=D,De=I;De>Dt;De-=Dt)bt=j>>>De&ee,ge=ge.array[bt]=dr(ge.array[bt],a);ge.array[j>>>Dt&ee]=Q}if(g<l&&(ct=ct&&ct.removeAfter(a,0,g)),d>=Z)d-=Z,g-=Z,I=Dt,D=null,ct=ct&&ct.removeBefore(a,0,d);else if(d>u||Z<j){for(N=0;D;){var Ln=d>>>I&ee;if(Ln!=Z>>>I&ee)break;Ln&&(N+=(1<<I)*Ln),I-=Dt,D=D.array[Ln]}D&&d>u&&(D=D.removeBefore(a,I,d-N)),D&&Z<j&&(D=D.removeAfter(a,I,Z-N)),N&&(d-=N,g-=N)}return t.__ownerID?(t.size=g-d,t._origin=d,t._capacity=g,t._level=I,t._root=D,t._tail=ct,t.__hash=void 0,t.__altered=!0,t):Ur(d,g,I,D,ct)}function kn(t,r,o){for(var a=[],u=0,l=0;l<o.length;l++){var d=o[l],g=W(d);g.size>u&&(u=g.size),J(d)||(g=g.map(function(I){return Oe(I)})),a.push(g)}return u>t.size&&(t=t.setSize(u)),cs(t,r,a)}function jr(t){return t<ye?0:t-1>>>Dt<<Dt}function Rt(t){return t==null?Mn():ys(t)?t:Mn().withMutations(function(r){var o=w(t);ce(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function ys(t){return mi(t)&&dt(t)}function Si(t,r,o,a){var u=Object.create(Rt.prototype);return u.size=t?t.size:0,u._map=t,u._list=r,u.__ownerID=o,u.__hash=a,u}function Mn(){return Xs||(Xs=Si(Ie(),wi()))}function vs(t,r,o){var a,u,l=t._map,d=t._list,g=l.get(r),I=g!==void 0;if(o===ut){if(!I)return t;d.size>=ye&&d.size>=2*l.size?(u=d.filter(function(D,N){return D!==void 0&&g!==N}),a=u.toKeyedSeq().map(function(D){return D[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=l.remove(r),u=g===d.size-1?d.pop():d.set(g,void 0))}else if(I){if(o===d.get(g)[1])return t;a=l,u=d.set(g,[r,o])}else a=l.set(r,d.size),u=d.set(d.size,[r,o]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t):Si(a,u)}function pe(t,r){this._iter=t,this._useKeys=r,this.size=t.size}function pr(t){this._iter=t,this.size=t.size}function mr(t){this._iter=t,this.size=t.size}function yr(t){this._iter=t,this.size=t.size}function gs(t){var r=Ne(t);return r._iter=t,r.size=t.size,r.flip=function(){return t},r.reverse=function(){var o=t.reverse.apply(this);return o.flip=function(){return t.reverse()},o},r.has=function(o){return t.includes(o)},r.includes=function(o){return t.has(o)},r.cacheResult=ki,r.__iterateUncached=function(o,a){var u=this;return t.__iterate(function(l,d){return o(d,l,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===Re){var u=t.__iterator(o,a);return new K(function(){var l=u.next();if(!l.done){var d=l.value[0];l.value[0]=l.value[1],l.value[1]=d}return l})}return t.__iterator(o===ve?qr:ve,a)},r}function _s(t,r,o){var a=Ne(t);return a.size=t.size,a.has=function(u){return t.has(u)},a.get=function(u,l){var d=t.get(u,ut);return d===ut?l:r.call(o,d,u,t)},a.__iterateUncached=function(u,l){var d=this;return t.__iterate(function(g,I,D){return u(r.call(o,g,I,D),I,d)!==!1},l)},a.__iteratorUncached=function(u,l){var d=t.__iterator(Re,l);return new K(function(){var g=d.next();if(g.done)return g;var I=g.value,D=I[0];return R(u,D,r.call(o,I[1],D,t),g)})},a}function Oi(t,r){var o=Ne(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var a=gs(t);return a.reverse=function(){return t.flip()},a}),o.get=function(a,u){return t.get(r?a:-1-a,u)},o.has=function(a){return t.has(r?a:-1-a)},o.includes=function(a){return t.includes(a)},o.cacheResult=ki,o.__iterate=function(a,u){var l=this;return t.__iterate(function(d,g){return a(d,g,l)},!u)},o.__iterator=function(a,u){return t.__iterator(a,!u)},o}function Ts(t,r,o,a){var u=Ne(t);return a&&(u.has=function(l){var d=t.get(l,ut);return d!==ut&&!!r.call(o,d,l,t)},u.get=function(l,d){var g=t.get(l,ut);return g!==ut&&r.call(o,g,l,t)?g:d}),u.__iterateUncached=function(l,d){var g=this,I=0;return t.__iterate(function(D,N,j){if(r.call(o,D,N,j))return I++,l(D,a?N:I-1,g)},d),I},u.__iteratorUncached=function(l,d){var g=t.__iterator(Re,d),I=0;return new K(function(){for(;;){var D=g.next();if(D.done)return D;var N=D.value,j=N[0],Z=N[1];if(r.call(o,Z,j,t))return R(l,a?j:I++,Z,D)}})},u}function Pc(t,r,o){var a=ft().asMutable();return t.__iterate(function(u,l){a.update(r.call(o,u,l,t),0,function(d){return d+1})}),a.asImmutable()}function qc(t,r,o){var a=X(t),u=(dt(t)?Rt():ft()).asMutable();t.__iterate(function(d,g){u.update(r.call(o,d,g,t),function(I){return I=I||[],I.push(a?[g,d]:d),I})});var l=Ds(t);return u.map(function(d){return Et(t,l(d))})}function Ii(t,r,o,a){var u=t.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),ae(r,o,u))return t;var l=Pt(r,u),d=$t(o,u);if(l!==l||d!==d)return Ii(t.toSeq().cacheResult(),r,o,a);var g,I=d-l;I==I&&(g=0>I?0:I);var D=Ne(t);return D.size=g===0?g:t.size&&g||void 0,!a&&_(t)&&0<=g&&(D.get=function(N,j){return N=et(this,N),0<=N&&N<g?t.get(N+l,j):j}),D.__iterateUncached=function(N,j){var Z=this;if(g===0)return 0;if(j)return this.cacheResult().__iterate(N,j);var Q=0,ct=!0,bt=0;return t.__iterate(function(ge,De){if(!(ct&&(ct=Q++<l)))return bt++,N(ge,a?De:bt-1,Z)!==!1&&bt!==g}),bt},D.__iteratorUncached=function(N,j){if(g!==0&&j)return this.cacheResult().__iterator(N,j);var Z=g!==0&&t.__iterator(N,j),Q=0,ct=0;return new K(function(){for(;Q++<l;)Z.next();if(++ct>g)return pt();var bt=Z.next();return a||N===ve?bt:N===qr?R(N,ct-1,void 0,bt):R(N,ct-1,bt.value[1],bt)})},D}function Hc(t,r,o){var a=Ne(t);return a.__iterateUncached=function(u,l){var d=this;if(l)return this.cacheResult().__iterate(u,l);var g=0;return t.__iterate(function(I,D,N){return r.call(o,I,D,N)&&++g&&u(I,D,d)}),g},a.__iteratorUncached=function(u,l){var d=this;if(l)return this.cacheResult().__iterator(u,l);var g=t.__iterator(Re,l),I=!0;return new K(function(){if(!I)return pt();var D=g.next();if(D.done)return D;var N=D.value,j=N[0],Z=N[1];return r.call(o,Z,j,d)?u===Re?D:R(u,j,Z,D):(I=!1,pt())})},a}function ws(t,r,o,a){var u=Ne(t);return u.__iterateUncached=function(l,d){var g=this;if(d)return this.cacheResult().__iterate(l,d);var I=!0,D=0;return t.__iterate(function(N,j,Z){if(!(I&&(I=r.call(o,N,j,Z))))return D++,l(N,a?j:D-1,g)}),D},u.__iteratorUncached=function(l,d){var g=this;if(d)return this.cacheResult().__iterator(l,d);var I=t.__iterator(Re,d),D=!0,N=0;return new K(function(){var j,Z,Q;do{if(j=I.next(),j.done)return a||l===ve?j:l===qr?R(l,N++,void 0,j):R(l,N++,j.value[1],j);var ct=j.value;Z=ct[0],Q=ct[1],D&&(D=r.call(o,Q,Z,g))}while(D);return l===Re?j:R(l,Z,Q,j)})},u}function Zc(t,r){var o=X(t),a=[t].concat(r).map(function(d){return J(d)?o&&(d=w(d)):d=o?C(d):V(Array.isArray(d)?d:[d]),d}).filter(function(d){return d.size!==0});if(a.length===0)return t;if(a.length===1){var u=a[0];if(u===t||o&&X(u)||at(t)&&at(u))return u}var l=new x(a);return o?l=l.toKeyedSeq():!at(t)&&(l=l.toSetSeq()),l=l.flatten(!0),l.size=a.reduce(function(d,g){if(d!==void 0){var I=g.size;if(I!==void 0)return d+I}},0),l}function Es(t,r,o){var a=Ne(t);return a.__iterateUncached=function(u,l){function d(D,N){var j=this;D.__iterate(function(Z,Q){return(!r||N<r)&&J(Z)?d(Z,N+1):u(Z,o?Q:g++,j)===!1&&(I=!0),!I},l)}var g=0,I=!1;return d(t,0),g},a.__iteratorUncached=function(u,l){var d=t.__iterator(u,l),g=[],I=0;return new K(function(){for(;d;){var D=d.next();if(D.done!==!1){d=g.pop();continue}var N=D.value;if(u===Re&&(N=N[1]),(!r||g.length<r)&&J(N))g.push(d),d=N.__iterator(u,l);else return o?D:R(u,I++,N,D)}return pt()})},a}function $c(t,r,o){var a=Ds(t);return t.toSeq().map(function(u,l){return a(r.call(o,u,l,t))}).flatten(!0)}function Yc(t,r){var o=Ne(t);return o.size=t.size&&2*t.size-1,o.__iterateUncached=function(a,u){var l=this,d=0;return t.__iterate(function(g){return(!d||a(r,d++,l)!==!1)&&a(g,d++,l)!==!1},u),d},o.__iteratorUncached=function(a,u){var l,d=t.__iterator(ve,u),g=0;return new K(function(){return(!l||g%2)&&(l=d.next(),l.done)?l:g%2?R(a,g++,r):R(a,g++,l.value,l)})},o}function vr(t,r,o){r||(r=ks);var a=X(t),u=0,l=t.toSeq().map(function(d,g){return[g,d,u++,o?o(d,g,t):d]}).toArray();return l.sort(function(d,g){return r(d[3],g[3])||d[2]-g[2]}).forEach(a?function(d,g){l[g].length=2}:function(d,g){l[g]=d[1]}),a?E(l):at(t)?S(l):M(l)}function xn(t,r,o){if(r||(r=ks),o){var a=t.toSeq().map(function(u,l){return[u,o(u,l,t)]}).reduce(function(u,l){return Ss(r,u[1],l[1])?l:u});return a&&a[0]}return t.reduce(function(u,l){return Ss(r,u,l)?l:u})}function Ss(t,r,o){var a=t(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function Di(t,r,o){var a=Ne(t);return a.size=new x(o).map(function(u){return u.size}).min(),a.__iterate=function(u,l){for(var d,g=this.__iterator(ve,l),I=0;!(d=g.next()).done&&u(d.value,I++,this)!==!1;);return I},a.__iteratorUncached=function(u,l){var d=o.map(function(D){return D=L(D),te(l?D.reverse():D)}),g=0,I=!1;return new K(function(){var D;return I||(D=d.map(function(N){return N.next()}),I=D.some(function(N){return N.done})),I?pt():R(u,g++,r.apply(null,D.map(function(N){return N.value})))})},a}function Et(t,r){return _(t)?r:t.constructor(r)}function Os(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Is(t){return ce(t.size),$(t)}function Ds(t){return X(t)?w:at(t)?W:nt}function Ne(t){return Object.create((X(t)?E:at(t)?S:M).prototype)}function ki(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):b.prototype.cacheResult.call(this)}function ks(t,r){return t>r?1:t<r?-1:0}function Ms(t){var r=te(t);if(!r){if(!G(t))throw new TypeError("Expected iterable or array-like: "+t);r=te(L(t))}return r}function le(t,r){var o,a=function(l){if(l instanceof a)return l;if(!(this instanceof a))return new a(l);if(!o){o=!0;var d=Object.keys(t);Bc(u,d),u.size=d.length,u._name=r,u._keys=d,u._defaultValues=t}this._map=ft(l)},u=a.prototype=Object.create(Bt);return u.constructor=a,a}function bn(t,r,o){var a=Object.create(Object.getPrototypeOf(t));return a._map=r,a.__ownerID=o,a}function xs(t){return t._name||t.constructor.name||"Record"}function Bc(t,r){try{r.forEach(Gc.bind(void 0,t))}catch{}}function Gc(t,r){Object.defineProperty(t,r,{get:function(){return this.get(r)},set:function(a){On(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function kt(t){return t==null?bi():Mi(t)&&!dt(t)?t:bi().withMutations(function(r){var o=nt(t);ce(o.size),o.forEach(function(a){return r.add(a)})})}function Mi(t){return!!(t&&t[Qs])}function xi(t,r){return t.__ownerID?(t.size=r.size,t._map=r,t):r===t._map?t:r.size===0?t.__empty():t.__make(r)}function bs(t,r){var o=Object.create(fe);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function bi(){return ta||(ta=bs(Ie()))}function Fe(t){return t==null?Ai():As(t)?t:Ai().withMutations(function(r){var o=nt(t);ce(o.size),o.forEach(function(a){return r.add(a)})})}function As(t){return Mi(t)&&dt(t)}function Ns(t,r){var o=Object.create(Nn);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function Ai(){return ea||(ea=Ns(Mn()))}function Ct(t){return t==null?Ni():Fs(t)?t:Ni().unshiftAll(t)}function Fs(t){return!!(t&&t[ra])}function Vr(t,r,o,a){var u=Object.create(_r);return u.size=t,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ni(){return na||(na=Vr(0))}function Le(t,r){var o=function(a){t.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),t}function Kc(t,r){return r}function Jc(t,r){return[r,t]}function An(t){return function(){return!t.apply(this,arguments)}}function Ls(t){return function(){return-t.apply(this,arguments)}}function Rs(t){return typeof t=="string"?JSON.stringify(t):t+""}function Xc(){return it(arguments)}function zs(t,r){return t<r?1:t>r?-1:0}function Qc(t){if(t.size===1/0)return 0;var r=dt(t),o=X(t),a=r?1:0,u=t.__iterate(o?r?function(l,d){a=0|31*a+Cs(ue(l),ue(d))}:function(l,d){a=0|a+Cs(ue(l),ue(d))}:r?function(l){a=0|31*a+ue(l)}:function(l){a=0|a+ue(l)});return tl(u,a)}function tl(t,r){return r=Hr(r,3432918353),r=Hr(r<<15|r>>>-15,461845907),r=Hr(r<<13|r>>>-13,5),r=(0|r+3864292196)^t,r=Hr(r^r>>>16,2246822507),r=Hr(r^r>>>13,3266489909),r=di(r^r>>>16),r}function Cs(t,r){return 0|t^r+2654435769+(t<<6)+(t>>2)}var Ws=Math.imul,rr=Math.max,me=Array.prototype.slice;T(w,L),T(W,L),T(nt,L),L.isIterable=J,L.isKeyed=X,L.isIndexed=at,L.isAssociative=lt,L.isOrdered=dt,L.Keyed=w,L.Indexed=W,L.Set=nt;var Us="@@__IMMUTABLE_ITERABLE__@@",js="@@__IMMUTABLE_KEYED__@@",Vs="@@__IMMUTABLE_INDEXED__@@",gr="@@__IMMUTABLE_ORDERED__@@",Pr="delete",Dt=5,ye=1<<Dt,ee=ye-1,ut={},el={value:!1},Ps={value:!1},qr=0,ve=1,Re=2,Fi=typeof Symbol=="function"&&Symbol.iterator,qs="@@iterator",Li=Fi||qs;K.prototype.toString=function(){return"[Iterator]"},K.KEYS=qr,K.VALUES=ve,K.ENTRIES=Re,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[Li]=function(){return this},T(b,L),b.of=function(){return b(arguments)},b.prototype.toSeq=function(){return this},b.prototype.toString=function(){return this.__toString("Seq {","}")},b.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},b.prototype.__iterate=function(t,r){return ot(this,t,r,!0)},b.prototype.__iterator=function(t,r){return xt(this,t,r,!0)},T(E,b),E.prototype.toKeyedSeq=function(){return this},T(S,b),S.of=function(){return S(arguments)},S.prototype.toIndexedSeq=function(){return this},S.prototype.toString=function(){return this.__toString("Seq [","]")},S.prototype.__iterate=function(t,r){return ot(this,t,r,!1)},S.prototype.__iterator=function(t,r){return xt(this,t,r,!1)},T(M,b),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},b.isSeq=_,b.Keyed=E,b.Set=M,b.Indexed=S;var Hs="@@__IMMUTABLE_SEQ__@@";b.prototype[Hs]=!0,T(x,S),x.prototype.get=function(t,r){return this.has(t)?this._array[et(this,t)]:r},x.prototype.__iterate=function(t,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(t(o[r?a-u:u],u,this)===!1)return u+1;return u},x.prototype.__iterator=function(t,r){var o=this._array,a=o.length-1,u=0;return new K(function(){return u>a?pt():R(t,u,o[r?a-u++:u++])})},T(F,E),F.prototype.get=function(t,r){return r===void 0||this.has(t)?this._object[t]:r},F.prototype.has=function(t){return this._object.hasOwnProperty(t)},F.prototype.__iterate=function(t,r){for(var o,a=this._object,u=this._keys,l=u.length-1,d=0;d<=l;d++)if(o=u[r?l-d:d],t(a[o],o,this)===!1)return d+1;return d},F.prototype.__iterator=function(t,r){var o=this._object,a=this._keys,u=a.length-1,l=0;return new K(function(){var d=a[r?u-l:l];return l++>u?pt():R(t,d,o[d])})},F.prototype[gr]=!0,T(O,S),O.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);var o=this._iterable,a=te(o),u=0;if(jt(a))for(var l;!(l=a.next()).done&&t(l.value,u++,this)!==!1;);return u},O.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterable,a=te(o);if(!jt(a))return new K(pt);var u=0;return new K(function(){var l=a.next();return l.done?l:R(t,u++,l.value)})},T(p,S),p.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(t(a[u],u++,this)===!1)return u;for(var l,d;!(l=o.next()).done&&(d=l.value,a[u]=d,t(d,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterator,a=this._iteratorCache,u=0;return new K(function(){if(u>=a.length){var l=o.next();if(l.done)return l;a[u]=l.value}return R(t,u,a[u++])})};var Zs;T(Kt,S),Kt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Kt.prototype.get=function(t,r){return this.has(t)?this._value:r},Kt.prototype.includes=function(t){return zt(this._value,t)},Kt.prototype.slice=function(t,r){var o=this.size;return ae(t,r,o)?this:new Kt(this._value,$t(r,o)-Pt(t,o))},Kt.prototype.reverse=function(){return this},Kt.prototype.indexOf=function(t){return zt(this._value,t)?0:-1},Kt.prototype.lastIndexOf=function(t){return zt(this._value,t)?this.size:-1},Kt.prototype.__iterate=function(t){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},Kt.prototype.__iterator=function(t){var r=this,o=0;return new K(function(){return o<r.size?R(t,o++,r._value):pt()})},Kt.prototype.equals=function(t){return t instanceof Kt?zt(this._value,t._value):hi(t)};var Ri;T(Yt,S),Yt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Yt.prototype.get=function(t,r){return this.has(t)?this._start+et(this,t)*this._step:r},Yt.prototype.includes=function(t){var r=(t-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Yt.prototype.slice=function(t,r){return ae(t,r,this.size)?this:(t=Pt(t,this.size),r=$t(r,this.size),r<=t?new Yt(0,0):new Yt(this.get(t,this._end),this.get(r,this._end),this._step))},Yt.prototype.indexOf=function(t){var r=t-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Yt.prototype.lastIndexOf=function(t){return this.indexOf(t)},Yt.prototype.__iterate=function(t,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,l=0;l<=o;l++){if(t(u,l,this)===!1)return l+1;u+=r?-a:a}return l},Yt.prototype.__iterator=function(t,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,l=0;return new K(function(){var d=u;return u+=r?-a:a,l>o?pt():R(t,l++,d)})},Yt.prototype.equals=function(t){return t instanceof Yt?this._start===t._start&&this._end===t._end&&this._step===t._step:hi(this,t)};var zi;T(He,L),T(zr,He),T(lr,He),T(In,He),He.Keyed=zr,He.Indexed=lr,He.Set=In;var Ci,Hr=typeof Ws=="function"?Ws:function(t,r){t|=0,r|=0;var o=65535&t,a=65535&r;return 0|o*a+((t>>>16)*a+o*(r>>>16)<<16>>>0)},$s=Object.isExtensible,Ys=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),Wi=typeof WeakMap=="function";Wi&&(Ci=new WeakMap);var Ui=0,nr="__immutablehash__";typeof Symbol=="function"&&(nr=Symbol(nr));var rl=16,nl=255,ji=0,Vi={};T(ft,zr),ft.of=function(){var t=me.call(arguments,0);return Ie().withMutations(function(r){for(var o=0;o<t.length;o+=2){if(o+1>=t.length)throw new Error("Missing value for key: "+t[o]);r.set(t[o],t[o+1])}})},ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,r){return this._root?this._root.get(0,void 0,t,r):r},ft.prototype.set=function(t,r){return os(this,t,r)},ft.prototype.setIn=function(t,r){return this.updateIn(t,ut,function(){return r})},ft.prototype.remove=function(t){return os(this,t,ut)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return ut})},ft.prototype.update=function(t,r,o){return arguments.length===1?t(this):this.updateIn([t],r,o)},ft.prototype.updateIn=function(t,r,o){o||(o=r,r=void 0);var a=ls(this,Ms(t),r,o);return a===ut?void 0:a},ft.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ie()},ft.prototype.merge=function(){return Dn(this,void 0,arguments)},ft.prototype.mergeWith=function(t){var r=me.call(arguments,1);return Dn(this,t,r)},ft.prototype.mergeIn=function(t){var r=me.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},ft.prototype.mergeDeep=function(){return Dn(this,as,arguments)},ft.prototype.mergeDeepWith=function(t){var r=me.call(arguments,1);return Dn(this,us(t),r)},ft.prototype.mergeDeepIn=function(t){var r=me.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},ft.prototype.sort=function(t){return Rt(vr(this,t))},ft.prototype.sortBy=function(t,r){return Rt(vr(this,r,t))},ft.prototype.withMutations=function(t){var r=this.asMutable();return t(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Tt)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,r){return new yi(this,t,r)},ft.prototype.__iterate=function(t,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,t(u[1],u[0],o)},r),a},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?gi(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=mi;var Bs="@@__IMMUTABLE_MAP__@@",st=ft.prototype;st[Bs]=!0,st[Pr]=st.remove,st.removeIn=st.deleteIn,Cr.prototype.get=function(t,r,o,a){for(var u=this.entries,l=0,d=u.length;l<d;l++)if(zt(o,u[l][0]))return u[l][1];return a},Cr.prototype.update=function(t,r,o,a,u,l,d){for(var g=u===ut,I=this.entries,D=0,N=I.length;D<N&&!zt(a,I[D][0]);D++);var j=D<N;if(j?I[D][1]===u:g)return this;if(_t(d),(g||!j)&&_t(l),!(g&&I.length===1)){if(!j&&!g&&I.length>=il)return zc(t,I,a,u);var Z=t&&t===this.ownerID,Q=Z?I:it(I);return j?g?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),Z?(this.entries=Q,this):new Cr(t,Q)}},fr.prototype.get=function(t,r,o,a){r===void 0&&(r=ue(o));var u=1<<((t===0?r:r>>>t)&ee),l=this.bitmap;return l&u?this.nodes[fs(l&u-1)].get(t+Dt,r,o,a):a},fr.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=ue(a));var g=(r===0?o:o>>>r)&ee,I=1<<g,D=this.bitmap,N=(D&I)!=0;if(!N&&u===ut)return this;var j=fs(D&I-1),Z=this.nodes,Q=N?Z[j]:void 0,ct=_i(Q,t,r+Dt,o,a,u,l,d);if(ct===Q)return this;if(!N&&ct&&Z.length>=ol)return Wc(t,Z,D,g,ct);if(N&&!ct&&Z.length===2&&ss(Z[1^j]))return Z[1^j];if(N&&ct&&Z.length===1&&ss(ct))return ct;var bt=t&&t===this.ownerID,ge=N?ct?D:D^I:D|I,De=N?ct?hs(Z,j,ct,bt):jc(Z,j,bt):Uc(Z,j,ct,bt);return bt?(this.bitmap=ge,this.nodes=De,this):new fr(t,ge,De)},Wr.prototype.get=function(t,r,o,a){r===void 0&&(r=ue(o));var u=(t===0?r:r>>>t)&ee,l=this.nodes[u];return l?l.get(t+Dt,r,o,a):a},Wr.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=ue(a));var g=(r===0?o:o>>>r)&ee,I=this.nodes,D=I[g];if(u===ut&&!D)return this;var N=_i(D,t,r+Dt,o,a,u,l,d);if(N===D)return this;var j=this.count;if(!D)j++;else if(!N&&(j--,j<sl))return Cc(t,I,j,g);var Z=t&&t===this.ownerID,Q=hs(I,g,N,Z);return Z?(this.count=j,this.nodes=Q,this):new Wr(t,j,Q)},hr.prototype.get=function(t,r,o,a){for(var u=this.entries,l=0,d=u.length;l<d;l++)if(zt(o,u[l][0]))return u[l][1];return a},hr.prototype.update=function(t,r,o,a,u,l,d){o===void 0&&(o=ue(a));var g=u===ut;if(o!==this.keyHash)return g?this:(_t(d),_t(l),Ti(this,t,r,o,[a,u]));for(var I=this.entries,D=0,N=I.length;D<N&&!zt(a,I[D][0]);D++);var j=D<N;if(j?I[D][1]===u:g)return this;if(_t(d),(g||!j)&&_t(l),g&&N===2)return new Ce(t,this.keyHash,I[1^D]);var Z=t&&t===this.ownerID,Q=Z?I:it(I);return j?g?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),Z?(this.entries=Q,this):new hr(t,this.keyHash,Q)},Ce.prototype.get=function(t,r,o,a){return zt(o,this.entry[0])?this.entry[1]:a},Ce.prototype.update=function(t,r,o,a,u,l,d){var g=u===ut,I=zt(a,this.entry[0]);return(I?u===this.entry[1]:g)?this:(_t(d),g?void _t(l):I?t&&t===this.ownerID?(this.entry[1]=u,this):new Ce(t,this.keyHash,[a,u]):(_t(l),Ti(this,t,r,ue(a),[a,u])))},Cr.prototype.iterate=hr.prototype.iterate=function(t,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(t(o[r?u-a:a])===!1)return!1},fr.prototype.iterate=Wr.prototype.iterate=function(t,r){for(var o,a=this.nodes,u=0,l=a.length-1;u<=l;u++)if(o=a[r?l-u:u],o&&o.iterate(t,r)===!1)return!1},Ce.prototype.iterate=function(t){return t(this.entry)},T(yi,K),yi.prototype.next=function(){for(var t=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return vi(t,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return vi(t,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var l=a.nodes[this._reverse?o-u:u];if(l){if(l.entry)return vi(t,l.entry);r=this._stack=is(l,r)}continue}r=this._stack=this._stack.__prev}return pt()};var Gs,il=ye/4,ol=ye/2,sl=ye/4;T(It,lr),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("List [","]")},It.prototype.get=function(t,r){if(t=et(this,t),0<=t&&t<this.size){t+=this._origin;var o=ms(this,t);return o&&o.array[t&ee]}return r},It.prototype.set=function(t,r){return Vc(this,t,r)},It.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},It.prototype.insert=function(t,r){return this.splice(t,0,r)},It.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Dt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):wi()},It.prototype.push=function(){var t=arguments,r=this.size;return this.withMutations(function(o){$e(o,0,r+t.length);for(var a=0;a<t.length;a++)o.set(r+a,t[a])})},It.prototype.pop=function(){return $e(this,0,-1)},It.prototype.unshift=function(){var t=arguments;return this.withMutations(function(r){$e(r,-t.length);for(var o=0;o<t.length;o++)r.set(o,t[o])})},It.prototype.shift=function(){return $e(this,1)},It.prototype.merge=function(){return kn(this,void 0,arguments)},It.prototype.mergeWith=function(t){var r=me.call(arguments,1);return kn(this,t,r)},It.prototype.mergeDeep=function(){return kn(this,as,arguments)},It.prototype.mergeDeepWith=function(t){var r=me.call(arguments,1);return kn(this,us(t),r)},It.prototype.setSize=function(t){return $e(this,0,t)},It.prototype.slice=function(t,r){var o=this.size;return ae(t,r,o)?this:$e(this,Pt(t,o),$t(r,o))},It.prototype.__iterator=function(t,r){var o=0,a=ps(this,r);return new K(function(){var u=a();return u===Zr?pt():R(t,o++,u)})},It.prototype.__iterate=function(t,r){for(var o,a=0,u=ps(this,r);(o=u())!==Zr&&t(o,a++,this)!==!1;);return a},It.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ur(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},It.isList=ds;var Ks="@@__IMMUTABLE_LIST__@@",re=It.prototype;re[Ks]=!0,re[Pr]=re.remove,re.setIn=st.setIn,re.deleteIn=re.removeIn=st.removeIn,re.update=st.update,re.updateIn=st.updateIn,re.mergeIn=st.mergeIn,re.mergeDeepIn=st.mergeDeepIn,re.withMutations=st.withMutations,re.asMutable=st.asMutable,re.asImmutable=st.asImmutable,re.wasAltered=st.wasAltered,Ze.prototype.removeBefore=function(t,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&ee;if(a>=this.array.length)return new Ze([],t);var u,l=a==0;if(0<r){var d=this.array[a];if(u=d&&d.removeBefore(t,r-Dt,o),u===d&&l)return this}if(l&&!u)return this;var g=dr(this,t);if(!l)for(var I=0;I<a;I++)g.array[I]=void 0;return u&&(g.array[a]=u),g},Ze.prototype.removeAfter=function(t,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&ee;if(a>=this.array.length)return this;var u;if(0<r){var l=this.array[a];if(u=l&&l.removeAfter(t,r-Dt,o),u===l&&a==this.array.length-1)return this}var d=dr(this,t);return d.array.splice(a+1),u&&(d.array[a]=u),d};var Js,Zr={};T(Rt,ft),Rt.of=function(){return this(arguments)},Rt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Rt.prototype.get=function(t,r){var o=this._map.get(t);return o===void 0?r:this._list.get(o)[1]},Rt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Mn()},Rt.prototype.set=function(t,r){return vs(this,t,r)},Rt.prototype.remove=function(t){return vs(this,t,ut)},Rt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Rt.prototype.__iterate=function(t,r){var o=this;return this._list.__iterate(function(a){return a&&t(a[1],a[0],o)},r)},Rt.prototype.__iterator=function(t,r){return this._list.fromEntrySeq().__iterator(t,r)},Rt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t),o=this._list.__ensureOwner(t);return t?Si(r,o,t,this.__hash):(this.__ownerID=t,this._map=r,this._list=o,this)},Rt.isOrderedMap=ys,Rt.prototype[gr]=!0,Rt.prototype[Pr]=Rt.prototype.remove;var Xs;T(pe,E),pe.prototype.get=function(t,r){return this._iter.get(t,r)},pe.prototype.has=function(t){return this._iter.has(t)},pe.prototype.valueSeq=function(){return this._iter.valueSeq()},pe.prototype.reverse=function(){var t=this,r=Oi(this,!0);return this._useKeys||(r.valueSeq=function(){return t._iter.toSeq().reverse()}),r},pe.prototype.map=function(t,r){var o=this,a=_s(this,t,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(t,r)}),a},pe.prototype.__iterate=function(t,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,l){return t(u,l,a)}:(o=r?Is(this):0,function(u){return t(u,r?--o:o++,a)}),r)},pe.prototype.__iterator=function(t,r){if(this._useKeys)return this._iter.__iterator(t,r);var o=this._iter.__iterator(ve,r),a=r?Is(this):0;return new K(function(){var u=o.next();return u.done?u:R(t,r?--a:a++,u.value,u)})},pe.prototype[gr]=!0,T(pr,S),pr.prototype.includes=function(t){return this._iter.includes(t)},pr.prototype.__iterate=function(t,r){var o=this,a=0;return this._iter.__iterate(function(u){return t(u,a++,o)},r)},pr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ve,r),a=0;return new K(function(){var u=o.next();return u.done?u:R(t,a++,u.value,u)})},T(mr,M),mr.prototype.has=function(t){return this._iter.includes(t)},mr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){return t(a,a,o)},r)},mr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ve,r);return new K(function(){var a=o.next();return a.done?a:R(t,a.value,a.value,a)})},T(yr,E),yr.prototype.entrySeq=function(){return this._iter.toSeq()},yr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){if(a){Os(a);var u=J(a);return t(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},yr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ve,r);return new K(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){Os(u);var l=J(u);return R(t,l?u.get(0):u[0],l?u.get(1):u[1],a)}}})},pr.prototype.cacheResult=pe.prototype.cacheResult=mr.prototype.cacheResult=yr.prototype.cacheResult=ki,T(le,zr),le.prototype.toString=function(){return this.__toString(xs(this)+" {","}")},le.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},le.prototype.get=function(t,r){if(!this.has(t))return r;var o=this._defaultValues[t];return this._map?this._map.get(t,o):o},le.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=bn(this,Ie()))},le.prototype.set=function(t,r){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+xs(this));if(this._map&&!this._map.has(t)){var o=this._defaultValues[t];if(r===o)return this}var a=this._map&&this._map.set(t,r);return this.__ownerID||a===this._map?this:bn(this,a)},le.prototype.remove=function(t){if(!this.has(t))return this;var r=this._map&&this._map.remove(t);return this.__ownerID||r===this._map?this:bn(this,r)},le.prototype.wasAltered=function(){return this._map.wasAltered()},le.prototype.__iterator=function(t,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(t,r)},le.prototype.__iterate=function(t,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(t,r)},le.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(t);return t?bn(this,r,t):(this.__ownerID=t,this._map=r,this)};var Bt=le.prototype;Bt[Pr]=Bt.remove,Bt.deleteIn=Bt.removeIn=st.removeIn,Bt.merge=st.merge,Bt.mergeWith=st.mergeWith,Bt.mergeIn=st.mergeIn,Bt.mergeDeep=st.mergeDeep,Bt.mergeDeepWith=st.mergeDeepWith,Bt.mergeDeepIn=st.mergeDeepIn,Bt.setIn=st.setIn,Bt.update=st.update,Bt.updateIn=st.updateIn,Bt.withMutations=st.withMutations,Bt.asMutable=st.asMutable,Bt.asImmutable=st.asImmutable,T(kt,In),kt.of=function(){return this(arguments)},kt.fromKeys=function(t){return this(w(t).keySeq())},kt.prototype.toString=function(){return this.__toString("Set {","}")},kt.prototype.has=function(t){return this._map.has(t)},kt.prototype.add=function(t){return xi(this,this._map.set(t,!0))},kt.prototype.remove=function(t){return xi(this,this._map.remove(t))},kt.prototype.clear=function(){return xi(this,this._map.clear())},kt.prototype.union=function(){var t=me.call(arguments,0);return t=t.filter(function(r){return r.size!==0}),t.length===0?this:this.size!==0||this.__ownerID||t.length!==1?this.withMutations(function(r){for(var o=0;o<t.length;o++)nt(t[o]).forEach(function(a){return r.add(a)})}):this.constructor(t[0])},kt.prototype.intersect=function(){var t=me.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return nt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.every(function(u){return u.includes(a)})||o.remove(a)})})},kt.prototype.subtract=function(){var t=me.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return nt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.some(function(u){return u.includes(a)})&&o.remove(a)})})},kt.prototype.merge=function(){return this.union.apply(this,arguments)},kt.prototype.mergeWith=function(){var t=me.call(arguments,1);return this.union.apply(this,t)},kt.prototype.sort=function(t){return Fe(vr(this,t))},kt.prototype.sortBy=function(t,r){return Fe(vr(this,r,t))},kt.prototype.wasAltered=function(){return this._map.wasAltered()},kt.prototype.__iterate=function(t,r){var o=this;return this._map.__iterate(function(a,u){return t(u,u,o)},r)},kt.prototype.__iterator=function(t,r){return this._map.map(function(o,a){return a}).__iterator(t,r)},kt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t);return t?this.__make(r,t):(this.__ownerID=t,this._map=r,this)},kt.isSet=Mi;var Qs="@@__IMMUTABLE_SET__@@",fe=kt.prototype;fe[Qs]=!0,fe[Pr]=fe.remove,fe.mergeDeep=fe.merge,fe.mergeDeepWith=fe.mergeWith,fe.withMutations=st.withMutations,fe.asMutable=st.asMutable,fe.asImmutable=st.asImmutable,fe.__empty=bi,fe.__make=bs;var ta;T(Fe,kt),Fe.of=function(){return this(arguments)},Fe.fromKeys=function(t){return this(w(t).keySeq())},Fe.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fe.isOrderedSet=As;var Nn=Fe.prototype;Nn[gr]=!0,Nn.__empty=Ai,Nn.__make=Ns;var ea;T(Ct,lr),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("Stack [","]")},Ct.prototype.get=function(t,r){var o=this._head;for(t=et(this,t);o&&t--;)o=o.next;return o?o.value:r},Ct.prototype.peek=function(){return this._head&&this._head.value},Ct.prototype.push=function(){if(arguments.length===0)return this;for(var t=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Vr(t,r)},Ct.prototype.pushAll=function(t){if(t=W(t),t.size===0)return this;ce(t.size);var r=this.size,o=this._head;return t.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Vr(r,o)},Ct.prototype.pop=function(){return this.slice(1)},Ct.prototype.unshift=function(){return this.push.apply(this,arguments)},Ct.prototype.unshiftAll=function(t){return this.pushAll(t)},Ct.prototype.shift=function(){return this.pop.apply(this,arguments)},Ct.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Ni()},Ct.prototype.slice=function(t,r){if(ae(t,r,this.size))return this;var o=Pt(t,this.size),a=$t(r,this.size);if(a!==this.size)return lr.prototype.slice.call(this,t,r);for(var u=this.size-o,l=this._head;o--;)l=l.next;return this.__ownerID?(this.size=u,this._head=l,this.__hash=void 0,this.__altered=!0,this):Vr(u,l)},Ct.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Vr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ct.prototype.__iterate=function(t,r){if(r)return this.reverse().__iterate(t);for(var o=0,a=this._head;a&&t(a.value,o++,this)!==!1;)a=a.next;return o},Ct.prototype.__iterator=function(t,r){if(r)return this.reverse().__iterator(t);var o=0,a=this._head;return new K(function(){if(a){var u=a.value;return a=a.next,R(t,o++,u)}return pt()})},Ct.isStack=Fs;var ra="@@__IMMUTABLE_STACK__@@",_r=Ct.prototype;_r[ra]=!0,_r.withMutations=st.withMutations,_r.asMutable=st.asMutable,_r.asImmutable=st.asImmutable,_r.wasAltered=st.wasAltered;var na;L.Iterator=K,Le(L,{toArray:function(){ce(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new pr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new pe(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){ce(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return Rt(this.toKeyedSeq())},toOrderedSet:function(){return Fe(X(this)?this.valueSeq():this)},toSet:function(){return kt(X(this)?this.valueSeq():this)},toSetSeq:function(){return new mr(this)},toSeq:function(){return at(this)?this.toIndexedSeq():X(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ct(X(this)?this.valueSeq():this)},toList:function(){return It(X(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=me.call(arguments,0);return Et(this,Zc(this,r))},includes:function(r){return this.some(function(o){return zt(o,r)})},entries:function(){return this.__iterator(Re)},every:function(r,o){ce(this.size);var a=!0;return this.__iterate(function(u,l,d){if(!r.call(o,u,l,d))return a=!1,!1}),a},filter:function(r,o){return Et(this,Ts(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return ce(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){ce(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator(qr)},map:function(r,o){return Et(this,_s(this,r,o))},reduce:function(r,o,a){ce(this.size);var u,l;return 2>arguments.length?l=!0:u=o,this.__iterate(function(d,g,I){l?(l=!1,u=d):u=r.call(a,u,d,g,I)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Et(this,Oi(this,!0))},slice:function(r,o){return Et(this,Ii(this,r,o,!0))},some:function(r,o){return!this.every(An(r),o)},sort:function(r){return Et(this,vr(this,r))},values:function(){return this.__iterator(ve)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return $(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return Pc(this,r,o)},equals:function(r){return hi(this,r)},entrySeq:function(){var r=this;if(r._cache)return new x(r._cache);var o=r.toSeq().map(Jc).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(An(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(l,d,g){if(r.call(o,l,d,g))return u=[d,l],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Vt)},flatMap:function(r,o){return Et(this,$c(this,r,o))},flatten:function(r){return Et(this,Es(this,r,!0))},fromEntrySeq:function(){return new yr(this)},get:function(r,o){return this.find(function(a,u){return zt(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,l=this,d=Ms(r);!(a=d.next()).done;)if(u=a.value,l=l&&l.get?l.get(u,ut):ut,l===ut)return o;return l},groupBy:function(r,o){return qc(this,r,o)},has:function(r){return this.get(r,ut)!==ut},hasIn:function(r){return this.getIn(r,ut)!==ut},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return zt(o,r)})},keySeq:function(){return this.toSeq().map(Kc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return xn(this,r)},maxBy:function(r,o){return xn(this,o,r)},min:function(r){return xn(this,r?Ls(r):zs)},minBy:function(r,o){return xn(this,o?Ls(o):zs,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(rr(0,r))},skipLast:function(r){return Et(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return Et(this,ws(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(An(r),o)},sortBy:function(r,o){return Et(this,vr(this,o,r))},take:function(r){return this.slice(0,rr(0,r))},takeLast:function(r){return Et(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return Et(this,Hc(this,r,o))},takeUntil:function(r,o){return this.takeWhile(An(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Qc(this))}});var ne=L.prototype;ne[Us]=!0,ne[Li]=ne.values,ne.__toJS=ne.toArray,ne.__toStringMapper=Rs,ne.inspect=ne.toSource=function(){return this.toString()},ne.chain=ne.flatMap,ne.contains=ne.includes,Le(w,{flip:function(){return Et(this,gs(this))},mapEntries:function(r,o){var a=this,u=0;return Et(this,this.toSeq().map(function(l,d){return r.call(o,[d,l],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return Et(this,this.toSeq().flip().map(function(u,l){return r.call(o,u,l,a)}).flip())}});var Fn=w.prototype;return Fn[js]=!0,Fn[Li]=ne.entries,Fn.__toJS=ne.toObject,Fn.__toStringMapper=function(t,r){return JSON.stringify(r)+": "+Rs(t)},Le(W,{toKeyedSeq:function(){return new pe(this,!1)},filter:function(r,o){return Et(this,Ts(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return Et(this,Oi(this,!1))},slice:function(r,o){return Et(this,Ii(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=rr(0|o,0),a===0||a===2&&!o)return this;r=Pt(r,0>r?this.count():this.size);var u=this.slice(0,r);return Et(this,a===1?u:u.concat(it(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return Et(this,Es(this,r,!1))},get:function(r,o){return r=et(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=et(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return Et(this,Yc(this,r))},interleave:function(){var r=[this].concat(it(arguments)),o=Di(this.toSeq(),S.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),Et(this,a)},keySeq:function(){return Yt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return Et(this,ws(this,r,o,!1))},zip:function(){var r=[this].concat(it(arguments));return Et(this,Di(this,Xc,r))},zipWith:function(r){var o=it(arguments);return o[0]=this,Et(this,Di(this,r,o))}}),W.prototype[Vs]=!0,W.prototype[gr]=!0,Le(nt,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),nt.prototype.has=ne.includes,nt.prototype.contains=nt.prototype.includes,Le(E,w.prototype),Le(S,W.prototype),Le(M,nt.prototype),Le(zr,w.prototype),Le(lr,W.prototype),Le(In,nt.prototype),{Iterable:L,Seq:b,Collection:He,Map:ft,OrderedMap:Rt,List:It,Stack:Ct,Set:kt,OrderedSet:Fe,Record:le,Range:Yt,Repeat:Kt,is:zt,fromJS:Oe}})}),P=i(function(y,T){(function(L,w){w(T,z)})(e,function(L){"use strict";function w(p,_){for(var A=Object.getOwnPropertyNames(_),C=0;C<A.length;C++){var V=A[C],H=Object.getOwnPropertyDescriptor(_,V);H&&H.configurable&&p[V]===void 0&&Object.defineProperty(p,V,H)}return p}function W(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function nt(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _>"u"?"undefined":s(_)));p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):w(p,_))}function J(){}var X=function(){function p(_,A){for(var C,V=0;V<A.length;V++)C=A[V],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}return function(_,A,C){return A&&p(_.prototype,A),C&&p(_,C),_}}(),at=function(p,_,A){var C=!0;t:for(;C;){var V=p,H=_,rt=A;C=!1,V===null&&(V=Function.prototype);var ot=Object.getOwnPropertyDescriptor(V,H);if(ot===void 0){var xt=Object.getPrototypeOf(V);if(xt===null)return;p=xt,_=H,A=rt,C=!0,ot=xt=void 0;continue t}else{if("value"in ot)return ot.value;var Oe=ot.get;return Oe===void 0?void 0:Oe.call(rt)}}};if(typeof lt>"u"){var lt=function(p){return"@@"+p};lt.for=lt}L.construct=function(p){return J.prototype=p.constructor.prototype,new J};var dt=lt.for("typed/type"),Ut=lt.for("typed/store"),_t=lt.for("typed/empty"),Tt=lt.for("typed/type/maybe"),it=lt.for("typed/type/default"),$=lt.for("typed/type/label"),et=lt.for("transducer/init"),Vt=lt.for("transducer/result"),ae=lt.for("transducer/step"),Pt=lt.for("typed/type/read"),$t=lt.for("typed/type/parse"),Lt=lt("typed/type/name"),K=lt("typed/type/signature"),R=function(p,_,A){var C=function(rt){function ot(xt){W(this,ot),at(Object.getPrototypeOf(ot.prototype),"constructor",this).call(this),this[it]=xt}return nt(ot,rt),ot}(Qt),V=C.prototype;V[it]=A,V[$t]=_,V[$]=p;var H=function(rt){return rt===void 0?V:new C(rt)};return H.prototype=V,H};L.Typed=R,R.label=$,R.defaultValue=it,R.read=Pt,R.typeName=Lt,R.typeSignature=K,R.type=dt,R.store=Ut,R.init=et,R.result=Vt,R.step=ae,R.DELETE="delete",R.empty=_t;var pt=function(p){return p[Lt]()},Qt=function(){function p(){W(this,p)}return X(p,[{key:R.read,value:function(){var _=0>=arguments.length||arguments[0]===void 0?this[it]:arguments[0];return this[$t](_)}},{key:R.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:R.typeName,value:function(){var _=this[$],A=this[it];return A===void 0?_:_+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qt;var jt=Object.prototype,te=Array.isArray||function(p){return jt.toString.call(p)==="[object Array]"},Y=function(p){return jt.toString.call(p)==="[object RegExp]"},G=function(p){var _=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Pt]?p:p.prototype&&p.prototype[Pt]?p.prototype:_==="number"?new R.Number(p):_==="string"?new R.String(p):_==="boolean"?new R.Boolean(p):_==="symbol"?new R.Symbol(p):te(p)?R.Array(p):Y(p)?new R.RegExp(p):p===String?R.String.prototype:p===Number?R.Number.prototype:p===Boolean?R.Boolean.prototype:p===RegExp?R.RegExp.prototype:p===Array?R.Array.prototype:p===lt?R.Symbol.prototype:p===Date?R.Date.prototype:b}()};L.typeOf=G;var b=R("Any",function(p){return p})();L.Any=b,R.Any=b,R.Number=R("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),R.String=R("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),R.Symbol=R("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),R.Array=R("Array",function(p){return te(p)?p:TypeError('"'+p+'" is not an array')}),R.RegExp=R("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),R.Boolean=R("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),R.Date=R("Date",function(p){var _=new Date(p);return isNaN(_.valueOf())?new TypeError('"'+p+'" is not a valid date.'):_});var E=function(p){function _(A){W(this,_),at(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[dt]=A}return nt(_,p),X(_,[{key:R.typeName,value:function(){return"Maybe("+this[dt][Lt]()+")"}},{key:R.read,value:function(A){var C=A==null?null:this[dt][Pt](A);return C instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[dt][Lt]()+" type"):C}}]),_}(Qt),S=function(p){var _=G(p);if(_===b)throw TypeError(p+" is not a valid type");return _[Tt]||(_[Tt]=new E(_))};L.Maybe=S,S.Type=E;var M=function(p){function _(A){W(this,_),at(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[dt]=A}return nt(_,p),X(_,[{key:R.typeName,value:function(){return"Union("+this[dt].map(pt).join(", ")+")"}},{key:R.read,value:function(A){for(var C,V=this[dt],H=V.length,rt=0;rt<H;){if(C=V[rt],A instanceof C.constructor)return A;++rt}for(rt=0;rt<H;){var ot=V[rt][Pt](A);if(!(ot instanceof TypeError))return ot;++rt}return TypeError('"'+A+'" does not satisfy '+this[Lt]()+" type")}}]),_}(Qt),x=function(p,_){return p.filter(function(A){return 0>_.indexOf(A)})},F=function(p,_){if(p.length>_.length){var A=x(_,p);return A.length===0?p:p.concat(A)}var A=x(p,_);return A.length===0?_:A.concat(_)},O=function(){for(var p=arguments.length,_=Array(p),A=0;A<p;A++)_[A]=arguments[A];var C=_.length;if(C===0)throw TypeError("Union must be of at at least one type");for(var V=null,H=null,rt=0;rt<C;){var ot=G(_[rt]);if(ot===b)return b;if(!V)H=ot,V=H instanceof M?H[dt]:[ot];else if(0>V.indexOf(ot))if(ot instanceof M){var xt=F(V,ot[dt]);xt===ot[dt]?(H=ot,V=xt):xt!==V&&(H=null,V=xt)}else H=null,V.push(ot);++rt}return H||new M(V)};L.Union=O,O.Type=M,R.Number.Range=function(p,_,A){return _===void 0&&(_=1/0),R("Typed.Number.Range("+p+".."+_+")",function(C){return typeof C=="number"?C>=p&&C<=_?C:TypeError('"'+C+`" isn't in the range of `+p+".."+_):TypeError('"'+C+'" is not a number')},A)}})}),tt=i(function(y,T){(function(L,w){w(T,P,z)})(e,function(L,w,W){"use strict";function nt(G,b){for(var E=Object.getOwnPropertyNames(b),S=0;S<E.length;S++){var M=E[S],x=Object.getOwnPropertyDescriptor(b,M);x&&x.configurable&&G[M]===void 0&&Object.defineProperty(G,M,x)}return G}function J(G,b,E){return b in G?Object.defineProperty(G,b,{value:E,enumerable:!0,configurable:!0,writable:!0}):G[b]=E,G}function X(G,b){if(!(G instanceof b))throw new TypeError("Cannot call a class as a function")}function at(G,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof b>"u"?"undefined":s(b)));G.prototype=Object.create(b&&b.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(G,b):nt(G,b))}var lt=function(){function G(b,E){var S,M=[],x=!0,F=!1;try{for(var O,p=b[Symbol.iterator]();!(x=(O=p.next()).done)&&(M.push(O.value),!(E&&M.length===E));x=!0);}catch(_){F=!0,S=_}finally{try{!x&&p.return&&p.return()}finally{if(F)throw S}}return M}return function(b,E){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return G(b,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function G(b,E){for(var S,M=0;M<E.length;M++)S=E[M],S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}return function(b,E,S){return E&&G(b.prototype,E),S&&G(b,S),b}}(),Ut=function(G,b,E){var S=!0;t:for(;S;){var M=G,x=b,F=E;S=!1,M===null&&(M=Function.prototype);var O=Object.getOwnPropertyDescriptor(M,x);if(O===void 0){var p=Object.getPrototypeOf(M);if(p===null)return;G=p,b=x,E=F,S=!0,O=p=void 0;continue t}else{if("value"in O)return O.value;var _=O.get;return _===void 0?void 0:_.call(F)}}},_t=W.Iterable.Keyed,Tt=function(G){return function(){return this.get(G)}},it=function(G){return function(b){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(G,b)}},$=w.Typed.store,et=w.Typed.type,Vt=w.Typed.step,ae=w.Typed.init,Pt=w.Typed.result,$t=w.Typed.read,Lt=w.Typed.label,K=w.Typed.empty,R=w.Typed.typeName,pt=w.Typed.typeSignature,Qt=function(){};Qt.prototype=W.Iterable.Keyed.prototype;var jt=function(G){function b(){X(this,b),Ut(Object.getPrototypeOf(b.prototype),"constructor",this).call(this)}return at(b,G),dt(b,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(E){return E.asImmutable()}},{key:w.Typed.read,value:function(E){var S=this.constructor;if(E&&E instanceof S)return E;if(E===null||E&&(typeof E>"u"?"undefined":s(E))!=="object")return TypeError('Invalid data structure "'+E+'" was passed to '+this[R]());var M=(0,W.Seq)(E),x=this[et],F=M.size===0;if(F&&this[K])return this[K];var O;for(var p in x){var _=x[p],A=M.has(p)?M.get(p):this.get(p),C=_[$t](A);if(C instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+C.message);O=this[Vt](O||this[ae](),[p,C])}return O=this[Pt](O),F&&(this[K]=O),O}},{key:w.Typed.step,value:function(E,S){var M=lt(S,2),x=M[0],F=M[1],O=E[$]?E[$].set(x,F):new W.Map([[x,F]]);if(E[$]===O)return E;var p=E.__ownerID?E:(0,w.construct)(E);return p[$]=O,p}},{key:w.Typed.typeSignature,value:function(){var E=this[et],S=[];for(var M in E)S.push(M+": "+E[M][R]());return"Typed.Record({"+S.join(", ")+"})"}},{key:w.Typed.typeName,value:function(){return this[Lt]||this[pt]()}},{key:"toString",value:function(){return this.__toString(this[R]()+"({","})")}},{key:"has",value:function(E){return!!this[et][E]}},{key:"get",value:function(E,S){return this[et][E]&&this[$]?this[$].get(E,S):S}},{key:"clear",value:function(){return this.__ownerID?(this[$]&&this[$].clear(),this):this[K]||(this[K]=new this.constructor)}},{key:"remove",value:function(E){return this[et][E]?this.set(E,void 0):this}},{key:"set",value:function(E,S){var M=this[et][E];if(!M)throw TypeError('Cannot set unknown field "'+E+'" on "'+this[R]()+'"');var x=M[$t](S);if(x instanceof TypeError)throw TypeError("Invalid value for "+E+" field: "+x.message);return this[Vt](this,[E,x])}},{key:"__iterator",value:function(E,S){var M=this;return _t(this[et]).map(function(x,F){return M.get(F)}).__iterator(E,S)}},{key:"__iterate",value:function(E,S){var M=this;return _t(this[et]).map(function(x,F){return M.get(F)}).__iterate(E,S)}},{key:"__ensureOwner",value:function(E){if(E===this.__ownerID)return this;var S=this[$]&&this[$].__ensureOwner(E),M=E?(0,w.construct)(this):this;return M.__ownerID=E,M[$]=S,M}},{key:"wasAltered",value:function(){return this[$].wasAltered()}}]),b}(Qt),te=function(G,b){if(G&&(typeof G>"u"?"undefined":s(G))==="object"){var E=Object.create(null),S=Object.keys(G),M=S.length;if(0<M){var x,F=function(){for(var O=(x={size:{value:M}},J(x,et,{value:E}),J(x,Lt,{value:b}),x),p=0;p<M;){var _=S[p],A=(0,w.typeOf)(G[_]);if(A)E[_]=A,O[_]={get:Tt(_),set:it(_),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+_+'" field');++p}var C=function V(H){var rt=this instanceof V,ot=rt?this.constructor:V;if(H instanceof ot)return H;var xt=ot.prototype,Oe=xt[$t](H);if(Oe instanceof TypeError)throw Oe;return rt?void(this[$]=Oe[$]):Oe};return O.constructor={value:C},C.prototype=Object.create(Y,O),C.prototype,{v:C}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=te,te.Type=jt,te.prototype=jt.prototype;var Y=jt.prototype;Y[w.Typed.DELETE]=Y.remove,Y.deleteIn=W.Map.prototype.deleteIn,Y.removeIn=W.Map.prototype.removeIn,Y.merge=W.Map.prototype.merge,Y.mergeWith=W.Map.prototype.mergeWith,Y.mergeIn=W.Map.prototype.mergeIn,Y.mergeDeep=W.Map.prototype.mergeDeep,Y.mergeDeepWith=W.Map.prototype.mergeDeepWith,Y.mergeDeepIn=W.Map.prototype.mergeDeepIn,Y.setIn=W.Map.prototype.setIn,Y.update=W.Map.prototype.update,Y.updateIn=W.Map.prototype.updateIn,Y.withMutations=W.Map.prototype.withMutations,Y.asMutable=W.Map.prototype.asMutable,Y.asImmutable=W.Map.prototype.asImmutable,Y.map=void 0,Y.filter=void 0,Y.filterNot=void 0,Y.flip=void 0,Y.mapKeys=void 0,Y.mapEntries=void 0,Y.sort=void 0,Y.sortBy=void 0,Y.reverse=void 0,Y.slice=void 0,Y.butLast=void 0,Y.flatMap=void 0,Y.flatten=void 0,Y.rest=void 0,Y.skip=void 0,Y.skipLast=void 0,Y.skipWhile=void 0,Y.skipUntil=void 0,Y.sortBy=void 0,Y.take=void 0,Y.takeLast=void 0,Y.takeWhile=void 0,Y.takeUntil=void 0})}),q=i(function(y,T){(function(L,w){w(T,P,z)})(e,function(L,w,W){"use strict";function nt(x,F){for(var O=Object.getOwnPropertyNames(F),p=0;p<O.length;p++){var _=O[p],A=Object.getOwnPropertyDescriptor(F,_);A&&A.configurable&&x[_]===void 0&&Object.defineProperty(x,_,A)}return x}function J(x,F,O){return F in x?Object.defineProperty(x,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[F]=O,x}function X(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")}function at(x,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));x.prototype=Object.create(F&&F.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(x,F):nt(x,F))}function lt(){}var dt=function(){function x(F,O){var p,_=[],A=!0,C=!1;try{for(var V,H=F[Symbol.iterator]();!(A=(V=H.next()).done)&&(_.push(V.value),!(O&&_.length===O));A=!0);}catch(rt){C=!0,p=rt}finally{try{!A&&H.return&&H.return()}finally{if(C)throw p}}return _}return function(F,O){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ut=function(){function x(F,O){for(var p,_=0;_<O.length;_++)p=O[_],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,O,p){return O&&x(F.prototype,O),p&&x(F,p),F}}(),_t=function(x,F,O){var p=!0;t:for(;p;){var _=x,A=F,C=O;p=!1,_===null&&(_=Function.prototype);var V=Object.getOwnPropertyDescriptor(_,A);if(V===void 0){var H=Object.getPrototypeOf(_);if(H===null)return;x=H,F=A,O=C,p=!0,V=H=void 0;continue t}else{if("value"in V)return V.value;var rt=V.get;return rt===void 0?void 0:rt.call(C)}}},Tt=W.List,it=W.Iterable.Indexed,$=w.Typed.store,et=w.Typed.type,Vt=w.Typed.read,ae=w.Typed.step,Pt=w.Typed.init,$t=w.Typed.result,Lt=w.Typed.label,K=w.Typed.typeName,R=w.Typed.empty,pt=function(x,F){var O=F(x[$]);if(O===x[$])return x;var p=x.__ownerID?x:(0,w.construct)(x);return p[$]=O,p.size=O.size,p},Qt=function(x){return x.clear()},jt=function(x){return x.pop()},te=function(x){return x.shift()},Y=function(x){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return at(F,x),Ut(F,[{key:w.Typed.typeName,value:function(){return"TypeInferer"}},{key:w.Typed.read,value:function(O){var p=(0,w.typeOf)(O).constructor.prototype;return this.type=this.type?(0,w.Union)(this.type,p):p,O}}]),F}(w.Type);lt.prototype=Tt.prototype;var G=function(x){function F(O){return X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Vt](O)}return at(F,x),Ut(F,null,[{key:"from",value:function(O){var p=(0,w.construct)(this.prototype);return p[$]=O[$],p.size=O.size,p}}]),Ut(F,[{key:w.Typed.init,value:function(){var O=(0,w.construct)(this).asMutable();return O[et]=new Y,O}},{key:w.Typed.result,value:function(O){var p=O.asImmutable();return p[et]=O[et].type,p}},{key:w.Typed.read,value:function(O){var p=this.constructor;if(O==null){if(!this[R]){var _=(0,w.construct)(this);_[$]=Tt(),_.size=0,this[R]=_}return this[R]}if(O instanceof p&&O&&O.constructor===p)return O;var A=it(O),C=A.size===0;if(C&&this[R])return this[R];var V=this[Pt]();return V.size=A.size,A.forEach(function(H,rt){V.set(rt,H)}),V=this[$t](V),C&&(this[R]=V),V}},{key:w.Typed.step,value:function(O,p){var _=dt(p,2),A=_[0],C=_[1];return pt(O,function(){var V=0>=arguments.length||arguments[0]===void 0?Tt():arguments[0];return V.set(A,C)})}},{key:w.Typed.typeName,value:function(){return this[Lt]||"Typed.List("+this[et][K]()+")"}},{key:"toString",value:function(){return this.__toString(this[K]()+"([","])")}},{key:"has",value:function(O){return this[$].has(O)}},{key:"get",value:function(O,p){return this[$]?this[$].get(parseInt(O),p):p}},{key:"clear",value:function(){return this.__ownerID?pt(this,Qt):this[R]||this[Vt]()}},{key:"insert",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var _=this[et][Vt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return pt(this,function(A){return A.insert(O,p)})}},{key:"remove",value:function(O){return pt(this,function(p){return p&&p.remove(O)})}},{key:"set",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var _=this[et][Vt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return this[ae](this,[O,_])}},{key:"push",value:function(){for(var O=this[et],p=[],_=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];for(var V=A.length,H=0;H<V;){var rt=A[H],ot=O[Vt](rt);if(ot instanceof TypeError)throw TypeError("Invalid value: "+ot.message);p.push(ot),++H}return pt(this,function(xt){return xt?xt.push.apply(xt,p):Tt.apply(void 0,p)})}},{key:"pop",value:function(){return pt(this,jt)}},{key:"unshift",value:function(){for(var O=this[et],p=[],_=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];for(var V=A.length,H=0;H<V;){var rt=A[H],ot=O[Vt](rt);if(ot instanceof TypeError)throw TypeError("Invalid value: "+ot.message);p.push(ot),++H}return pt(this,function(xt){return xt?xt.unshift.apply(xt,p):Tt.apply(void 0,p)})}},{key:"shift",value:function(){return pt(this,te)}},{key:"setSize",value:function(O){if(O>this.size)throw TypeError("setSize may only downsize");return pt(this,function(p){return p.setSize(O)})}},{key:"slice",value:function(O,p){return pt(this,function(_){return _&&_.slice(O,p)})}},{key:"wasAltered",value:function(){return this[$].wasAltered()}},{key:"__ensureOwner",value:function(O){var p=this.__ownerID===O?this:O?(0,w.construct)(this):this;return p.__ownerID=O,p[$]=this[$]?this[$].__ensureOwner(O):Tt().__ensureOwner(O),p.size=p[$].size,p}},{key:"__iterator",value:function(O,p){var _=this;return it(this[$]).map(function(A,C){return _.get(C)}).__iterator(O,p)}},{key:"__iterate",value:function(O,p){var _=this;return it(this[$]).map(function(A,C){return _.get(C)}).__iterate(O,p)}}]),F}(lt);G.prototype[w.Typed.DELETE]=G.prototype.remove;var b=function(){};b.prototype=G.prototype;var E=function(x){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return at(F,x),Ut(F,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(O){return O.asImmutable()}},{key:"map",value:function(O,p){if(this.size===0)return this;var _=G.from(this).map(O,p);if(this[$]===_[$])return this;if(_[et]===this[et]){var A=(0,w.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}},{key:"flatMap",value:function(O,p){if(this.size===0)return this;var _=G.from(this).flatMap(O,p);if(this[$]===_[$])return this;if(_[et]===this[et]){var A=(0,w.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}}]),F}(b),S=function(x,F){var O;if(x===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(x===w.Any)return W.List;var p=(0,w.typeOf)(x);if(p===w.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+x);var _=function A(C){var V=this instanceof A,H=V?this.constructor:A;if(C instanceof H)return C;var rt=H.prototype[Vt](C);if(rt instanceof TypeError)throw rt;if(V&&!this[$])this[$]=rt[$],this.size=rt.size;else return rt;return this};return _.of=Tt.of,_.prototype=Object.create(M,(O={constructor:{value:_}},J(O,et,{value:p}),J(O,Lt,{value:F}),O)),_};L.List=S,S.Type=E,S.prototype=E.prototype;var M=E.prototype})}),vt=i(function(y,T){(function(L,w){w(T,P,z)})(e,function(L,w,W){"use strict";function nt(b,E){for(var S=Object.getOwnPropertyNames(E),M=0;M<S.length;M++){var x=S[M],F=Object.getOwnPropertyDescriptor(E,x);F&&F.configurable&&b[x]===void 0&&Object.defineProperty(b,x,F)}return b}function J(b,E,S){return E in b?Object.defineProperty(b,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):b[E]=S,b}function X(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function at(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof E>"u"?"undefined":s(E)));b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):nt(b,E))}var lt=function(){function b(E,S){var M,x=[],F=!0,O=!1;try{for(var p,_=E[Symbol.iterator]();!(F=(p=_.next()).done)&&(x.push(p.value),!(S&&x.length===S));F=!0);}catch(A){O=!0,M=A}finally{try{!F&&_.return&&_.return()}finally{if(O)throw M}}return x}return function(E,S){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return b(E,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),dt=function(){function b(E,S){for(var M,x=0;x<S.length;x++)M=S[x],M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}return function(E,S,M){return S&&b(E.prototype,S),M&&b(E,M),E}}(),Ut=function(b,E,S){var M=!0;t:for(;M;){var x=b,F=E,O=S;M=!1,x===null&&(x=Function.prototype);var p=Object.getOwnPropertyDescriptor(x,F);if(p===void 0){var _=Object.getPrototypeOf(x);if(_===null)return;b=_,E=F,S=O,M=!0,p=_=void 0;continue t}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(O)}}},_t=W.Map,Tt=W.Iterable.Keyed,it=w.Typed.store,$=w.Typed.type,et=w.Typed.read,Vt=w.Typed.step,ae=w.Typed.init,Pt=w.Typed.result,$t=w.Typed.label,Lt=w.Typed.typeName,K=w.Typed.empty,R=function(b){function E(S,M,x){X(this,E),Ut(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),this.key=S,this.value=M,this.label=x}return at(E,b),dt(E,[{key:w.Typed.typeName,value:function(){return this.label||this.key[Lt]()+", "+this.value[Lt]()}},{key:w.Typed.read,value:function(S){function M(){return S.apply(this,arguments)}return M.toString=function(){return S.toString()},M}(function(S){var M=lt(S,2),x=M[0],F=M[1],O=this.key[et](x);if(O instanceof TypeError)return TypeError("Invalid key: "+O.message);var p=this.value[et](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[O,p]})}]),E}(w.Type),pt=function(b){function E(){X(this,E),Ut(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,key,value)}return at(E,b),dt(E,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:w.Typed.typeName,value:function(){var S=this.key?this.key[Lt]():"TypeInferred",M=this.value?this.value[Lt]():"TypeInferred";return S+", "+M}},{key:w.Typed.read,value:function(S){var M=(0,w.typeOf)(S[0]).constructor.prototype;this.key=this.key?(0,w.Union)(this.key,M):M;var x=(0,w.typeOf)(S[1]).constructor.prototype;return this.value=this.value?(0,w.Union)(this.value,x):x,S}}]),E}(R),Qt=function(){};Qt.prototype=W.Map.prototype;var jt=function(b){function E(S){return X(this,E),Ut(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),E.prototype[et](S)}return at(E,b),dt(E,[{key:"advance",value:function(S){var M=S.__ownerID?this:(0,w.construct)(this);return M[it]=S,M.size=S.size,M.__ownerID=S.__ownerID,M}},{key:w.Typed.init,value:function(){return this.advance(_t()).asMutable()}},{key:w.Typed.step,value:function(S,M){var x=this[$][et](M);if(x instanceof TypeError)throw x;var F=lt(x,2),O=F[0],p=F[1];return S.advance(S[it].set(O,p))}},{key:w.Typed.result,value:function(S){return S.asImmutable()}},{key:w.Typed.read,value:function(S){var M=this.constructor;if(S==null)return this[K]||(this[K]=this.advance(_t())),this[K];var x=S instanceof M&&S.constructor===M;if(x)return S;for(var F=Tt(S).entries(),O=this[$],p=this[ae]();;){var _=F.next(),A=_.done,C=_.value;if(A)break;var V=O[et](C);if(V instanceof TypeError)return V;p=p[Vt](p,V)}return this[Pt](p)}},{key:w.Typed.typeName,value:function(){return this[$t]||"Typed.Map("+this[$][Lt]()+")"}},{key:"toString",value:function(){return this.__toString(this[Lt]()+"({","})")}},{key:"has",value:function(S){return this[it].has(S)}},{key:"get",value:function(S,M){return this[it].get(S,M)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[it].clear()):this[K]||this[et]()}},{key:"remove",value:function(S){return this.advance(this[it].remove(S))}},{key:"set",value:function(S,M){return this[Vt](this,[S,M])}},{key:"wasAltered",value:function(){return this[it].wasAltered()}},{key:"__ensureOwner",value:function(S){var M=this.__ownerID===S?this:S?(0,w.construct)(this):this,x=this[it].__ensureOwner(S);return M[it]=x,M.size=x.size,M.__ownerID=S,M}},{key:"__iterator",value:function(S,M){return this[it].__iterator(S,M)}},{key:"__iterate",value:function(S,M){return this[it].__iterate(S,M)}}]),E}(Qt);jt.prototype[w.Typed.DELETE]=jt.prototype.remove;var te=function(b){function E(){X(this,E),Ut(Object.getPrototypeOf(E.prototype),"constructor",this).call(this)}return at(E,b),dt(E,[{key:w.Typed.init,value:function(){var S=this.advance(_t()).asMutable();return S[$]=new pt,S}},{key:w.Typed.result,value:function(S){var M=S.asImmutable();return M[$]=S[$].toStatic(),M}}]),E}(jt),Y=function(b,E,S){var M;if(b===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(E===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(b===w.Any&&E===w.Any)return _t;var x=(0,w.typeOf)(b),F=(0,w.typeOf)(E);if(x===w.Any&&b!==w.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+b);if(F===w.Any&&E!==w.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+E);var O=new R(x,F,S),p=function _(A){var C=this instanceof _,V=C?this.constructor:_;if(A instanceof V)return A;var H=V.prototype[et](A);if(H instanceof TypeError)throw H;if(C&&!this[it])this[it]=H[it],this.size=H.size;else return H;return this};return p.of=function(){for(var _=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];return p().withMutations(function(V){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);V.set(A[H],A[H+1])}})},p.prototype=Object.create(G,(M={constructor:{value:p}},J(M,$,{value:O}),J(M,$t,{value:S}),M)),p};L.Map=Y,Y.Type=jt,Y.prototype=jt.prototype;var G=Y.prototype})}),Ot=i(function(y,T){(function(L,w){w(T,tt,q,vt,P)})(e,function(L,w,W,nt,J){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return w.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return W.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return nt.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return J.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return J.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return J.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return J.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return J.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return J.Maybe}})})}),St=Ot.Typed,Mt=Ot.Record,Ft=Ot.List,Pe=Ot.Map,oe=Ot.Any,Xt="[object Function]",Lr="[object GeneratorFunction]",Ee=Object.prototype,tr=Ee.toString;function er(y){var T=Se(y)?tr.call(y):"";return T==Xt||T==Lr}function Se(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}var qe=er;function ni(y){return y===null}var cr=ni;function En(y){return y===void 0}var Du=En,ii=i(function(y,T){function L(Tt){return!!Tt&&(typeof Tt>"u"?"undefined":s(Tt))=="object"}var w=s(e)=="object"&&e&&e.Object===Object&&e,W=T&&!T.nodeType&&T,nt=W&&!0&&y&&!y.nodeType&&y,J=nt&&nt.exports===W,X=J&&w.process,at=function(){try{return X&&X.binding("util")}catch{}}(),lt=at&&at.isDate,dt=Object.prototype,Ut=dt.toString,_t=lt?function(Tt){return function(it){return Tt(it)}}(lt):function(Tt){return L(Tt)&&Ut.call(Tt)=="[object Date]"};y.exports=_t}),oi=1/0,ku=9007199254740991,Mu=17976931348623157e292,zo=NaN,xu="[object Symbol]",bu=/^\s+|\s+$/g,Au=/^[-+]0x[0-9a-f]+$/i,Nu=/^0b[01]+$/i,Fu=/^0o[0-7]+$/i,Co="\\ud800-\\udfff",Lu="\\u0300-\\u036f\\ufe20-\\ufe23",Ru="\\u20d0-\\u20f0",zu="\\ufe0e\\ufe0f",Cu="["+Co+"]",si="["+Lu+Ru+"]",ai="\\ud83c[\\udffb-\\udfff]",Wu="(?:"+si+"|"+ai+")",Wo="[^"+Co+"]",Uo="(?:\\ud83c[\\udde6-\\uddff]){2}",jo="[\\ud800-\\udbff][\\udc00-\\udfff]",Uu="\\u200d",Vo=Wu+"?",Po="["+zu+"]?",ju="(?:"+Uu+"(?:"+[Wo,Uo,jo].join("|")+")"+Po+Vo+")*",Vu=Po+Vo+ju,Pu="(?:"+[Wo+si+"?",si,Uo,jo,Cu].join("|")+")",ui=RegExp(ai+"(?="+ai+")|"+Pu+Vu,"g"),qu=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,Hu=parseInt,Zu=s(e)=="object"&&e&&e.Object===Object&&e,$u=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,Yu=Zu||$u||Function("return this")(),Bu=Ku("length");function Gu(y){return y.split("")}function Ku(y){return function(T){return T?.[y]}}function ci(y){return qu.test(y)}function qo(y){return ci(y)?Xu(y):Bu(y)}function Ju(y){return ci(y)?Qu(y):Gu(y)}function Xu(y){for(var T=ui.lastIndex=0;ui.test(y);)T++;return T}function Qu(y){return y.match(ui)||[]}var tc=Object.prototype,ec=tc.toString,Ho=Yu.Symbol,rc=Math.ceil,nc=Math.floor,Zo=Ho?Ho.prototype:void 0,$o=Zo?Zo.toString:void 0;function Yo(y,T){var L="";if(!y||1>T||T>ku)return L;do T%2&&(L+=y),T=nc(T/2),T&&(y+=y);while(T);return L}function ic(y,T,L){var w=-1,W=y.length;0>T&&(T=-T>W?0:W+T),L=L>W?W:L,0>L&&(L+=W),W=T>L?0:L-T>>>0,T>>>=0;for(var nt=Array(W);++w<W;)nt[w]=y[w+T];return nt}function Bo(y){if(typeof y=="string")return y;if(Ko(y))return $o?$o.call(y):"";var T=y+"";return T=="0"&&1/y==-oi?"-0":T}function oc(y,T,L){var w=y.length;return L=L===void 0?w:L,!T&&L>=w?y:ic(y,T,L)}function sc(y,T){T=T===void 0?" ":Bo(T);var L=T.length;if(2>L)return L?Yo(T,y):T;var w=Yo(T,rc(y/qo(T)));return ci(T)?oc(Ju(w),0,y).join(""):w.slice(0,y)}function Go(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}function ac(y){return!!y&&(typeof y>"u"?"undefined":s(y))=="object"}function Ko(y){return(typeof y>"u"?"undefined":s(y))=="symbol"||ac(y)&&ec.call(y)==xu}function uc(y){if(!y)return y===0?y:0;if(y=lc(y),y===oi||y===-oi){var T=0>y?-1:1;return T*Mu}return y===y?y:0}function cc(y){var T=uc(y),L=T%1;return T===T?L?T-L:T:0}function lc(y){if(typeof y=="number")return y;if(Ko(y))return zo;if(Go(y)){var T=typeof y.valueOf=="function"?y.valueOf():y;y=Go(T)?T+"":T}if(typeof y!="string")return y===0?y:+y;y=y.replace(bu,"");var L=Nu.test(y);return L||Fu.test(y)?Hu(y.slice(2),L?2:8):Au.test(y)?zo:+y}function fc(y){return y==null?"":Bo(y)}function hc(y,T,L){y=fc(y),T=cc(T);var w=T?qo(y):0;return T&&w<T?sc(T-w,L)+y:y}var Rr=hc,Jo=function(y){return y.getFullYear()+Rr(y.getMonth()+1,2,0)+Rr(y.getDate(),2,0)},Xo=function(y){return Rr(y.getHours(),2,0)+Rr(y.getMinutes(),2,0)+Rr(y.getSeconds(),2,0)},dc=function(y){return Jo(y)+"T"+Xo(y)},Qo=function(y){var T=6e4*y.getTimezoneOffset();return new Date(y.getTime()+T)},pc=function(y){return y?"TRUE":"FALSE"},mc=function(y){return ii(y)?Jo(Qo(y)):y},yc=function(y){return ii(y)?dc(y):y},ts=function(y){return Number.parseFloat(y)},vc=function(){return ts.apply(void 0,arguments).toFixed(1)},gc=function(y){return Number.parseInt(y)},_c=function(y){return y.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},Tc=function(y){return ii(y)?Xo(Qo(y)):y},wc=Object.freeze({BOOLEAN:pc,DATE:mc,DATETIME:yc,FLOAT:ts,FLOAT__FIXED_1:vc,INTEGER:gc,TEXT:_c,TIME:Tc}),Ec=`\r
 `,Sc=`\r
`,es=";",Oc="=",Ic="VALUE",Dc=":",kc=",",Mc=new RegExp(/[\s\S]{1,75}/g),xc="BEGIN",bc="END",wt={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},Ac=wt.TEXT,Nc={ATTACH:wt.URI,ATTENDEE:wt.CALADDRESS,CREATED:wt.DATETIME,DTSTART:wt.DATETIME,DTEND:wt.DATETIME,DTSTAMP:wt.DATETIME,DUE:wt.DATETIME,DURATION:wt.DURATION,EXDATE:wt.DATETIME,FREEBUSY:wt.PERIOD,"LAST-MODIFIED":wt.DATETIME,ORGANIZER:wt.CALADDRESS,"PERCENT-COMPLETE":wt.INTEGER,PRIORITY:wt.INTEGER,RDATE:wt.DATETIME,"RECURRENCE-ID":wt.DATETIME,REPEAT:wt.INTEGER,RRULE:wt.RECUR,SEQUENCE:wt.INTEGER,TRIGGER:wt.DURATION,TZOFFSETFROM:wt.UTCOFFSET,TZOFFSETTO:wt.UTCOFFSET,TZURL:wt.URI,URL:wt.URI,VERSION:wt.FLOAT+"__FIXED_1"},Sn=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,y),f(T,[{key:"getTransformedValue",value:function(){var w=this,W=wt[this.parameters.get(Ic)]||Nc[this.name]||Ac,nt=wc[W];return qe(nt)?Array.isArray(this.value)?this.value.map(function(J){return nt(J,w.parameters)}).join(kc):nt(this.value,this.parameters):this.value}},{key:"toString",value:function(){var w=this.name;0<this.parameters.size&&(w+=es+this.parameters.entrySeq().map(function(nt){var J=v(nt,2),X=J[0],at=J[1];return X+Oc+at}).join(es));var W=this.transform?this.getTransformedValue():this.value;return cr(W)||Du(W)||(w+=Dc+W),w.match(Mc).join(Ec)}}]),T}(Mt({name:String,parameters:Pe(String,oe),transform:!0,value:oe}));St.Component=St("Component",function(y){return y instanceof rs?y:TypeError('"'+y+'" is not a Component')}),St.Property=St("Property",function(y){return y instanceof Sn?y:TypeError('"'+y+'" is not a Property')});var rs=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,y),f(T,[{key:"pushComponent",value:function(w){return this.update("components",function(W){return W.push(w)})}},{key:"pushProperty",value:function(w){return this.update("properties",function(W){return W.push(w)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new Sn({name:xc,value:this.name})].concat(k(this.properties),k(this.components),[new Sn({name:bc,value:this.name})]).join(Sc)}}]),T}(Mt({name:String,components:Ft(St.Component),properties:Ft(St.Property)}));n.Component=rs,n.Property=Sn,Object.defineProperty(n,"__esModule",{value:!0})})});var Ou=oa((Lo,Ro)=>{(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Lo<"u"?e():(e(),n.FileSaver={})})(Lo,function(){"use strict";function n(m,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function e(m,v,k){var z=new XMLHttpRequest;z.open("GET",m),z.responseType="blob",z.onload=function(){h(z.response,v,k)},z.onerror=function(){console.error("could not download file")},z.send()}function i(m){var v=new XMLHttpRequest;v.open("HEAD",m,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(v)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,f=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!f?function(m,v,k){var z=c.URL||c.webkitURL,P=document.createElement("a");v=v||m.name||"download",P.download=v,P.rel="noopener",typeof m=="string"?(P.href=m,P.origin===location.origin?s(P):i(P.href)?e(m,v,k):s(P,P.target="_blank")):(P.href=z.createObjectURL(m),setTimeout(function(){z.revokeObjectURL(P.href)},4e4),setTimeout(function(){s(P)},0))}:"msSaveOrOpenBlob"in navigator?function(m,v,k){if(v=v||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,k),v);else if(i(m))e(m,v,k);else{var z=document.createElement("a");z.href=m,z.target="_blank",setTimeout(function(){s(z)})}}:function(m,v,k,z){if(z=z||open("","_blank"),z&&(z.document.title=z.document.body.innerText="downloading..."),typeof m=="string")return e(m,v,k);var P=m.type==="application/octet-stream",tt=/constructor/i.test(c.HTMLElement)||c.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||P&&tt||f)&&typeof FileReader<"u"){var vt=new FileReader;vt.onloadend=function(){var Mt=vt.result;Mt=q?Mt:Mt.replace(/^data:[^;]*;/,"data:attachment/file;"),z?z.location.href=Mt:location=Mt,z=null},vt.readAsDataURL(m)}else{var Ot=c.URL||c.webkitURL,St=Ot.createObjectURL(m);z?z.location=St:location.href=St,z=null,setTimeout(function(){Ot.revokeObjectURL(St)},4e4)}});c.saveAs=h.saveAs=h,typeof Ro<"u"&&(Ro.exports=h)})});var We=class extends Error{},Rn=class extends We{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},zn=class extends We{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Cn=class extends We{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},ke=class extends We{},Tr=class extends We{constructor(e){super(`Invalid unit ${e}`)}},Wt=class extends We{},Me=class extends We{constructor(){super("Zone is an abstract class")}};var U="numeric",xe="short",he="long",Ye={year:U,month:U,day:U},$r={year:U,month:xe,day:U},Pi={year:U,month:xe,day:U,weekday:xe},Yr={year:U,month:he,day:U},Br={year:U,month:he,day:U,weekday:he},Gr={hour:U,minute:U},Kr={hour:U,minute:U,second:U},Jr={hour:U,minute:U,second:U,timeZoneName:xe},Xr={hour:U,minute:U,second:U,timeZoneName:he},Qr={hour:U,minute:U,hourCycle:"h23"},tn={hour:U,minute:U,second:U,hourCycle:"h23"},en={hour:U,minute:U,second:U,hourCycle:"h23",timeZoneName:xe},rn={hour:U,minute:U,second:U,hourCycle:"h23",timeZoneName:he},nn={year:U,month:U,day:U,hour:U,minute:U},on={year:U,month:U,day:U,hour:U,minute:U,second:U},sn={year:U,month:xe,day:U,hour:U,minute:U},an={year:U,month:xe,day:U,hour:U,minute:U,second:U},qi={year:U,month:xe,day:U,weekday:xe,hour:U,minute:U},un={year:U,month:he,day:U,hour:U,minute:U,timeZoneName:xe},cn={year:U,month:he,day:U,hour:U,minute:U,second:U,timeZoneName:xe},ln={year:U,month:he,day:U,weekday:he,hour:U,minute:U,timeZoneName:he},fn={year:U,month:he,day:U,weekday:he,hour:U,minute:U,second:U,timeZoneName:he};var se=class{get type(){throw new Me}get name(){throw new Me}get ianaName(){return this.name}get isUniversal(){throw new Me}offsetName(e,i){throw new Me}formatOffset(e,i){throw new Me}offset(e){throw new Me}equals(e){throw new Me}get isValid(){throw new Me}};var Hi=null,Be=class n extends se{static get instance(){return Hi===null&&(Hi=new n),Hi}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Un(e,i,s)}formatOffset(e,i){return Ge(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var Vn={};function dl(n){return Vn[n]||(Vn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Vn[n]}var pl={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ml(n,e){let i=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,c,f,h,m,v,k,z]=s;return[h,c,f,m,v,k,z]}function yl(n,e){let i=n.formatToParts(e),s=[];for(let c=0;c<i.length;c++){let{type:f,value:h}=i[c],m=pl[f];f==="era"?s[m]=h:B(m)||(s[m]=parseInt(h,10))}return s}var jn={},Jt=class n extends se{static create(e){return jn[e]||(jn[e]=new n(e)),jn[e]}static resetCache(){jn={},Vn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=n.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Un(e,i,s,this.name)}formatOffset(e,i){return Ge(this.offset(e),i)}offset(e){let i=new Date(e);if(isNaN(i))return NaN;let s=dl(this.name),[c,f,h,m,v,k,z]=s.formatToParts?yl(s,i):ml(s,i);m==="BC"&&(c=-Math.abs(c)+1);let tt=wr({year:c,month:f,day:h,hour:v===24?0:v,minute:k,second:z,millisecond:0}),q=+i,vt=q%1e3;return q-=vt>=0?vt:1e3+vt,(tt-q)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var aa={};function vl(n,e={}){let i=JSON.stringify([n,e]),s=aa[i];return s||(s=new Intl.ListFormat(n,e),aa[i]=s),s}var Zi={};function $i(n,e={}){let i=JSON.stringify([n,e]),s=Zi[i];return s||(s=new Intl.DateTimeFormat(n,e),Zi[i]=s),s}var Yi={};function gl(n,e={}){let i=JSON.stringify([n,e]),s=Yi[i];return s||(s=new Intl.NumberFormat(n,e),Yi[i]=s),s}var Bi={};function _l(n,e={}){let{base:i,...s}=e,c=JSON.stringify([n,s]),f=Bi[c];return f||(f=new Intl.RelativeTimeFormat(n,e),Bi[c]=f),f}var hn=null;function Tl(){return hn||(hn=new Intl.DateTimeFormat().resolvedOptions().locale,hn)}var ua={};function wl(n){let e=ua[n];if(!e){let i=new Intl.Locale(n);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,ua[n]=e}return e}function El(n){let e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));let i=n.indexOf("-u-");if(i===-1)return[n];{let s,c;try{s=$i(n).resolvedOptions(),c=n}catch{let v=n.substring(0,i);s=$i(v).resolvedOptions(),c=v}let{numberingSystem:f,calendar:h}=s;return[c,f,h]}}function Sl(n,e,i){return(i||e)&&(n.includes("-u-")||(n+="-u"),i&&(n+=`-ca-${i}`),e&&(n+=`-nu-${e}`)),n}function Ol(n){let e=[];for(let i=1;i<=12;i++){let s=ht.utc(2009,i,1);e.push(n(s))}return e}function Il(n){let e=[];for(let i=1;i<=7;i++){let s=ht.utc(2016,11,13+i);e.push(n(s))}return e}function Pn(n,e,i,s){let c=n.listingMode();return c==="error"?null:c==="en"?i(e):s(e)}function Dl(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var Gi=class{constructor(e,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:c,floor:f,...h}=s;if(!i||Object.keys(h).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=gl(e,m)}}format(e){if(this.inf){let i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{let i=this.floor?Math.floor(e):Er(e,3);return At(i,this.padTo)}}},Ki=class{constructor(e,i,s){this.opts=s,this.originalZone=void 0;let c;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let h=-1*(e.offset/60),m=h>=0?`Etc/GMT+${h}`:`Etc/GMT${h}`;e.offset!==0&&Jt.create(m).valid?(c=m,this.dt=e):(c="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,c=e.zone.name):(c="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let f={...this.opts};f.timeZone=f.timeZone||c,this.dtf=$i(i,f)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){let s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:s}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},Ji=class{constructor(e,i,s){this.opts={style:"long",...s},!i&&qn()&&(this.rtf=_l(e,s))}format(e,i){return this.rtf?this.rtf.format(e,i):ca(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}},kl={firstDay:1,minimalDays:4,weekend:[6,7]},gt=class n{static fromOpts(e){return n.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,s,c,f=!1){let h=e||mt.defaultLocale,m=h||(f?"en-US":Tl()),v=i||mt.defaultNumberingSystem,k=s||mt.defaultOutputCalendar,z=dn(c)||mt.defaultWeekSettings;return new n(m,v,k,z,h)}static resetCache(){hn=null,Zi={},Yi={},Bi={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:s,weekSettings:c}={}){return n.create(e,i,s,c)}constructor(e,i,s,c,f){let[h,m,v]=El(e);this.locale=h,this.numberingSystem=i||m||null,this.outputCalendar=s||v||null,this.weekSettings=c,this.intl=Sl(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=f,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Dl(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:n.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,dn(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return Pn(this,e,Xi,()=>{let s=i?{month:e,day:"numeric"}:{month:e},c=i?"format":"standalone";return this.monthsCache[c][e]||(this.monthsCache[c][e]=Ol(f=>this.extract(f,s,"month"))),this.monthsCache[c][e]})}weekdays(e,i=!1){return Pn(this,e,Qi,()=>{let s=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},c=i?"format":"standalone";return this.weekdaysCache[c][e]||(this.weekdaysCache[c][e]=Il(f=>this.extract(f,s,"weekday"))),this.weekdaysCache[c][e]})}meridiems(){return Pn(this,void 0,()=>to,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ht.utc(2016,11,13,9),ht.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Pn(this,e,eo,()=>{let i={era:e};return this.eraCache[e]||(this.eraCache[e]=[ht.utc(-40,1,1),ht.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[e]})}extract(e,i,s){let c=this.dtFormatter(e,i),f=c.formatToParts(),h=f.find(m=>m.type.toLowerCase()===s);return h?h.value:null}numberFormatter(e={}){return new Gi(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Ki(e,this.intl,i)}relFormatter(e={}){return new Ji(this.intl,this.isEnglish(),e)}listFormatter(e={}){return vl(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Hn()?wl(this.locale):kl}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};var no=null,qt=class n extends se{static get utcInstance(){return no===null&&(no=new n(0)),no}static instance(e){return e===0?n.utcInstance:new n(e)}static parseSpecifier(e){if(e){let i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new n(ir(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ge(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ge(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Ge(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var Sr=class extends se{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function be(n,e){let i;if(B(n)||n===null)return e;if(n instanceof se)return n;if(la(n)){let s=n.toLowerCase();return s==="default"?e:s==="local"||s==="system"?Be.instance:s==="utc"||s==="gmt"?qt.utcInstance:qt.parseSpecifier(s)||Jt.create(n)}else return ze(n)?qt.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Sr(n)}var fa=()=>Date.now(),ha="system",da=null,pa=null,ma=null,ya=60,va,ga=null,mt=class{static get now(){return fa}static set now(e){fa=e}static set defaultZone(e){ha=e}static get defaultZone(){return be(ha,Be.instance)}static get defaultLocale(){return da}static set defaultLocale(e){da=e}static get defaultNumberingSystem(){return pa}static set defaultNumberingSystem(e){pa=e}static get defaultOutputCalendar(){return ma}static set defaultOutputCalendar(e){ma=e}static get defaultWeekSettings(){return ga}static set defaultWeekSettings(e){ga=dn(e)}static get twoDigitCutoffYear(){return ya}static set twoDigitCutoffYear(e){ya=e%100}static get throwOnInvalid(){return va}static set throwOnInvalid(e){va=e}static resetCaches(){gt.resetCache(),Jt.resetCache()}};var Ht=class{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var _a=[0,31,59,90,120,151,181,212,243,273,304,334],Ta=[0,31,60,91,121,152,182,213,244,274,305,335];function _e(n,e){return new Ht("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Zn(n,e,i){let s=new Date(Date.UTC(n,e-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let c=s.getUTCDay();return c===0?7:c}function wa(n,e,i){return i+(sr(n)?Ta:_a)[e-1]}function Ea(n,e){let i=sr(n)?Ta:_a,s=i.findIndex(f=>f<e),c=e-i[s];return{month:s+1,day:c}}function $n(n,e){return(n-e+7)%7+1}function pn(n,e=4,i=1){let{year:s,month:c,day:f}=n,h=wa(s,c,f),m=$n(Zn(s,c,f),i),v=Math.floor((h-m+14-e)/7),k;return v<1?(k=s-1,v=or(k,e,i)):v>or(s,e,i)?(k=s+1,v=1):k=s,{weekYear:k,weekNumber:v,weekday:m,...yn(n)}}function io(n,e=4,i=1){let{weekYear:s,weekNumber:c,weekday:f}=n,h=$n(Zn(s,1,e),i),m=Ke(s),v=c*7+f-h-7+e,k;v<1?(k=s-1,v+=Ke(k)):v>m?(k=s+1,v-=Ke(s)):k=s;let{month:z,day:P}=Ea(k,v);return{year:k,month:z,day:P,...yn(n)}}function Yn(n){let{year:e,month:i,day:s}=n,c=wa(e,i,s);return{year:e,ordinal:c,...yn(n)}}function oo(n){let{year:e,ordinal:i}=n,{month:s,day:c}=Ea(e,i);return{year:e,month:s,day:c,...yn(n)}}function so(n,e){if(!B(n.localWeekday)||!B(n.localWeekNumber)||!B(n.localWeekYear)){if(!B(n.weekday)||!B(n.weekNumber)||!B(n.weekYear))throw new ke("Cannot mix locale-based week fields with ISO-based week fields");return B(n.localWeekday)||(n.weekday=n.localWeekday),B(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),B(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Sa(n,e=4,i=1){let s=mn(n.weekYear),c=de(n.weekNumber,1,or(n.weekYear,e,i)),f=de(n.weekday,1,7);return s?c?f?!1:_e("weekday",n.weekday):_e("week",n.weekNumber):_e("weekYear",n.weekYear)}function Oa(n){let e=mn(n.year),i=de(n.ordinal,1,Ke(n.year));return e?i?!1:_e("ordinal",n.ordinal):_e("year",n.year)}function ao(n){let e=mn(n.year),i=de(n.month,1,12),s=de(n.day,1,Or(n.year,n.month));return e?i?s?!1:_e("day",n.day):_e("month",n.month):_e("year",n.year)}function uo(n){let{hour:e,minute:i,second:s,millisecond:c}=n,f=de(e,0,23)||e===24&&i===0&&s===0&&c===0,h=de(i,0,59),m=de(s,0,59),v=de(c,0,999);return f?h?m?v?!1:_e("millisecond",c):_e("second",s):_e("minute",i):_e("hour",e)}function B(n){return typeof n>"u"}function ze(n){return typeof n=="number"}function mn(n){return typeof n=="number"&&n%1===0}function la(n){return typeof n=="string"}function Da(n){return Object.prototype.toString.call(n)==="[object Date]"}function qn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Hn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ka(n){return Array.isArray(n)?n:[n]}function co(n,e,i){if(n.length!==0)return n.reduce((s,c)=>{let f=[e(c),c];return s&&i(s[0],f[0])===s[0]?s:f},null)[1]}function Ma(n,e){return e.reduce((i,s)=>(i[s]=n[s],i),{})}function Je(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function dn(n){if(n==null)return null;if(typeof n!="object")throw new Wt("Week settings must be an object");if(!de(n.firstDay,1,7)||!de(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(e=>!de(e,1,7)))throw new Wt("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function de(n,e,i){return mn(n)&&n>=e&&n<=i}function Ml(n,e){return n-e*Math.floor(n/e)}function At(n,e=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function Ue(n){if(!(B(n)||n===null||n===""))return parseInt(n,10)}function Xe(n){if(!(B(n)||n===null||n===""))return parseFloat(n)}function vn(n){if(!(B(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Er(n,e,i=!1){let s=10**e;return(i?Math.trunc:Math.round)(n*s)/s}function sr(n){return n%4===0&&(n%100!==0||n%400===0)}function Ke(n){return sr(n)?366:365}function Or(n,e){let i=Ml(e-1,12)+1,s=n+(e-i)/12;return i===2?sr(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function wr(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function Ia(n,e,i){return-$n(Zn(n,1,e),i)+e-1}function or(n,e=4,i=1){let s=Ia(n,e,i),c=Ia(n+1,e,i);return(Ke(n)-s+c)/7}function gn(n){return n>99?n:n>mt.twoDigitCutoffYear?1900+n:2e3+n}function Un(n,e,i,s=null){let c=new Date(n),f={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(f.timeZone=s);let h={timeZoneName:e,...f},m=new Intl.DateTimeFormat(i,h).formatToParts(c).find(v=>v.type.toLowerCase()==="timezonename");return m?m.value:null}function ir(n,e){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(e,10)||0,c=i<0||Object.is(i,-0)?-s:s;return i*60+c}function lo(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Wt(`Invalid unit value ${n}`);return e}function Ir(n,e){let i={};for(let s in n)if(Je(n,s)){let c=n[s];if(c==null)continue;i[e(s)]=lo(c)}return i}function Ge(n,e){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),c=n>=0?"+":"-";switch(e){case"short":return`${c}${At(i,2)}:${At(s,2)}`;case"narrow":return`${c}${i}${s>0?`:${s}`:""}`;case"techie":return`${c}${At(i,2)}${At(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function yn(n){return Ma(n,["hour","minute","second","millisecond"])}var xl=["January","February","March","April","May","June","July","August","September","October","November","December"],fo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],bl=["J","F","M","A","M","J","J","A","S","O","N","D"];function Xi(n){switch(n){case"narrow":return[...bl];case"short":return[...fo];case"long":return[...xl];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ho=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],po=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Al=["M","T","W","T","F","S","S"];function Qi(n){switch(n){case"narrow":return[...Al];case"short":return[...po];case"long":return[...ho];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var to=["AM","PM"],Nl=["Before Christ","Anno Domini"],Fl=["BC","AD"],Ll=["B","A"];function eo(n){switch(n){case"narrow":return[...Ll];case"short":return[...Fl];case"long":return[...Nl];default:return null}}function xa(n){return to[n.hour<12?0:1]}function ba(n,e){return Qi(e)[n.weekday-1]}function Aa(n,e){return Xi(e)[n.month-1]}function Na(n,e){return eo(e)[n.year<0?0:1]}function ca(n,e,i="always",s=!1){let c={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},f=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&f){let P=n==="days";switch(e){case 1:return P?"tomorrow":`next ${c[n][0]}`;case-1:return P?"yesterday":`last ${c[n][0]}`;case 0:return P?"today":`this ${c[n][0]}`;default:}}let h=Object.is(e,-0)||e<0,m=Math.abs(e),v=m===1,k=c[n],z=s?v?k[1]:k[2]||k[1]:v?c[n][0]:n;return h?`${m} ${z} ago`:`in ${m} ${z}`}function Fa(n,e){let i="";for(let s of n)s.literal?i+=s.val:i+=e(s.val);return i}var Rl={D:Ye,DD:$r,DDD:Yr,DDDD:Br,t:Gr,tt:Kr,ttt:Jr,tttt:Xr,T:Qr,TT:tn,TTT:en,TTTT:rn,f:nn,ff:sn,fff:un,ffff:ln,F:on,FF:an,FFF:cn,FFFF:fn},Zt=class n{static create(e,i={}){return new n(e,i)}static parseFormat(e){let i=null,s="",c=!1,f=[];for(let h=0;h<e.length;h++){let m=e.charAt(h);m==="'"?(s.length>0&&f.push({literal:c||/^\s+$/.test(s),val:s}),i=null,s="",c=!c):c||m===i?s+=m:(s.length>0&&f.push({literal:/^\s+$/.test(s),val:s}),s=m,i=m)}return s.length>0&&f.push({literal:c||/^\s+$/.test(s),val:s}),f}static macroTokenToFormatOpts(e){return Rl[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return At(e,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){let s=this.loc.listingMode()==="en",c=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",f=(q,vt)=>this.loc.extract(e,q,vt),h=q=>e.isOffsetFixed&&e.offset===0&&q.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,q.format):"",m=()=>s?xa(e):f({hour:"numeric",hourCycle:"h12"},"dayperiod"),v=(q,vt)=>s?Aa(e,q):f(vt?{month:q}:{month:q,day:"numeric"},"month"),k=(q,vt)=>s?ba(e,q):f(vt?{weekday:q}:{weekday:q,month:"long",day:"numeric"},"weekday"),z=q=>{let vt=n.macroTokenToFormatOpts(q);return vt?this.formatWithSystemDefault(e,vt):q},P=q=>s?Na(e,q):f({era:q},"era"),tt=q=>{switch(q){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return h({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return h({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return h({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return m();case"d":return c?f({day:"numeric"},"day"):this.num(e.day);case"dd":return c?f({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return k("short",!0);case"cccc":return k("long",!0);case"ccccc":return k("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return k("short",!1);case"EEEE":return k("long",!1);case"EEEEE":return k("narrow",!1);case"L":return c?f({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return c?f({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return v("short",!0);case"LLLL":return v("long",!0);case"LLLLL":return v("narrow",!0);case"M":return c?f({month:"numeric"},"month"):this.num(e.month);case"MM":return c?f({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return v("short",!1);case"MMMM":return v("long",!1);case"MMMMM":return v("narrow",!1);case"y":return c?f({year:"numeric"},"year"):this.num(e.year);case"yy":return c?f({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return c?f({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return c?f({year:"numeric"},"year"):this.num(e.year,6);case"G":return P("short");case"GG":return P("long");case"GGGGG":return P("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return z(q)}};return Fa(n.parseFormat(i),tt)}formatDurationFromString(e,i){let s=v=>{switch(v[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},c=v=>k=>{let z=s(k);return z?this.num(v.get(z),k.length):k},f=n.parseFormat(i),h=f.reduce((v,{literal:k,val:z})=>k?v:v.concat(z),[]),m=e.shiftTo(...h.map(s).filter(v=>v));return Fa(f,c(m))}};var Ra=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kr(...n){let e=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${e}$`)}function Mr(...n){return e=>n.reduce(([i,s,c],f)=>{let[h,m,v]=f(e,c);return[{...i,...h},m||s,v]},[{},null,1]).slice(0,2)}function xr(n,...e){if(n==null)return[null,null];for(let[i,s]of e){let c=i.exec(n);if(c)return s(c)}return[null,null]}function za(...n){return(e,i)=>{let s={},c;for(c=0;c<n.length;c++)s[n[c]]=Ue(e[i+c]);return[s,null,i+c]}}var Ca=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,zl=`(?:${Ca.source}?(?:\\[(${Ra.source})\\])?)?`,mo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wa=RegExp(`${mo.source}${zl}`),yo=RegExp(`(?:T${Wa.source})?`),Cl=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wl=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ul=/(\d{4})-?(\d{3})/,jl=za("weekYear","weekNumber","weekDay"),Vl=za("year","ordinal"),Pl=/(\d{4})-(\d\d)-(\d\d)/,Ua=RegExp(`${mo.source} ?(?:${Ca.source}|(${Ra.source}))?`),ql=RegExp(`(?: ${Ua.source})?`);function Dr(n,e,i){let s=n[e];return B(s)?i:Ue(s)}function Hl(n,e){return[{year:Dr(n,e),month:Dr(n,e+1,1),day:Dr(n,e+2,1)},null,e+3]}function br(n,e){return[{hours:Dr(n,e,0),minutes:Dr(n,e+1,0),seconds:Dr(n,e+2,0),milliseconds:vn(n[e+3])},null,e+4]}function _n(n,e){let i=!n[e]&&!n[e+1],s=ir(n[e+1],n[e+2]),c=i?null:qt.instance(s);return[{},c,e+3]}function Tn(n,e){let i=n[e]?Jt.create(n[e]):null;return[{},i,e+1]}var Zl=RegExp(`^T?${mo.source}$`),$l=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Yl(n){let[e,i,s,c,f,h,m,v,k]=n,z=e[0]==="-",P=v&&v[0]==="-",tt=(q,vt=!1)=>q!==void 0&&(vt||q&&z)?-q:q;return[{years:tt(Xe(i)),months:tt(Xe(s)),weeks:tt(Xe(c)),days:tt(Xe(f)),hours:tt(Xe(h)),minutes:tt(Xe(m)),seconds:tt(Xe(v),v==="-0"),milliseconds:tt(vn(k),P)}]}var Bl={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function vo(n,e,i,s,c,f,h){let m={year:e.length===2?gn(Ue(e)):Ue(e),month:fo.indexOf(i)+1,day:Ue(s),hour:Ue(c),minute:Ue(f)};return h&&(m.second=Ue(h)),n&&(m.weekday=n.length>3?ho.indexOf(n)+1:po.indexOf(n)+1),m}var Gl=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Kl(n){let[,e,i,s,c,f,h,m,v,k,z,P]=n,tt=vo(e,c,s,i,f,h,m),q;return v?q=Bl[v]:k?q=0:q=ir(z,P),[tt,new qt(q)]}function Jl(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Xl=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Ql=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,tf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function La(n){let[,e,i,s,c,f,h,m]=n;return[vo(e,c,s,i,f,h,m),qt.utcInstance]}function ef(n){let[,e,i,s,c,f,h,m]=n;return[vo(e,m,i,s,c,f,h),qt.utcInstance]}var rf=kr(Cl,yo),nf=kr(Wl,yo),of=kr(Ul,yo),sf=kr(Wa),ja=Mr(Hl,br,_n,Tn),af=Mr(jl,br,_n,Tn),uf=Mr(Vl,br,_n,Tn),cf=Mr(br,_n,Tn);function Va(n){return xr(n,[rf,ja],[nf,af],[of,uf],[sf,cf])}function Pa(n){return xr(Jl(n),[Gl,Kl])}function qa(n){return xr(n,[Xl,La],[Ql,La],[tf,ef])}function Ha(n){return xr(n,[$l,Yl])}var lf=Mr(br);function Za(n){return xr(n,[Zl,lf])}var ff=kr(Pl,ql),hf=kr(Ua),df=Mr(br,_n,Tn);function $a(n){return xr(n,[ff,ja],[hf,df])}var Ya="Invalid Duration",Ga={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},pf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Ga},Te=146097/400,Ar=146097/4800,mf={years:{quarters:4,months:12,weeks:Te/7,days:Te,hours:Te*24,minutes:Te*24*60,seconds:Te*24*60*60,milliseconds:Te*24*60*60*1e3},quarters:{months:3,weeks:Te/28,days:Te/4,hours:Te*24/4,minutes:Te*24*60/4,seconds:Te*24*60*60/4,milliseconds:Te*24*60*60*1e3/4},months:{weeks:Ar/7,days:Ar,hours:Ar*24,minutes:Ar*24*60,seconds:Ar*24*60*60,milliseconds:Ar*24*60*60*1e3},...Ga},ar=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],yf=ar.slice(0).reverse();function Qe(n,e,i=!1){let s={values:i?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Nt(s)}function Ka(n,e){let i=e.milliseconds??0;for(let s of yf.slice(1))e[s]&&(i+=e[s]*n[s].milliseconds);return i}function Ba(n,e){let i=Ka(n,e)<0?-1:1;ar.reduceRight((s,c)=>{if(B(e[c]))return s;if(s){let f=e[s]*i,h=n[c][s],m=Math.floor(f/h);e[c]+=m*i,e[s]-=m*h*i}return c},null),ar.reduce((s,c)=>{if(B(e[c]))return s;if(s){let f=e[s]%1;e[s]-=f,e[c]+=f*n[s][c]}return c},null)}function vf(n){let e={};for(let[i,s]of Object.entries(n))s!==0&&(e[i]=s);return e}var Nt=class n{constructor(e){let i=e.conversionAccuracy==="longterm"||!1,s=i?mf:pf;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||gt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,i){return n.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Wt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new n({values:Ir(e,n.normalizeUnit),loc:gt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(ze(e))return n.fromMillis(e);if(n.isDuration(e))return e;if(typeof e=="object")return n.fromObject(e);throw new Wt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){let[s]=Ha(e);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){let[s]=Za(e);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Wt("need to specify a reason the Duration is invalid");let s=e instanceof Ht?e:new Ht(e,i);if(mt.throwOnInvalid)throw new Cn(s);return new n({invalid:s})}static normalizeUnit(e){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new Tr(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Zt.create(this.loc,s).formatDurationFromString(this,e):Ya}toHuman(e={}){if(!this.isValid)return Ya;let i=ar.map(s=>{let c=this.values[s];return B(c)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(c)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Er(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ht.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ka(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let i=n.fromDurationLike(e),s={};for(let c of ar)(Je(i.values,c)||Je(this.values,c))&&(s[c]=i.get(c)+this.get(c));return Qe(this,{values:s},!0)}minus(e){if(!this.isValid)return this;let i=n.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=lo(e(this.values[s],s));return Qe(this,{values:i},!0)}get(e){return this[n.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let i={...this.values,...Ir(e,n.normalizeUnit)};return Qe(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:s,matrix:c}={}){let h={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:c,conversionAccuracy:s};return Qe(this,h)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Ba(this.matrix,e),Qe(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=vf(this.normalize().shiftToAll().toObject());return Qe(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(h=>n.normalizeUnit(h));let i={},s={},c=this.toObject(),f;for(let h of ar)if(e.indexOf(h)>=0){f=h;let m=0;for(let k in s)m+=this.matrix[k][h]*s[k],s[k]=0;ze(c[h])&&(m+=c[h]);let v=Math.trunc(m);i[h]=v,s[h]=(m*1e3-v*1e3)/1e3}else ze(c[h])&&(s[h]=c[h]);for(let h in s)s[h]!==0&&(i[f]+=h===f?s[h]:s[h]/this.matrix[f][h]);return Ba(this.matrix,i),Qe(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Qe(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(s,c){return s===void 0||s===0?c===void 0||c===0:s===c}for(let s of ar)if(!i(this.values[s],e.values[s]))return!1;return!0}};var Nr="Invalid Interval";function gf(n,e){return!n||!n.isValid?je.invalid("missing or invalid start"):!e||!e.isValid?je.invalid("missing or invalid end"):e<n?je.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var je=class n{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Wt("need to specify a reason the Interval is invalid");let s=e instanceof Ht?e:new Ht(e,i);if(mt.throwOnInvalid)throw new zn(s);return new n({invalid:s})}static fromDateTimes(e,i){let s=Fr(e),c=Fr(i),f=gf(s,c);return f??new n({start:s,end:c})}static after(e,i){let s=Nt.fromDurationLike(i),c=Fr(e);return n.fromDateTimes(c,c.plus(s))}static before(e,i){let s=Nt.fromDurationLike(i),c=Fr(e);return n.fromDateTimes(c.minus(s),c)}static fromISO(e,i){let[s,c]=(e||"").split("/",2);if(s&&c){let f,h;try{f=ht.fromISO(s,i),h=f.isValid}catch{h=!1}let m,v;try{m=ht.fromISO(c,i),v=m.isValid}catch{v=!1}if(h&&v)return n.fromDateTimes(f,m);if(h){let k=Nt.fromISO(c,i);if(k.isValid)return n.after(f,k)}else if(v){let k=Nt.fromISO(s,i);if(k.isValid)return n.before(m,k)}}return n.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;let s=this.start.startOf(e,i),c;return i?.useLocaleWeeks?c=this.end.reconfigure({locale:s.locale}):c=this.end,c=c.startOf(e,i),Math.floor(c.diff(s,e).get(e))+(c.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?n.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];let i=e.map(Fr).filter(h=>this.contains(h)).sort((h,m)=>h.toMillis()-m.toMillis()),s=[],{s:c}=this,f=0;for(;c<this.e;){let h=i[f]||this.e,m=+h>+this.e?this.e:h;s.push(n.fromDateTimes(c,m)),c=m,f+=1}return s}splitBy(e){let i=Nt.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,c=1,f,h=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(v=>v*c));f=+m>+this.e?this.e:m,h.push(n.fromDateTimes(s,f)),s=f,c+=1}return h}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let i=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return i>=s?null:n.fromDateTimes(i,s)}union(e){if(!this.isValid)return this;let i=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return n.fromDateTimes(i,s)}static merge(e){let[i,s]=e.sort((c,f)=>c.s-f.s).reduce(([c,f],h)=>f?f.overlaps(h)||f.abutsStart(h)?[c,f.union(h)]:[c.concat([f]),h]:[c,h],[[],null]);return s&&i.push(s),i}static xor(e){let i=null,s=0,c=[],f=e.map(v=>[{time:v.s,type:"s"},{time:v.e,type:"e"}]),h=Array.prototype.concat(...f),m=h.sort((v,k)=>v.time-k.time);for(let v of m)s+=v.type==="s"?1:-1,s===1?i=v.time:(i&&+i!=+v.time&&c.push(n.fromDateTimes(i,v.time)),i=null);return n.merge(c)}difference(...e){return n.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Nr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Ye,i={}){return this.isValid?Zt.create(this.s.loc.clone(i),e).formatInterval(this):Nr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Nr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Nr}toFormat(e,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:Nr}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):Nt.invalid(this.invalidReason)}mapEndpoints(e){return n.fromDateTimes(e(this.s),e(this.e))}};var Ve=class{static hasDST(e=mt.defaultZone){let i=ht.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Jt.isValidZone(e)}static normalizeZone(e){return be(e,mt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||gt.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||gt.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||gt.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:f="gregory"}={}){return(c||gt.create(i,s,f)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:f="gregory"}={}){return(c||gt.create(i,s,f)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||gt.create(i,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||gt.create(i,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return gt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return gt.create(i,null,"gregory").eras(e)}static features(){return{relative:qn(),localeWeek:Hn()}}};function Ja(n,e){let i=c=>c.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(e)-i(n);return Math.floor(Nt.fromMillis(s).as("days"))}function _f(n,e,i){let s=[["years",(v,k)=>k.year-v.year],["quarters",(v,k)=>k.quarter-v.quarter+(k.year-v.year)*4],["months",(v,k)=>k.month-v.month+(k.year-v.year)*12],["weeks",(v,k)=>{let z=Ja(v,k);return(z-z%7)/7}],["days",Ja]],c={},f=n,h,m;for(let[v,k]of s)i.indexOf(v)>=0&&(h=v,c[v]=k(n,e),m=f.plus(c),m>e?(c[v]--,n=f.plus(c),n>e&&(m=n,c[v]--,n=f.plus(c))):n=m);return[n,c,m,h]}function Xa(n,e,i,s){let[c,f,h,m]=_f(n,e,i),v=e-c,k=i.filter(P=>["hours","minutes","seconds","milliseconds"].indexOf(P)>=0);k.length===0&&(h<e&&(h=c.plus({[m]:1})),h!==c&&(f[m]=(f[m]||0)+v/(h-c)));let z=Nt.fromObject(f,s);return k.length>0?Nt.fromMillis(v,s).shiftTo(...k).plus(z):z}var go={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Qa={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Tf=go.hanidec.replace(/[\[|\]]/g,"").split("");function tu(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(go.hanidec)!==-1)e+=Tf.indexOf(n[i]);else for(let c in Qa){let[f,h]=Qa[c];s>=f&&s<=h&&(e+=s-f)}}return parseInt(e,10)}else return e}function we({numberingSystem:n},e=""){return new RegExp(`${go[n||"latn"]}${e}`)}var wf="missing Intl.DateTimeFormat.formatToParts support";function yt(n,e=i=>i){return{regex:n,deser:([i])=>e(tu(i))}}var Ef="\xA0",nu=`[ ${Ef}]`,iu=new RegExp(nu,"g");function Sf(n){return n.replace(/\./g,"\\.?").replace(iu,nu)}function eu(n){return n.replace(/\./g,"").replace(iu," ").toLowerCase()}function Ae(n,e){return n===null?null:{regex:RegExp(n.map(Sf).join("|")),deser:([i])=>n.findIndex(s=>eu(i)===eu(s))+e}}function ru(n,e){return{regex:n,deser:([,i,s])=>ir(i,s),groups:e}}function Bn(n){return{regex:n,deser:([e])=>e}}function Of(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function If(n,e){let i=we(e),s=we(e,"{2}"),c=we(e,"{3}"),f=we(e,"{4}"),h=we(e,"{6}"),m=we(e,"{1,2}"),v=we(e,"{1,3}"),k=we(e,"{1,6}"),z=we(e,"{1,9}"),P=we(e,"{2,4}"),tt=we(e,"{4,6}"),q=St=>({regex:RegExp(Of(St.val)),deser:([Mt])=>Mt,literal:!0}),Ot=(St=>{if(n.literal)return q(St);switch(St.val){case"G":return Ae(e.eras("short"),0);case"GG":return Ae(e.eras("long"),0);case"y":return yt(k);case"yy":return yt(P,gn);case"yyyy":return yt(f);case"yyyyy":return yt(tt);case"yyyyyy":return yt(h);case"M":return yt(m);case"MM":return yt(s);case"MMM":return Ae(e.months("short",!0),1);case"MMMM":return Ae(e.months("long",!0),1);case"L":return yt(m);case"LL":return yt(s);case"LLL":return Ae(e.months("short",!1),1);case"LLLL":return Ae(e.months("long",!1),1);case"d":return yt(m);case"dd":return yt(s);case"o":return yt(v);case"ooo":return yt(c);case"HH":return yt(s);case"H":return yt(m);case"hh":return yt(s);case"h":return yt(m);case"mm":return yt(s);case"m":return yt(m);case"q":return yt(m);case"qq":return yt(s);case"s":return yt(m);case"ss":return yt(s);case"S":return yt(v);case"SSS":return yt(c);case"u":return Bn(z);case"uu":return Bn(m);case"uuu":return yt(i);case"a":return Ae(e.meridiems(),0);case"kkkk":return yt(f);case"kk":return yt(P,gn);case"W":return yt(m);case"WW":return yt(s);case"E":case"c":return yt(i);case"EEE":return Ae(e.weekdays("short",!1),1);case"EEEE":return Ae(e.weekdays("long",!1),1);case"ccc":return Ae(e.weekdays("short",!0),1);case"cccc":return Ae(e.weekdays("long",!0),1);case"Z":case"ZZ":return ru(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return ru(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return Bn(/[a-z_+-/]{1,256}?/i);case" ":return Bn(/[^\S\n\r]/);default:return q(St)}})(n)||{invalidReason:wf};return Ot.token=n,Ot}var Df={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function kf(n,e,i){let{type:s,value:c}=n;if(s==="literal"){let v=/^\s+$/.test(c);return{literal:!v,val:v?" ":c}}let f=e[s],h=s;s==="hour"&&(e.hour12!=null?h=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?h="hour12":h="hour24":h=i.hour12?"hour12":"hour24");let m=Df[h];if(typeof m=="object"&&(m=m[f]),m)return{literal:!1,val:m}}function Mf(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function xf(n,e,i){let s=n.match(e);if(s){let c={},f=1;for(let h in i)if(Je(i,h)){let m=i[h],v=m.groups?m.groups+1:1;!m.literal&&m.token&&(c[m.token.val[0]]=m.deser(s.slice(f,f+v))),f+=v}return[s,c]}else return[s,{}]}function bf(n){let e=f=>{switch(f){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return B(n.z)||(i=Jt.create(n.z)),B(n.Z)||(i||(i=new qt(n.Z)),s=n.Z),B(n.q)||(n.M=(n.q-1)*3+1),B(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),B(n.u)||(n.S=vn(n.u)),[Object.keys(n).reduce((f,h)=>{let m=e(h);return m&&(f[m]=n[h]),f},{}),i,s]}var _o=null;function Af(){return _o||(_o=ht.fromMillis(1555555555555)),_o}function Nf(n,e){if(n.literal)return n;let i=Zt.macroTokenToFormatOpts(n.val),s=Eo(i,e);return s==null||s.includes(void 0)?n:s}function To(n,e){return Array.prototype.concat(...n.map(i=>Nf(i,e)))}function wo(n,e,i){let s=To(Zt.parseFormat(i),n),c=s.map(h=>If(h,n)),f=c.find(h=>h.invalidReason);if(f)return{input:e,tokens:s,invalidReason:f.invalidReason};{let[h,m]=Mf(c),v=RegExp(h,"i"),[k,z]=xf(e,v,m),[P,tt,q]=z?bf(z):[null,null,void 0];if(Je(z,"a")&&Je(z,"H"))throw new ke("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:v,rawMatches:k,matches:z,result:P,zone:tt,specificOffset:q}}}function ou(n,e,i){let{result:s,zone:c,specificOffset:f,invalidReason:h}=wo(n,e,i);return[s,c,f,h]}function Eo(n,e){if(!n)return null;let s=Zt.create(e,n).dtFormatter(Af()),c=s.formatToParts(),f=s.resolvedOptions();return c.map(h=>kf(h,n,f))}var So="Invalid DateTime",su=864e13;function Gn(n){return new Ht("unsupported zone",`the zone "${n.name}" is not supported`)}function Oo(n){return n.weekData===null&&(n.weekData=pn(n.c)),n.weekData}function Io(n){return n.localWeekData===null&&(n.localWeekData=pn(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ur(n,e){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new ht({...i,...e,old:i})}function du(n,e,i){let s=n-e*60*1e3,c=i.offset(s);if(e===c)return[s,e];s-=(c-e)*60*1e3;let f=i.offset(s);return c===f?[s,c]:[n-Math.min(c,f)*60*1e3,Math.max(c,f)]}function Kn(n,e){n+=e*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Xn(n,e,i){return du(wr(n),e,i)}function au(n,e){let i=n.o,s=n.c.year+Math.trunc(e.years),c=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,f={...n.c,year:s,month:c,day:Math.min(n.c.day,Or(s,c))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},h=Nt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),m=wr(f),[v,k]=du(m,i,n.zone);return h!==0&&(v+=h,k=n.zone.offset(v)),{ts:v,o:k}}function wn(n,e,i,s,c,f){let{setZone:h,zone:m}=i;if(n&&Object.keys(n).length!==0||e){let v=e||m,k=ht.fromObject(n,{...i,zone:v,specificOffset:f});return h?k:k.setZone(m)}else return ht.invalid(new Ht("unparsable",`the input "${c}" can't be parsed as ${s}`))}function Jn(n,e,i=!0){return n.isValid?Zt.create(gt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Do(n,e){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=At(n.c.year,i?6:4),e?(s+="-",s+=At(n.c.month),s+="-",s+=At(n.c.day)):(s+=At(n.c.month),s+=At(n.c.day)),s}function uu(n,e,i,s,c,f){let h=At(n.c.hour);return e?(h+=":",h+=At(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=":")):h+=At(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=At(n.c.second),(n.c.millisecond!==0||!s)&&(h+=".",h+=At(n.c.millisecond,3))),c&&(n.isOffsetFixed&&n.offset===0&&!f?h+="Z":n.o<0?(h+="-",h+=At(Math.trunc(-n.o/60)),h+=":",h+=At(Math.trunc(-n.o%60))):(h+="+",h+=At(Math.trunc(n.o/60)),h+=":",h+=At(Math.trunc(n.o%60)))),f&&(h+="["+n.zone.ianaName+"]"),h}var pu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ff={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Lf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mu=["year","month","day","hour","minute","second","millisecond"],Rf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zf=["year","ordinal","hour","minute","second","millisecond"];function Cf(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Tr(n);return e}function cu(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Cf(n)}}function lu(n,e){let i=be(e.zone,mt.defaultZone),s=gt.fromObject(e),c=mt.now(),f,h;if(B(n.year))f=c;else{for(let k of mu)B(n[k])&&(n[k]=pu[k]);let m=ao(n)||uo(n);if(m)return ht.invalid(m);let v=i.offset(c);[f,h]=Xn(n,v,i)}return new ht({ts:f,zone:i,loc:s,o:h})}function fu(n,e,i){let s=B(i.round)?!0:i.round,c=(h,m)=>(h=Er(h,s||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(h,m)),f=h=>i.calendary?e.hasSame(n,h)?0:e.startOf(h).diff(n.startOf(h),h).get(h):e.diff(n,h).get(h);if(i.unit)return c(f(i.unit),i.unit);for(let h of i.units){let m=f(h);if(Math.abs(m)>=1)return c(m,h)}return c(n>e?-0:0,i.units[i.units.length-1])}function hu(n){let e={},i;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[e,i]}var ht=class n{constructor(e){let i=e.zone||mt.defaultZone,s=e.invalid||(Number.isNaN(e.ts)?new Ht("invalid input"):null)||(i.isValid?null:Gn(i));this.ts=B(e.ts)?mt.now():e.ts;let c=null,f=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[c,f]=[e.old.c,e.old.o];else{let m=i.offset(this.ts);c=Kn(this.ts,m),s=Number.isNaN(c.year)?new Ht("invalid input"):null,c=s?null:c,f=s?null:m}this._zone=i,this.loc=e.loc||gt.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=c,this.o=f,this.isLuxonDateTime=!0}static now(){return new n({})}static local(){let[e,i]=hu(arguments),[s,c,f,h,m,v,k]=i;return lu({year:s,month:c,day:f,hour:h,minute:m,second:v,millisecond:k},e)}static utc(){let[e,i]=hu(arguments),[s,c,f,h,m,v,k]=i;return e.zone=qt.utcInstance,lu({year:s,month:c,day:f,hour:h,minute:m,second:v,millisecond:k},e)}static fromJSDate(e,i={}){let s=Da(e)?e.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");let c=be(i.zone,mt.defaultZone);return c.isValid?new n({ts:s,zone:c,loc:gt.fromObject(i)}):n.invalid(Gn(c))}static fromMillis(e,i={}){if(ze(e))return e<-su||e>su?n.invalid("Timestamp out of range"):new n({ts:e,zone:be(i.zone,mt.defaultZone),loc:gt.fromObject(i)});throw new Wt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(ze(e))return new n({ts:e*1e3,zone:be(i.zone,mt.defaultZone),loc:gt.fromObject(i)});throw new Wt("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};let s=be(i.zone,mt.defaultZone);if(!s.isValid)return n.invalid(Gn(s));let c=gt.fromObject(i),f=Ir(e,cu),{minDaysInFirstWeek:h,startOfWeek:m}=so(f,c),v=mt.now(),k=B(i.specificOffset)?s.offset(v):i.specificOffset,z=!B(f.ordinal),P=!B(f.year),tt=!B(f.month)||!B(f.day),q=P||tt,vt=f.weekYear||f.weekNumber;if((q||z)&&vt)throw new ke("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(tt&&z)throw new ke("Can't mix ordinal dates with month/day");let Ot=vt||f.weekday&&!q,St,Mt,Ft=Kn(v,k);Ot?(St=Rf,Mt=Ff,Ft=pn(Ft,h,m)):z?(St=zf,Mt=Lf,Ft=Yn(Ft)):(St=mu,Mt=pu);let Pe=!1;for(let Se of St){let qe=f[Se];B(qe)?Pe?f[Se]=Mt[Se]:f[Se]=Ft[Se]:Pe=!0}let oe=Ot?Sa(f,h,m):z?Oa(f):ao(f),Xt=oe||uo(f);if(Xt)return n.invalid(Xt);let Lr=Ot?io(f,h,m):z?oo(f):f,[Ee,tr]=Xn(Lr,k,s),er=new n({ts:Ee,zone:s,o:tr,loc:c});return f.weekday&&q&&e.weekday!==er.weekday?n.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${er.toISO()}`):er}static fromISO(e,i={}){let[s,c]=Va(e);return wn(s,c,i,"ISO 8601",e)}static fromRFC2822(e,i={}){let[s,c]=Pa(e);return wn(s,c,i,"RFC 2822",e)}static fromHTTP(e,i={}){let[s,c]=qa(e);return wn(s,c,i,"HTTP",i)}static fromFormat(e,i,s={}){if(B(e)||B(i))throw new Wt("fromFormat requires an input string and a format");let{locale:c=null,numberingSystem:f=null}=s,h=gt.fromOpts({locale:c,numberingSystem:f,defaultToEN:!0}),[m,v,k,z]=ou(h,e,i);return z?n.invalid(z):wn(m,v,s,`format ${i}`,e,k)}static fromString(e,i,s={}){return n.fromFormat(e,i,s)}static fromSQL(e,i={}){let[s,c]=$a(e);return wn(s,c,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Wt("need to specify a reason the DateTime is invalid");let s=e instanceof Ht?e:new Ht(e,i);if(mt.throwOnInvalid)throw new Rn(s);return new n({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){let s=Eo(e,gt.fromObject(i));return s?s.map(c=>c?c.val:null).join(""):null}static expandFormat(e,i={}){return To(Zt.parseFormat(e),gt.fromObject(i)).map(c=>c.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Oo(this).weekYear:NaN}get weekNumber(){return this.isValid?Oo(this).weekNumber:NaN}get weekday(){return this.isValid?Oo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Io(this).weekday:NaN}get localWeekNumber(){return this.isValid?Io(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Io(this).weekYear:NaN}get ordinal(){return this.isValid?Yn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ve.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ve.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ve.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ve.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,i=6e4,s=wr(this.c),c=this.zone.offset(s-e),f=this.zone.offset(s+e),h=this.zone.offset(s-c*i),m=this.zone.offset(s-f*i);if(h===m)return[this];let v=s-h*i,k=s-m*i,z=Kn(v,h),P=Kn(k,m);return z.hour===P.hour&&z.minute===P.minute&&z.second===P.second&&z.millisecond===P.millisecond?[ur(this,{ts:v}),ur(this,{ts:k})]:[this]}get isInLeapYear(){return sr(this.year)}get daysInMonth(){return Or(this.year,this.month)}get daysInYear(){return this.isValid?Ke(this.year):NaN}get weeksInWeekYear(){return this.isValid?or(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?or(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:i,numberingSystem:s,calendar:c}=Zt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:c}}toUTC(e=0,i={}){return this.setZone(qt.instance(e),i)}toLocal(){return this.setZone(mt.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(e=be(e,mt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let c=this.ts;if(i||s){let f=e.offset(this.ts),h=this.toObject();[c]=Xn(h,f,e)}return ur(this,{ts:c,zone:e})}else return n.invalid(Gn(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:s}={}){let c=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:s});return ur(this,{loc:c})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let i=Ir(e,cu),{minDaysInFirstWeek:s,startOfWeek:c}=so(i,this.loc),f=!B(i.weekYear)||!B(i.weekNumber)||!B(i.weekday),h=!B(i.ordinal),m=!B(i.year),v=!B(i.month)||!B(i.day),k=m||v,z=i.weekYear||i.weekNumber;if((k||h)&&z)throw new ke("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&h)throw new ke("Can't mix ordinal dates with month/day");let P;f?P=io({...pn(this.c,s,c),...i},s,c):B(i.ordinal)?(P={...this.toObject(),...i},B(i.day)&&(P.day=Math.min(Or(P.year,P.month),P.day))):P=oo({...Yn(this.c),...i});let[tt,q]=Xn(P,this.o,this.zone);return ur(this,{ts:tt,o:q})}plus(e){if(!this.isValid)return this;let i=Nt.fromDurationLike(e);return ur(this,au(this,i))}minus(e){if(!this.isValid)return this;let i=Nt.fromDurationLike(e).negate();return ur(this,au(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;let s={},c=Nt.normalizeUnit(e);switch(c){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break;case"milliseconds":break}if(c==="weeks")if(i){let f=this.loc.getStartOfWeek(),{weekday:h}=this;h<f&&(s.weekNumber=this.weekNumber-1),s.weekday=f}else s.weekday=1;if(c==="quarters"){let f=Math.ceil(this.month/3);s.month=(f-1)*3+1}return this.set(s)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?Zt.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):So}toLocaleString(e=Ye,i={}){return this.isValid?Zt.create(this.loc.clone(i),e).formatDateTime(this):So}toLocaleParts(e={}){return this.isValid?Zt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:c=!0,extendedZone:f=!1}={}){if(!this.isValid)return null;let h=e==="extended",m=Do(this,h);return m+="T",m+=uu(this,h,i,s,c,f),m}toISODate({format:e="extended"}={}){return this.isValid?Do(this,e==="extended"):null}toISOWeekDate(){return Jn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:c=!1,extendedZone:f=!1,format:h="extended"}={}){return this.isValid?(c?"T":"")+uu(this,h==="extended",i,e,s,f):null}toRFC2822(){return Jn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Jn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Do(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let c="HH:mm:ss.SSS";return(i||e)&&(s&&(c+=" "),i?c+="z":e&&(c+="ZZ")),Jn(this,c,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():So}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",s={}){if(!this.isValid||!e.isValid)return Nt.invalid("created by diffing an invalid DateTime");let c={locale:this.locale,numberingSystem:this.numberingSystem,...s},f=ka(i).map(Nt.normalizeUnit),h=e.valueOf()>this.valueOf(),m=h?this:e,v=h?e:this,k=Xa(m,v,f,c);return h?k.negate():k}diffNow(e="milliseconds",i={}){return this.diff(n.now(),e,i)}until(e){return this.isValid?je.fromDateTimes(this,e):this}hasSame(e,i,s){if(!this.isValid)return!1;let c=e.valueOf(),f=this.setZone(e.zone,{keepLocalTime:!0});return f.startOf(i,s)<=c&&c<=f.endOf(i,s)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let i=e.base||n.fromObject({},{zone:this.zone}),s=e.padding?this<i?-e.padding:e.padding:0,c=["years","months","days","hours","minutes","seconds"],f=e.unit;return Array.isArray(e.unit)&&(c=e.unit,f=void 0),fu(i,this.plus(s),{...e,numeric:"always",units:c,unit:f})}toRelativeCalendar(e={}){return this.isValid?fu(e.base||n.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(n.isDateTime))throw new Wt("min requires all arguments be DateTimes");return co(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(n.isDateTime))throw new Wt("max requires all arguments be DateTimes");return co(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,s={}){let{locale:c=null,numberingSystem:f=null}=s,h=gt.fromOpts({locale:c,numberingSystem:f,defaultToEN:!0});return wo(h,e,i)}static fromStringExplain(e,i,s={}){return n.fromFormatExplain(e,i,s)}static get DATE_SHORT(){return Ye}static get DATE_MED(){return $r}static get DATE_MED_WITH_WEEKDAY(){return Pi}static get DATE_FULL(){return Yr}static get DATE_HUGE(){return Br}static get TIME_SIMPLE(){return Gr}static get TIME_WITH_SECONDS(){return Kr}static get TIME_WITH_SHORT_OFFSET(){return Jr}static get TIME_WITH_LONG_OFFSET(){return Xr}static get TIME_24_SIMPLE(){return Qr}static get TIME_24_WITH_SECONDS(){return tn}static get TIME_24_WITH_SHORT_OFFSET(){return en}static get TIME_24_WITH_LONG_OFFSET(){return rn}static get DATETIME_SHORT(){return nn}static get DATETIME_SHORT_WITH_SECONDS(){return on}static get DATETIME_MED(){return sn}static get DATETIME_MED_WITH_SECONDS(){return an}static get DATETIME_MED_WITH_WEEKDAY(){return qi}static get DATETIME_FULL(){return un}static get DATETIME_FULL_WITH_SECONDS(){return cn}static get DATETIME_HUGE(){return ln}static get DATETIME_HUGE_WITH_SECONDS(){return fn}};function Fr(n){if(ht.isDateTime(n))return n;if(n&&n.valueOf&&ze(n.valueOf()))return ht.fromJSDate(n);if(n&&typeof n=="object")return ht.fromObject(n);throw new Wt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var ie=sa(vu(),1);var ti,Wf=new Uint8Array(16);function ko(){if(!ti&&(ti=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ti))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ti(Wf)}var Gt=[];for(let n=0;n<256;++n)Gt.push((n+256).toString(16).slice(1));function gu(n,e=0){return Gt[n[e+0]]+Gt[n[e+1]]+Gt[n[e+2]]+Gt[n[e+3]]+"-"+Gt[n[e+4]]+Gt[n[e+5]]+"-"+Gt[n[e+6]]+Gt[n[e+7]]+"-"+Gt[n[e+8]]+Gt[n[e+9]]+"-"+Gt[n[e+10]]+Gt[n[e+11]]+Gt[n[e+12]]+Gt[n[e+13]]+Gt[n[e+14]]+Gt[n[e+15]]}var Uf=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mo={randomUUID:Uf};function jf(n,e,i){if(Mo.randomUUID&&!e&&!n)return Mo.randomUUID();n=n||{};let s=n.random||(n.rng||ko)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){i=i||0;for(let c=0;c<16;++c)e[i+c]=s[c];return e}return gu(s)}var xo=jf;var Vf=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),bo={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},Pf={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},qf=[2,3,4,9,10,11],Hf=[4,5,6,10,11,12,1],Zf={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},$f={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function Yf(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,Vf)}function _u(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function Ao(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function Bf(n){return e=>e.set({hour:n.hour,minute:n.minute})}var No=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,Gf=new RegExp(No);function Kf(n){return Gf.test(n)}var Jf=`${Object.keys(bo).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${No}|\\(|\\)`;function Xf(n,e){let i=!0,s=parseInt(n[2]),c=parseInt(e[2]),f=parseInt(n[3]+n[2]+n[1]),h=parseInt(e[3]+e[2]+e[1]);return(qf.indexOf(s)===-1||Hf.indexOf(c)===-1||s>12||c>12||f>h)&&(i=!1),i}function Tu(n){let e=n.split("-"),i=parseInt(e[2]),s=Pf[e[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let c=parseInt(e[0]);return ht.fromObject({year:i,month:s,day:c,hour:12,minute:0},{zone:"Europe/Rome"})}function Qf(n,e){let i=[];for(let f of e)f[3]!==void 0&&i.push(f[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,c=[...n.matchAll(s)];for(let f of c)i.push(f[1].trim());return i=[...new Set(i)],i}function wu(n,e){let i=null,s=$f[Zf[n]||"en"];e.length===1?i="one":e.length>1&&(i="many");let c="";return i!=null&&(c=s[i]),c}function th(n,e,i){let s=[],c=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2}), (.+?(?=\sin\s|\sClassroom\s|\sAula\s))(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,f=[...n.split(c)];f.splice(0,1);let h=8,m=f.length/h;for(let v=0;v<m;v++){let k=f[v*h+1],z=f[v*h+2],P=f[v*h+3],tt=f[v*h+4],q=f[v*h+5];q=q[0].toUpperCase()+q.substring(1);let vt=f[v*h+6],Ot=f[v*h+7].split(`

`)[0].trim().split(`
`);Ot=Ot.filter(Kf);let St=Tu(Ot.splice(0,1)[0]),Mt=St.set({hour:k,minute:z}),Ft=St.set({hour:P,minute:tt}),Pe=wu(q,e),oe={summary:i,start:Mt,end:Ft,dtstamp:ht.now(),location:vt,description:q+`
`+Pe+`
`+e.join(`
`)};Ot.length>0&&(oe.rdate=Ot.map(Tu).map(Bf(Mt)).map(Ao).join(",")),s.push(oe)}return{data:s,error:null}}function eh(n,e,i,s,c){e.lastIndex=0;let f=[...n.matchAll(e)];if(f.length>1){let h=!1,m=[],v="";for(let P of n.split(`
`))i.test(P)?(v=v.trim(),v!==""&&m.push(v),v=P,h=!1):e.test(P)?h||(h=!0,v+=`
`+P):v+=`
`+P;v=v.trim(),v!==""&&m.push(v);let k=ri(m[0],s),z=ri(m.slice(1).join(`
`),s);return{data:[...k.data,...z.data],error:k.error||z.error}}else if(f.length===1){let h=f[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,v=m.exec(h[2]),k=m.exec(h[3]),P=Xf(v,k)?"dd/MM/yyyy":"MM/dd/yyyy",tt=ht.fromFormat(h[2],P,{zone:"Europe/Rome"}),q=ht.fromFormat(h[3],P,{zone:"Europe/Rome"});if(tt.invalid!==null||q.invalid!=null)return{data:[],error:tt.invalid||q.invalid};if(tt.valueOf()>q.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${tt} > ${q})`};let vt=[],Ot=/\n[^\n]+\n?([\s\S]*)/.exec(n);if(Ot!==null&&Ot[1]!==""){let St=Ot[1].trim().split(`

`)[0].split(`
`);for(let Mt of St){let Ft=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(Mt);if(Ft===null)continue;let Pe=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,oe=bo[Ft[1]],Xt=tt;oe<tt.weekday?Xt=tt.set({day:tt.day-tt.weekday+7+oe}):Xt=tt.set({day:tt.day-tt.weekday+oe});let Lr=Ft.groups.startMidday!==void 0&&Ft.groups.startMidday[0]==="p"?12:0;Xt=Xt.set({hour:parseInt(Ft[2])+Lr,minute:parseInt(Ft[3])});let Ee=q;if(oe<=q.weekday?Ee=q.set({day:q.day-q.weekday+oe}):Ee=q.set({day:q.day-q.weekday-7+oe}),Ee=Ee.set({hour:Xt.hour,minute:Xt.minute}),Xt.valueOf()>Ee.valueOf())return{data:vt,error:`First day is unexpectedly greater than Last day (${Xt} > ${Ee})`};let tr=Xt,er=Ft.groups.endMidday!==void 0&&Ft.groups.endMidday[0]==="p"?12:0;tr=tr.set({hour:parseInt(Ft[5])+er,minute:parseInt(Ft[6])});let Se=null,qe=null;if(!Pe.test(Mt)){let cr=/,\s*(.+)\s+in\s+(?:.*?)(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(Mt);if(cr===null){let En=/,\s*(?:classroom lesson)?\s*(.*)/.exec(Mt);En!==null&&(qe="Lesson",Se=En[1])}else qe=cr[1][0].toUpperCase()+cr[1].substring(1),Se=cr[2]}let ni=wu(qe,s);vt.push({summary:c,start:Xt,end:tr,dtstamp:ht.now(),location:Se,rrule:"FREQ=WEEKLY;UNTIL="+Ao(Ee),description:qe+`
`+ni+`
`+s.join(`
`)})}}return{data:vt,error:null}}}var ei=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${Jf})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function ri(n,e=null,i=null){let s=[...n.matchAll(ei)];if(s.length===0)return{data:[],error:null};let c=Qf(n,s);if(c.length===0&&e!==null&&(c=e),i!==null&&s.length>1&&n.includes(i)){let k=[];for(let z of n.split(i)){let P=ri(z.trim(),c);if(k=[...k,...P.data],P.error!==null)return{data:k,error:P.error}}return{data:k,error:null}}let f=/\s*(?:L'orario non  stato definito|The schedule has not been defined)/,h=/\s*(?:Nessun orario definito|No timetable defined)/;if(f.test(n)||h.test(n))return{data:[],error:null};let m=s[s.length-1][2],v=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return v.test(n)?eh(n,v,ei,c,m):th(n,c,m)}var rh=Object.keys(bo).join("|");function nh(n,e,i,s,c,f){let h=i.match(/.{11}/g);return`${e}
${h.join(`
`)}`}function ih(n){let e=n.split(`
`),i=[],s="",c=0;for(let f of e){let h=(f.match(/\(/g)||[]).length,m=(f.match(/\)/g)||[]).length;c>0?(c+=h-m,s+=` ${f}`,c===0&&(i.push(s),s="")):(c+=h-m,c===0?i.push(f):s=f)}return s!==""&&i.push(`${s}${")".repeat(c)}`),i.join(`
`)}function Eu(n,e=`

`){return n.match(e)===null?n.replace(ei,`
$&`):n}function oh(n){let e=n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<auicDate>(${No})+)`,"g"),nh).replace(new RegExp(`(\\S)(${rh})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${ei.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`).trim(),i=ih(e);return Eu(i).trim()}function Fo(n,e=!0){try{let i=oh(n),s=`


`;i.includes(`



`)&&(s=`



`);let c=i.split(s),f=[];for(let h of c){let m=ri(h.trim(),null,s.slice(0,-1));if(f=[...f,...m.data],m.error!==null)return{data:f,error:m.error}}return f.length===0&&i.length!==0?e?Fo(Eu(i,`


`),!1):{data:[],error:"No courses detected"}:{data:f,error:null}}catch(i){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+i.message+")"),{data:[],error:i.message}}}function Su(n){let e=new ie.Property({name:"VERSION",value:2}),i=new ie.Property({name:"PRODID",value:"bebora@github"}),s=new ie.Component({name:"VCALENDAR",properties:[e,i]});for(let f of n.data){let h=new ie.Component({name:"VEVENT",properties:[new ie.Property({name:"SUMMARY",value:f.summary}),new ie.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:_u(f.start)}),new ie.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:_u(f.end)}),new ie.Property({name:"DTSTAMP",value:Ao(f.dtstamp)}),new ie.Property({name:"UID",value:xo()})]});f.location!==void 0&&(h=h.pushProperty(new ie.Property({name:"LOCATION",value:f.location}))),f.description!==void 0&&(h=h.pushProperty(new ie.Property({name:"DESCRIPTION",value:f.description}))),f.rrule!==void 0&&(h=h.pushProperty(new ie.Property({name:"RRULE",value:f.rrule}))),f.rdate!==void 0&&(h=h.pushProperty(new ie.Property({name:"RDATE",value:f.rdate}))),s=s.pushComponent(h)}let c=s.toString();return{data:Yf(c),error:null}}var Iu=sa(Ou(),1);function sh(n){return new Promise(e=>setTimeout(e,n))}async function ah(){try{let n,e,i=!1;if(/.*GestioneCarrelloPublic\.do.*/.test(window.location.href)){document.getElementById("orarioTestuale")!=null&&(i=!0);let c=document.getElementsByClassName("ui-tabs-nav ui-helper-reset ui-helper-clearfix")[0].children[0].children[0];c.innerText.indexOf("iCalendar")===-1&&(c.innerText+=" + file iCalendar"),n=document.getElementsByClassName("ElementInfoCard2 ui-corner-bottom")[0].children[0],e=n.children[1].innerText}else{i=!0,await sh(100),n=document.getElementsByClassName("tabs polij_tabs ui-tabs ui-corner-all ui-widget ui-widget-content")[0];let s=document.createElement("DIV");s.innerHTML=document.getElementById("orarioTestuale").innerHTML,s.style.display="block",s.style.height="0px",s.style.width="0px",s.style.overflow="hidden",document.body.appendChild(s),e=s.innerText}if(i&&document.getElementById("exportCalButton")==null){let s=Fo(e),c=Su(s);if(s.data.length===0||c.error!==null)console.error(s.data.length,c.error),alert("The userscript cannot detect any courses, please add something to the timetable");else{let f=document.createElement("BUTTON");f.innerHTML="Esporta orario come iCalendar",f.type="button",f.style.marginTop="35px",f.style.backgroundColor="#c0ff85",f.id="exportCalButton",n.appendChild(f),f.addEventListener("click",function(){let h=new Blob([c.data||"Something has prevented the script from correctly creating the calendar"],{type:"text/plain;charset=utf-8"});(0,Iu.saveAs)(h,"orarioPolimi.ics")})}}}catch(n){console.error("Error while adding download button to page. ("+n.message+")")}}ah();})();
