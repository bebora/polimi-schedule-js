// ==UserScript==
// @name     polimi-schedule-js
// @version  2.0.1
// @match    https://www4.ceda.polimi.it/manifesti/manifesti/controller/GestioneCarrelloPublic.do*
// @match    https://www13.ceda.polimi.it/oralez/oralez/controller/MainDesktop.do*
// @grant    none
// ==/UserScript==

(()=>{var Yc=Object.create;var $s=Object.defineProperty;var Kc=Object.getOwnPropertyDescriptor;var Jc=Object.getOwnPropertyNames;var Xc=Object.getPrototypeOf,Qc=Object.prototype.hasOwnProperty;var Zs=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var tf=(n,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Jc(e))!Qc.call(n,c)&&c!==i&&$s(n,c,{get:()=>e[c],enumerable:!(s=Kc(e,c))||s.enumerable});return n};var Bs=(n,e,i)=>(i=n!=null?Yc(Xc(n)):{},tf(e||!n||!n.__esModule?$s(i,"default",{value:n,enumerable:!0}):i,n));var ru=Zs((Hn,eu)=>{(function(n,e){typeof Hn=="object"&&typeof eu<"u"?e(Hn):typeof define=="function"&&define.amd?define(["exports"],e):e(n["immutable-ics"]={})})(Hn,function(n){"use strict";var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(y,T){return T={exports:{}},y(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},c=function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")},d=function(){function y(T,L){for(var E=0;E<L.length;E++){var C=L[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(T,C.key,C)}}return function(T,L,E){return L&&y(T.prototype,L),E&&y(T,E),T}}(),l=function(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)},m=function(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y},g=function(){function y(T,L){var E=[],C=!0,rt=!1,J=void 0;try{for(var X=T[Symbol.iterator](),ct;!(C=(ct=X.next()).done)&&(E.push(ct.value),!(L&&E.length===L));C=!0);}catch(ht){rt=!0,J=ht}finally{try{!C&&X.return&&X.return()}finally{if(rt)throw J}}return E}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return y(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(y){if(Array.isArray(y)){for(var T=0,L=Array(y.length);T<y.length;T++)L[T]=y[T];return L}else return Array.from(y)},U=i(function(y){(function(T,L){y.exports=L()})(e,function(){"use strict";function T(t,r){r&&(t.prototype=Object.create(r.prototype)),t.prototype.constructor=t}function L(t){return J(t)?t:k(t)}function E(t){return X(t)?t:w(t)}function C(t){return ct(t)?t:S(t)}function rt(t){return J(t)&&!ht(t)?t:M(t)}function J(t){return!!(t&&t[Ds])}function X(t){return!!(t&&t[Ms])}function ct(t){return!!(t&&t[xs])}function ht(t){return X(t)||ct(t)}function pt(t){return!!(t&&t[dr])}function jt(t){return t.value=!1,t}function _t(t){t&&(t.value=!0)}function Tt(){}function st(t,r){r=r||0;for(var o=Ye(0,t.length-r),a=Array(o),u=0;u<o;u++)a[u]=t[u+r];return a}function $(t){return t.size===void 0&&(t.size=t.__iterate(Pt)),t.size}function tt(t,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?$(t)+r:r}function Pt(){return!0}function ue(t,r,o){return(t===0||o!==void 0&&t<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Ht(t,r){return Rt(t,r,0)}function Zt(t,r){return Rt(t,r,r)}function Rt(t,r,o){return t===void 0?o:0>t?Ye(0,r+t):r===void 0?t:Math.min(r,t)}function K(t){this.next=t}function R(t,r,o,a){var u=t===0?r:t===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function yt(){return{value:void 0,done:!0}}function Qt(t){return!!G(t)}function Vt(t){return t&&typeof t.next=="function"}function te(t){var r=G(t);return r&&r.call(t)}function G(t){var r=t&&(Si&&t[Si]||t[ks]);if(typeof r=="function")return r}function Y(t){return t&&typeof t.length=="number"}function k(t){return t==null?A():J(t)?t.toSeq():H(t)}function w(t){return t==null?A().toKeyedSeq():J(t)?X(t)?t.toSeq():t.fromEntrySeq():z(t)}function S(t){return t==null?A():J(t)?X(t)?t.entrySeq():t.toIndexedSeq():q(t)}function M(t){return(t==null?A():J(t)?X(t)?t.entrySeq():t:q(t)).toSetSeq()}function x(t){this._array=t,this.size=t.length}function F(t){var r=Object.keys(t);this._object=t,this._keys=r,this.size=r.length}function O(t){this._iterable=t,this.size=t.length||t.size}function p(t){this._iterator=t,this._iteratorCache=[]}function _(t){return!!(t&&t[As])}function A(){return Ns||(Ns=new x([]))}function z(t){var r=Array.isArray(t)?new x(t).fromEntrySeq():Vt(t)?new p(t).fromEntrySeq():Qt(t)?new O(t).fromEntrySeq():(typeof t>"u"?"undefined":s(t))==="object"?new F(t):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return r}function q(t){var r=et(t);if(!r)throw new TypeError("Expected Array or iterable object of values: "+t);return r}function H(t){var r=et(t)||(typeof t>"u"?"undefined":s(t))==="object"&&new F(t);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return r}function et(t){return Y(t)?new x(t):Vt(t)?new p(t):Qt(t)?new O(t):void 0}function at(t,r,o,a){var u=t._cache;if(u){for(var f,h=u.length-1,v=0;v<=h;v++)if(f=u[o?h-v:v],r(f[1],a?f[0]:v,t)===!1)return v+1;return v}return t.__iterateUncached(r,o)}function kt(t,r,o,a){var u=t._cache;if(u){var f=u.length-1,h=0;return new K(function(){var v=u[o?f-h:h];return h++>f?yt():R(r,a?v[0]:h-1,v[1])})}return t.__iteratorUncached(r,o)}function Oe(t,r){return r?ti(r,t,"",{"":t}):ei(t)}function ti(t,r,o,a){return Array.isArray(r)?t.call(a,o,S(r).map(function(u,f){return ti(t,u,f,r)})):Wo(r)?t.call(a,o,w(r).map(function(u,f){return ti(t,u,f,r)})):r}function ei(t){return Array.isArray(t)?S(t).map(ei).toList():Wo(t)?w(t).map(ei).toMap():t}function Wo(t){return t&&(t.constructor===Object||t.constructor===void 0)}function Ct(t,r){if(t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1;if(typeof t.valueOf=="function"&&typeof r.valueOf=="function"){if(t=t.valueOf(),r=r.valueOf(),t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1}return typeof t.equals=="function"&&typeof r.equals=="function"&&t.equals(r)}function ri(t,r){if(t===r)return!0;if(!J(r)||t.size!==void 0&&r.size!==void 0&&t.size!==r.size||t.__hash!==void 0&&r.__hash!==void 0&&t.__hash!==r.__hash||X(t)!==X(r)||ct(t)!==ct(r)||pt(t)!==pt(r))return!1;if(t.size===0&&r.size===0)return!0;var o=!ht(t);if(pt(t)){var a=t.entries();return r.every(function(I,D){var N=a.next().value;return N&&Ct(N[1],I)&&(o||Ct(N[0],D))})&&a.next().done}var u=!1;if(t.size===void 0)if(r.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{u=!0;var f=t;t=r,r=f}var h=!0,v=r.__iterate(function(I,D){if(o?!t.has(I):u?!Ct(I,t.get(D,ft)):!Ct(t.get(D,ft),I))return h=!1,!1});return h&&t.size===v}function Xt(t,r){if(!(this instanceof Xt))return new Xt(t,r);if(this._value=t,this.size=r===void 0?1/0:Ye(0,r),this.size===0){if(Ii)return Ii;Ii=this}}function wn(t,r){if(!t)throw new Error(r)}function Bt(t,r,o){if(!(this instanceof Bt))return new Bt(t,r,o);if(wn(o!==0,"Cannot step a Range by 0"),t=t||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<t&&(o=-o),this._start=t,this._end=r,this._step=o,this.size=Ye(0,Math.ceil((r-t)/o-1)+1),this.size===0){if(Di)return Di;Di=this}}function Ve(){throw TypeError("Abstract")}function Ar(){}function or(){}function Sn(){}function ni(t){return 1073741824&t>>>1|3221225471&t}function ce(t){if(t===!1||t===null||t===void 0||typeof t.valueOf=="function"&&(t=t.valueOf(),t===!1||t===null||t===void 0))return 0;if(t===!0)return 1;var r=typeof t>"u"?"undefined":s(t);if(r==="number"){if(t!==t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);4294967295<t;)t/=4294967295,o^=t;return ni(o)}if(r==="string")return t.length>Wc?Ec(t):ii(t);if(typeof t.hashCode=="function")return t.hashCode();if(r==="object")return wc(t);if(typeof t.toString=="function")return ii(t.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Ec(t){var r=Ai[t];return r===void 0&&(r=ii(t),ki===$c&&(ki=0,Ai={}),ki++,Ai[t]=r),r}function ii(t){for(var r=0,o=0;o<t.length;o++)r=0|31*r+t.charCodeAt(o);return ni(r)}function wc(t){var r;if(xi&&(r=Mi.get(t),r!==void 0)||(r=t[Ke],r!==void 0)||!Ls&&(r=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ke],r!==void 0||(r=Sc(t),r!==void 0)))return r;if(r=++bi,1073741824&bi&&(bi=0),xi)Mi.set(t,r);else{if(Fs!==void 0&&Fs(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ls)Object.defineProperty(t,Ke,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ke]=r;else if(t.nodeType!==void 0)t[Ke]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function Sc(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function fe(t){wn(t!==1/0,"Cannot perform this action with an infinite size.")}function dt(t){return t==null?Ie():oi(t)&&!pt(t)?t:Ie().withMutations(function(r){var o=E(t);fe(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function oi(t){return!!(t&&t[Rs])}function Nr(t,r){this.ownerID=t,this.entries=r}function sr(t,r,o){this.ownerID=t,this.bitmap=r,this.nodes=o}function Fr(t,r,o){this.ownerID=t,this.count=r,this.nodes=o}function ar(t,r,o){this.ownerID=t,this.keyHash=r,this.entries=o}function Ce(t,r,o){this.ownerID=t,this.keyHash=r,this.entry=o}function si(t,r,o){this._type=r,this._reverse=o,this._stack=t._root&&$o(t._root)}function ai(t,r){return R(t,r[0],r[1])}function $o(t,r){return{node:t,index:0,__prev:r}}function ui(t,r,o,a){var u=Object.create(ut);return u.size=t,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ie(){return zs||(zs=ui(0))}function Zo(t,r,o){var a,u;if(t._root){var f=jt(Hc),h=jt(bs);if(a=ci(t._root,t.__ownerID,0,void 0,r,o,f,h),!h.value)return t;u=t.size+(f.value?o===ft?-1:1:0)}else{if(o===ft)return t;u=1,a=new Nr(t.__ownerID,[[r,o]])}return t.__ownerID?(t.size=u,t._root=a,t.__hash=void 0,t.__altered=!0,t):a?ui(u,a):Ie()}function ci(t,r,o,a,u,f,h,v){return t?t.update(r,o,a,u,f,h,v):f===ft?t:(_t(v),_t(h),new Ce(r,a,[u,f]))}function Bo(t){return t.constructor===Ce||t.constructor===ar}function fi(t,r,o,a,u){if(t.keyHash===a)return new ar(r,a,[t.entry,u]);var f,h=(o===0?t.keyHash:t.keyHash>>>o)&ee,v=(o===0?a:a>>>o)&ee,I=h==v?[fi(t,r,o+xt,a,u)]:(f=new Ce(r,a,u),h<v?[t,f]:[f,t]);return new sr(r,1<<h|1<<v,I)}function Oc(t,r,o,a){t||(t=new Tt);for(var u,f=new Ce(t,ce(o),[o,a]),h=0;h<r.length;h++)u=r[h],f=f.update(t,0,void 0,u[0],u[1]);return f}function Ic(t,r,o,a){for(var u,f=0,h=0,v=Array(o),I=0,D=1,N=r.length;I<N;I++,D<<=1)u=r[I],u!==void 0&&I!==a&&(f|=D,v[h++]=u);return new sr(t,f,v)}function Dc(t,r,o,a,u){for(var f=0,h=Array(ve),v=0;o!==0;v++,o>>>=1)h[v]=1&o?r[f++]:void 0;return h[a]=u,new Fr(t,f+1,h)}function On(t,r,o){for(var a=[],u=0;u<o.length;u++){var f=o[u],h=E(f);J(f)||(h=h.map(function(v){return Oe(v)})),a.push(h)}return Ko(t,r,a)}function Go(t,r){return t&&t.mergeDeep&&J(r)?t.mergeDeep(r):Ct(t,r)?t:r}function Yo(t){return function(r,o,a){if(r&&r.mergeDeepWith&&J(o))return r.mergeDeepWith(t,o);var u=t(r,o,a);return Ct(r,u)?r:u}}function Ko(t,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?t:t.size!==0||t.__ownerID||o.length!==1?t.withMutations(function(a){for(var u=r?function(h,v){a.update(v,ft,function(I){return I===ft?h:r(I,h,v)})}:function(h,v){a.set(v,h)},f=0;f<o.length;f++)o[f].forEach(u)}):t.constructor(o[0])}function Jo(t,r,o,a){var u=t===ft,f=r.next();if(f.done){var h=u?o:t,v=a(h);return v===h?t:v}wn(u||t&&t.set,"invalid keyPath");var I=f.value,D=u?ft:t.get(I,ft),N=Jo(D,r,o,a);return N===D?t:N===ft?t.remove(I):(u?Ie():t).set(I,N)}function Xo(t){return t-=1431655765&t>>1,t=(858993459&t)+(858993459&t>>2),t=252645135&t+(t>>4),t+=t>>8,t+=t>>16,127&t}function Qo(t,r,o,a){var u=a?t:st(t);return u[r]=o,u}function Mc(t,r,o,a){var u=t.length+1;if(a&&r+1===u)return t[r]=o,t;for(var f=Array(u),h=0,v=0;v<u;v++)v===r?(f[v]=o,h=-1):f[v]=t[v+h];return f}function xc(t,r,o){var a=t.length-1;if(o&&r===a)return t.pop(),t;for(var u=Array(a),f=0,h=0;h<a;h++)h===r&&(f=1),u[h]=t[h+f];return u}function Mt(t){var r=li();if(t==null)return r;if(ts(t))return t;var o=C(t),a=o.size;return a===0?r:(fe(a),0<a&&a<ve?Lr(0,a,xt,null,new qe(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(f,h){return u.set(h,f)})}))}function ts(t){return!!(t&&t[Cs])}function qe(t,r){this.array=t,this.ownerID=r}function es(t,r){function o(D,N,V){return N===0?a(D,V):u(D,N,V)}function a(D,N){var V=N===v?I&&I.array:D&&D.array,W=N>f?0:f-N,Q=h-N;return Q>ve&&(Q=ve),function(){if(W==Q)return Vr;var lt=r?--Q:W++;return V&&V[lt]}}function u(D,N,V){var W,Q=D&&D.array,lt=V>f?0:f-V>>N,At=(h-V>>N)+1;return At>ve&&(At=ve),function(){do{if(W){var _e=W();if(_e!==Vr)return _e;W=null}if(lt==At)return Vr;var De=r?--At:lt++;W=o(Q&&Q[De],N-xt,V+(De<<N))}while(!0)}}var f=t._origin,h=t._capacity,v=Rr(h),I=t._tail;return o(t._root,t._level,0)}function Lr(t,r,o,a,u,f,h){var v=Object.create(re);return v.size=r-t,v._origin=t,v._capacity=r,v._level=o,v._root=a,v._tail=u,v.__ownerID=f,v.__hash=h,v.__altered=!1,v}function li(){return Us||(Us=Lr(0,0,xt))}function bc(t,r,o){if(r=tt(t,r),r!==r)return t;if(r>=t.size||0>r)return t.withMutations(function(h){0>r?Pe(h,r).set(0,o):Pe(h,0,r+1).set(r,o)});r+=t._origin;var a=t._tail,u=t._root,f=jt(bs);return r>=Rr(t._capacity)?a=hi(a,t.__ownerID,0,r,o,f):u=hi(u,t.__ownerID,t._level,r,o,f),f.value?t.__ownerID?(t._root=u,t._tail=a,t.__hash=void 0,t.__altered=!0,t):Lr(t._origin,t._capacity,t._level,u,a):t}function hi(t,r,o,a,u,f){var h=a>>>o&ee,v=t&&h<t.array.length;if(!v&&u===void 0)return t;var I;if(0<o){var D=t&&t.array[h],N=hi(D,r,o-xt,a,u,f);return N===D?t:(I=ur(t,r),I.array[h]=N,I)}return v&&t.array[h]===u?t:(_t(f),I=ur(t,r),u===void 0&&h==I.array.length-1?I.array.pop():I.array[h]=u,I)}function ur(t,r){return r&&t&&r===t.ownerID?t:new qe(t?t.array.slice():[],r)}function rs(t,r){if(r>=Rr(t._capacity))return t._tail;if(r<1<<t._level+xt){for(var o=t._root,a=t._level;o&&0<a;)o=o.array[r>>>a&ee],a-=xt;return o}}function Pe(t,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=t.__ownerID||new Tt,u=t._origin,f=t._capacity,h=u+r,v=o===void 0?f:0>o?f+o:u+o;if(h===u&&v===f)return t;if(h>=v)return t.clear();for(var I=t._level,D=t._root,N=0;0>h+N;)D=new qe(D&&D.array.length?[void 0,D]:[],a),I+=xt,N+=1<<I;N&&(h+=N,u+=N,v+=N,f+=N);for(var V=Rr(f),W=Rr(v);W>=1<<I+xt;)D=new qe(D&&D.array.length?[D]:[],a),I+=xt;var Q=t._tail,lt=W<V?rs(t,v-1):W>V?new qe([],a):Q;if(Q&&W>V&&h<f&&Q.array.length){D=ur(D,a);for(var At,_e=D,De=I;De>xt;De-=xt)At=V>>>De&ee,_e=_e.array[At]=ur(_e.array[At],a);_e.array[V>>>xt&ee]=Q}if(v<f&&(lt=lt&&lt.removeAfter(a,0,v)),h>=W)h-=W,v-=W,I=xt,D=null,lt=lt&&lt.removeBefore(a,0,h);else if(h>u||W<V){for(N=0;D;){var Nn=h>>>I&ee;if(Nn!=W>>>I&ee)break;Nn&&(N+=(1<<I)*Nn),I-=xt,D=D.array[Nn]}D&&h>u&&(D=D.removeBefore(a,I,h-N)),D&&W<V&&(D=D.removeAfter(a,I,W-N)),N&&(h-=N,v-=N)}return t.__ownerID?(t.size=v-h,t._origin=h,t._capacity=v,t._level=I,t._root=D,t._tail=lt,t.__hash=void 0,t.__altered=!0,t):Lr(h,v,I,D,lt)}function In(t,r,o){for(var a=[],u=0,f=0;f<o.length;f++){var h=o[f],v=C(h);v.size>u&&(u=v.size),J(h)||(v=v.map(function(I){return Oe(I)})),a.push(v)}return u>t.size&&(t=t.setSize(u)),Ko(t,r,a)}function Rr(t){return t<ve?0:t-1>>>xt<<xt}function zt(t){return t==null?Dn():ns(t)?t:Dn().withMutations(function(r){var o=E(t);fe(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function ns(t){return oi(t)&&pt(t)}function di(t,r,o,a){var u=Object.create(zt.prototype);return u.size=t?t.size:0,u._map=t,u._list=r,u.__ownerID=o,u.__hash=a,u}function Dn(){return js||(js=di(Ie(),li()))}function is(t,r,o){var a,u,f=t._map,h=t._list,v=f.get(r),I=v!==void 0;if(o===ft){if(!I)return t;h.size>=ve&&h.size>=2*f.size?(u=h.filter(function(D,N){return D!==void 0&&v!==N}),a=u.toKeyedSeq().map(function(D){return D[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=f.remove(r),u=v===h.size-1?h.pop():h.set(v,void 0))}else if(I){if(o===h.get(v)[1])return t;a=f,u=h.set(v,[r,o])}else a=f.set(r,h.size),u=h.set(h.size,[r,o]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t):di(a,u)}function me(t,r){this._iter=t,this._useKeys=r,this.size=t.size}function cr(t){this._iter=t,this.size=t.size}function fr(t){this._iter=t,this.size=t.size}function lr(t){this._iter=t,this.size=t.size}function os(t){var r=ke(t);return r._iter=t,r.size=t.size,r.flip=function(){return t},r.reverse=function(){var o=t.reverse.apply(this);return o.flip=function(){return t.reverse()},o},r.has=function(o){return t.includes(o)},r.includes=function(o){return t.has(o)},r.cacheResult=vi,r.__iterateUncached=function(o,a){var u=this;return t.__iterate(function(f,h){return o(h,f,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===Fe){var u=t.__iterator(o,a);return new K(function(){var f=u.next();if(!f.done){var h=f.value[0];f.value[0]=f.value[1],f.value[1]=h}return f})}return t.__iterator(o===ge?Ur:ge,a)},r}function ss(t,r,o){var a=ke(t);return a.size=t.size,a.has=function(u){return t.has(u)},a.get=function(u,f){var h=t.get(u,ft);return h===ft?f:r.call(o,h,u,t)},a.__iterateUncached=function(u,f){var h=this;return t.__iterate(function(v,I,D){return u(r.call(o,v,I,D),I,h)!==!1},f)},a.__iteratorUncached=function(u,f){var h=t.__iterator(Fe,f);return new K(function(){var v=h.next();if(v.done)return v;var I=v.value,D=I[0];return R(u,D,r.call(o,I[1],D,t),v)})},a}function pi(t,r){var o=ke(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var a=os(t);return a.reverse=function(){return t.flip()},a}),o.get=function(a,u){return t.get(r?a:-1-a,u)},o.has=function(a){return t.has(r?a:-1-a)},o.includes=function(a){return t.includes(a)},o.cacheResult=vi,o.__iterate=function(a,u){var f=this;return t.__iterate(function(h,v){return a(h,v,f)},!u)},o.__iterator=function(a,u){return t.__iterator(a,!u)},o}function as(t,r,o,a){var u=ke(t);return a&&(u.has=function(f){var h=t.get(f,ft);return h!==ft&&!!r.call(o,h,f,t)},u.get=function(f,h){var v=t.get(f,ft);return v!==ft&&r.call(o,v,f,t)?v:h}),u.__iterateUncached=function(f,h){var v=this,I=0;return t.__iterate(function(D,N,V){if(r.call(o,D,N,V))return I++,f(D,a?N:I-1,v)},h),I},u.__iteratorUncached=function(f,h){var v=t.__iterator(Fe,h),I=0;return new K(function(){for(;;){var D=v.next();if(D.done)return D;var N=D.value,V=N[0],W=N[1];if(r.call(o,W,V,t))return R(f,a?V:I++,W,D)}})},u}function kc(t,r,o){var a=dt().asMutable();return t.__iterate(function(u,f){a.update(r.call(o,u,f,t),0,function(h){return h+1})}),a.asImmutable()}function Ac(t,r,o){var a=X(t),u=(pt(t)?zt():dt()).asMutable();t.__iterate(function(h,v){u.update(r.call(o,h,v,t),function(I){return I=I||[],I.push(a?[v,h]:h),I})});var f=ds(t);return u.map(function(h){return St(t,f(h))})}function mi(t,r,o,a){var u=t.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),ue(r,o,u))return t;var f=Ht(r,u),h=Zt(o,u);if(f!==f||h!==h)return mi(t.toSeq().cacheResult(),r,o,a);var v,I=h-f;I==I&&(v=0>I?0:I);var D=ke(t);return D.size=v===0?v:t.size&&v||void 0,!a&&_(t)&&0<=v&&(D.get=function(N,V){return N=tt(this,N),0<=N&&N<v?t.get(N+f,V):V}),D.__iterateUncached=function(N,V){var W=this;if(v===0)return 0;if(V)return this.cacheResult().__iterate(N,V);var Q=0,lt=!0,At=0;return t.__iterate(function(_e,De){if(!(lt&&(lt=Q++<f)))return At++,N(_e,a?De:At-1,W)!==!1&&At!==v}),At},D.__iteratorUncached=function(N,V){if(v!==0&&V)return this.cacheResult().__iterator(N,V);var W=v!==0&&t.__iterator(N,V),Q=0,lt=0;return new K(function(){for(;Q++<f;)W.next();if(++lt>v)return yt();var At=W.next();return a||N===ge?At:N===Ur?R(N,lt-1,void 0,At):R(N,lt-1,At.value[1],At)})},D}function Nc(t,r,o){var a=ke(t);return a.__iterateUncached=function(u,f){var h=this;if(f)return this.cacheResult().__iterate(u,f);var v=0;return t.__iterate(function(I,D,N){return r.call(o,I,D,N)&&++v&&u(I,D,h)}),v},a.__iteratorUncached=function(u,f){var h=this;if(f)return this.cacheResult().__iterator(u,f);var v=t.__iterator(Fe,f),I=!0;return new K(function(){if(!I)return yt();var D=v.next();if(D.done)return D;var N=D.value,V=N[0],W=N[1];return r.call(o,W,V,h)?u===Fe?D:R(u,V,W,D):(I=!1,yt())})},a}function us(t,r,o,a){var u=ke(t);return u.__iterateUncached=function(f,h){var v=this;if(h)return this.cacheResult().__iterate(f,h);var I=!0,D=0;return t.__iterate(function(N,V,W){if(!(I&&(I=r.call(o,N,V,W))))return D++,f(N,a?V:D-1,v)}),D},u.__iteratorUncached=function(f,h){var v=this;if(h)return this.cacheResult().__iterator(f,h);var I=t.__iterator(Fe,h),D=!0,N=0;return new K(function(){var V,W,Q;do{if(V=I.next(),V.done)return a||f===ge?V:f===Ur?R(f,N++,void 0,V):R(f,N++,V.value[1],V);var lt=V.value;W=lt[0],Q=lt[1],D&&(D=r.call(o,Q,W,v))}while(D);return f===Fe?V:R(f,W,Q,V)})},u}function Fc(t,r){var o=X(t),a=[t].concat(r).map(function(h){return J(h)?o&&(h=E(h)):h=o?z(h):q(Array.isArray(h)?h:[h]),h}).filter(function(h){return h.size!==0});if(a.length===0)return t;if(a.length===1){var u=a[0];if(u===t||o&&X(u)||ct(t)&&ct(u))return u}var f=new x(a);return o?f=f.toKeyedSeq():!ct(t)&&(f=f.toSetSeq()),f=f.flatten(!0),f.size=a.reduce(function(h,v){if(h!==void 0){var I=v.size;if(I!==void 0)return h+I}},0),f}function cs(t,r,o){var a=ke(t);return a.__iterateUncached=function(u,f){function h(D,N){var V=this;D.__iterate(function(W,Q){return(!r||N<r)&&J(W)?h(W,N+1):u(W,o?Q:v++,V)===!1&&(I=!0),!I},f)}var v=0,I=!1;return h(t,0),v},a.__iteratorUncached=function(u,f){var h=t.__iterator(u,f),v=[],I=0;return new K(function(){for(;h;){var D=h.next();if(D.done!==!1){h=v.pop();continue}var N=D.value;if(u===Fe&&(N=N[1]),(!r||v.length<r)&&J(N))v.push(h),h=N.__iterator(u,f);else return o?D:R(u,I++,N,D)}return yt()})},a}function Lc(t,r,o){var a=ds(t);return t.toSeq().map(function(u,f){return a(r.call(o,u,f,t))}).flatten(!0)}function Rc(t,r){var o=ke(t);return o.size=t.size&&2*t.size-1,o.__iterateUncached=function(a,u){var f=this,h=0;return t.__iterate(function(v){return(!h||a(r,h++,f)!==!1)&&a(v,h++,f)!==!1},u),h},o.__iteratorUncached=function(a,u){var f,h=t.__iterator(ge,u),v=0;return new K(function(){return(!f||v%2)&&(f=h.next(),f.done)?f:v%2?R(a,v++,r):R(a,v++,f.value,f)})},o}function hr(t,r,o){r||(r=ps);var a=X(t),u=0,f=t.toSeq().map(function(h,v){return[v,h,u++,o?o(h,v,t):h]}).toArray();return f.sort(function(h,v){return r(h[3],v[3])||h[2]-v[2]}).forEach(a?function(h,v){f[v].length=2}:function(h,v){f[v]=h[1]}),a?w(f):ct(t)?S(f):M(f)}function Mn(t,r,o){if(r||(r=ps),o){var a=t.toSeq().map(function(u,f){return[u,o(u,f,t)]}).reduce(function(u,f){return fs(r,u[1],f[1])?f:u});return a&&a[0]}return t.reduce(function(u,f){return fs(r,u,f)?f:u})}function fs(t,r,o){var a=t(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function yi(t,r,o){var a=ke(t);return a.size=new x(o).map(function(u){return u.size}).min(),a.__iterate=function(u,f){for(var h,v=this.__iterator(ge,f),I=0;!(h=v.next()).done&&u(h.value,I++,this)!==!1;);return I},a.__iteratorUncached=function(u,f){var h=o.map(function(D){return D=L(D),te(f?D.reverse():D)}),v=0,I=!1;return new K(function(){var D;return I||(D=h.map(function(N){return N.next()}),I=D.some(function(N){return N.done})),I?yt():R(u,v++,r.apply(null,D.map(function(N){return N.value})))})},a}function St(t,r){return _(t)?r:t.constructor(r)}function ls(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function hs(t){return fe(t.size),$(t)}function ds(t){return X(t)?E:ct(t)?C:rt}function ke(t){return Object.create((X(t)?w:ct(t)?S:M).prototype)}function vi(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):k.prototype.cacheResult.call(this)}function ps(t,r){return t>r?1:t<r?-1:0}function ms(t){var r=te(t);if(!r){if(!Y(t))throw new TypeError("Expected iterable or array-like: "+t);r=te(L(t))}return r}function le(t,r){var o,a=function(f){if(f instanceof a)return f;if(!(this instanceof a))return new a(f);if(!o){o=!0;var h=Object.keys(t);zc(u,h),u.size=h.length,u._name=r,u._keys=h,u._defaultValues=t}this._map=dt(f)},u=a.prototype=Object.create(Gt);return u.constructor=a,a}function xn(t,r,o){var a=Object.create(Object.getPrototypeOf(t));return a._map=r,a.__ownerID=o,a}function ys(t){return t._name||t.constructor.name||"Record"}function zc(t,r){try{r.forEach(Cc.bind(void 0,t))}catch{}}function Cc(t,r){Object.defineProperty(t,r,{get:function(){return this.get(r)},set:function(a){wn(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function bt(t){return t==null?Ti():gi(t)&&!pt(t)?t:Ti().withMutations(function(r){var o=rt(t);fe(o.size),o.forEach(function(a){return r.add(a)})})}function gi(t){return!!(t&&t[Vs])}function _i(t,r){return t.__ownerID?(t.size=r.size,t._map=r,t):r===t._map?t:r.size===0?t.__empty():t.__make(r)}function vs(t,r){var o=Object.create(he);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function Ti(){return qs||(qs=vs(Ie()))}function Ae(t){return t==null?Ei():gs(t)?t:Ei().withMutations(function(r){var o=rt(t);fe(o.size),o.forEach(function(a){return r.add(a)})})}function gs(t){return gi(t)&&pt(t)}function _s(t,r){var o=Object.create(kn);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function Ei(){return Ps||(Ps=_s(Dn()))}function Ut(t){return t==null?wi():Ts(t)?t:wi().unshiftAll(t)}function Ts(t){return!!(t&&t[Hs])}function zr(t,r,o,a){var u=Object.create(pr);return u.size=t,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function wi(){return Ws||(Ws=zr(0))}function Ne(t,r){var o=function(a){t.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),t}function Uc(t,r){return r}function jc(t,r){return[r,t]}function bn(t){return function(){return!t.apply(this,arguments)}}function Es(t){return function(){return-t.apply(this,arguments)}}function ws(t){return typeof t=="string"?JSON.stringify(t):t+""}function Vc(){return st(arguments)}function Ss(t,r){return t<r?1:t>r?-1:0}function qc(t){if(t.size===1/0)return 0;var r=pt(t),o=X(t),a=r?1:0,u=t.__iterate(o?r?function(f,h){a=0|31*a+Os(ce(f),ce(h))}:function(f,h){a=0|a+Os(ce(f),ce(h))}:r?function(f){a=0|31*a+ce(f)}:function(f){a=0|a+ce(f)});return Pc(u,a)}function Pc(t,r){return r=jr(r,3432918353),r=jr(r<<15|r>>>-15,461845907),r=jr(r<<13|r>>>-13,5),r=(0|r+3864292196)^t,r=jr(r^r>>>16,2246822507),r=jr(r^r>>>13,3266489909),r=ni(r^r>>>16),r}function Os(t,r){return 0|t^r+2654435769+(t<<6)+(t>>2)}var Is=Math.imul,Ye=Math.max,ye=Array.prototype.slice;T(E,L),T(C,L),T(rt,L),L.isIterable=J,L.isKeyed=X,L.isIndexed=ct,L.isAssociative=ht,L.isOrdered=pt,L.Keyed=E,L.Indexed=C,L.Set=rt;var Ds="@@__IMMUTABLE_ITERABLE__@@",Ms="@@__IMMUTABLE_KEYED__@@",xs="@@__IMMUTABLE_INDEXED__@@",dr="@@__IMMUTABLE_ORDERED__@@",Cr="delete",xt=5,ve=1<<xt,ee=ve-1,ft={},Hc={value:!1},bs={value:!1},Ur=0,ge=1,Fe=2,Si=typeof Symbol=="function"&&Symbol.iterator,ks="@@iterator",Oi=Si||ks;K.prototype.toString=function(){return"[Iterator]"},K.KEYS=Ur,K.VALUES=ge,K.ENTRIES=Fe,K.prototype.inspect=K.prototype.toSource=function(){return this.toString()},K.prototype[Oi]=function(){return this},T(k,L),k.of=function(){return k(arguments)},k.prototype.toSeq=function(){return this},k.prototype.toString=function(){return this.__toString("Seq {","}")},k.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},k.prototype.__iterate=function(t,r){return at(this,t,r,!0)},k.prototype.__iterator=function(t,r){return kt(this,t,r,!0)},T(w,k),w.prototype.toKeyedSeq=function(){return this},T(S,k),S.of=function(){return S(arguments)},S.prototype.toIndexedSeq=function(){return this},S.prototype.toString=function(){return this.__toString("Seq [","]")},S.prototype.__iterate=function(t,r){return at(this,t,r,!1)},S.prototype.__iterator=function(t,r){return kt(this,t,r,!1)},T(M,k),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},k.isSeq=_,k.Keyed=w,k.Set=M,k.Indexed=S;var As="@@__IMMUTABLE_SEQ__@@";k.prototype[As]=!0,T(x,S),x.prototype.get=function(t,r){return this.has(t)?this._array[tt(this,t)]:r},x.prototype.__iterate=function(t,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(t(o[r?a-u:u],u,this)===!1)return u+1;return u},x.prototype.__iterator=function(t,r){var o=this._array,a=o.length-1,u=0;return new K(function(){return u>a?yt():R(t,u,o[r?a-u++:u++])})},T(F,w),F.prototype.get=function(t,r){return r===void 0||this.has(t)?this._object[t]:r},F.prototype.has=function(t){return this._object.hasOwnProperty(t)},F.prototype.__iterate=function(t,r){for(var o,a=this._object,u=this._keys,f=u.length-1,h=0;h<=f;h++)if(o=u[r?f-h:h],t(a[o],o,this)===!1)return h+1;return h},F.prototype.__iterator=function(t,r){var o=this._object,a=this._keys,u=a.length-1,f=0;return new K(function(){var h=a[r?u-f:f];return f++>u?yt():R(t,h,o[h])})},F.prototype[dr]=!0,T(O,S),O.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);var o=this._iterable,a=te(o),u=0;if(Vt(a))for(var f;!(f=a.next()).done&&t(f.value,u++,this)!==!1;);return u},O.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterable,a=te(o);if(!Vt(a))return new K(yt);var u=0;return new K(function(){var f=a.next();return f.done?f:R(t,u++,f.value)})},T(p,S),p.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(t(a[u],u++,this)===!1)return u;for(var f,h;!(f=o.next()).done&&(h=f.value,a[u]=h,t(h,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterator,a=this._iteratorCache,u=0;return new K(function(){if(u>=a.length){var f=o.next();if(f.done)return f;a[u]=f.value}return R(t,u,a[u++])})};var Ns;T(Xt,S),Xt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Xt.prototype.get=function(t,r){return this.has(t)?this._value:r},Xt.prototype.includes=function(t){return Ct(this._value,t)},Xt.prototype.slice=function(t,r){var o=this.size;return ue(t,r,o)?this:new Xt(this._value,Zt(r,o)-Ht(t,o))},Xt.prototype.reverse=function(){return this},Xt.prototype.indexOf=function(t){return Ct(this._value,t)?0:-1},Xt.prototype.lastIndexOf=function(t){return Ct(this._value,t)?this.size:-1},Xt.prototype.__iterate=function(t){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},Xt.prototype.__iterator=function(t){var r=this,o=0;return new K(function(){return o<r.size?R(t,o++,r._value):yt()})},Xt.prototype.equals=function(t){return t instanceof Xt?Ct(this._value,t._value):ri(t)};var Ii;T(Bt,S),Bt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Bt.prototype.get=function(t,r){return this.has(t)?this._start+tt(this,t)*this._step:r},Bt.prototype.includes=function(t){var r=(t-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Bt.prototype.slice=function(t,r){return ue(t,r,this.size)?this:(t=Ht(t,this.size),r=Zt(r,this.size),r<=t?new Bt(0,0):new Bt(this.get(t,this._end),this.get(r,this._end),this._step))},Bt.prototype.indexOf=function(t){var r=t-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Bt.prototype.lastIndexOf=function(t){return this.indexOf(t)},Bt.prototype.__iterate=function(t,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;f<=o;f++){if(t(u,f,this)===!1)return f+1;u+=r?-a:a}return f},Bt.prototype.__iterator=function(t,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;return new K(function(){var h=u;return u+=r?-a:a,f>o?yt():R(t,f++,h)})},Bt.prototype.equals=function(t){return t instanceof Bt?this._start===t._start&&this._end===t._end&&this._step===t._step:ri(this,t)};var Di;T(Ve,L),T(Ar,Ve),T(or,Ve),T(Sn,Ve),Ve.Keyed=Ar,Ve.Indexed=or,Ve.Set=Sn;var Mi,jr=typeof Is=="function"?Is:function(t,r){t|=0,r|=0;var o=65535&t,a=65535&r;return 0|o*a+((t>>>16)*a+o*(r>>>16)<<16>>>0)},Fs=Object.isExtensible,Ls=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),xi=typeof WeakMap=="function";xi&&(Mi=new WeakMap);var bi=0,Ke="__immutablehash__";typeof Symbol=="function"&&(Ke=Symbol(Ke));var Wc=16,$c=255,ki=0,Ai={};T(dt,Ar),dt.of=function(){var t=ye.call(arguments,0);return Ie().withMutations(function(r){for(var o=0;o<t.length;o+=2){if(o+1>=t.length)throw new Error("Missing value for key: "+t[o]);r.set(t[o],t[o+1])}})},dt.prototype.toString=function(){return this.__toString("Map {","}")},dt.prototype.get=function(t,r){return this._root?this._root.get(0,void 0,t,r):r},dt.prototype.set=function(t,r){return Zo(this,t,r)},dt.prototype.setIn=function(t,r){return this.updateIn(t,ft,function(){return r})},dt.prototype.remove=function(t){return Zo(this,t,ft)},dt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return ft})},dt.prototype.update=function(t,r,o){return arguments.length===1?t(this):this.updateIn([t],r,o)},dt.prototype.updateIn=function(t,r,o){o||(o=r,r=void 0);var a=Jo(this,ms(t),r,o);return a===ft?void 0:a},dt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ie()},dt.prototype.merge=function(){return On(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return On(this,t,r)},dt.prototype.mergeIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},dt.prototype.mergeDeep=function(){return On(this,Go,arguments)},dt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return On(this,Yo(t),r)},dt.prototype.mergeDeepIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Ie(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},dt.prototype.sort=function(t){return zt(hr(this,t))},dt.prototype.sortBy=function(t,r){return zt(hr(this,r,t))},dt.prototype.withMutations=function(t){var r=this.asMutable();return t(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Tt)},dt.prototype.asImmutable=function(){return this.__ensureOwner()},dt.prototype.wasAltered=function(){return this.__altered},dt.prototype.__iterator=function(t,r){return new si(this,t,r)},dt.prototype.__iterate=function(t,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,t(u[1],u[0],o)},r),a},dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?ui(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},dt.isMap=oi;var Rs="@@__IMMUTABLE_MAP__@@",ut=dt.prototype;ut[Rs]=!0,ut[Cr]=ut.remove,ut.removeIn=ut.deleteIn,Nr.prototype.get=function(t,r,o,a){for(var u=this.entries,f=0,h=u.length;f<h;f++)if(Ct(o,u[f][0]))return u[f][1];return a},Nr.prototype.update=function(t,r,o,a,u,f,h){for(var v=u===ft,I=this.entries,D=0,N=I.length;D<N&&!Ct(a,I[D][0]);D++);var V=D<N;if(V?I[D][1]===u:v)return this;if(_t(h),(v||!V)&&_t(f),!(v&&I.length===1)){if(!V&&!v&&I.length>=Zc)return Oc(t,I,a,u);var W=t&&t===this.ownerID,Q=W?I:st(I);return V?v?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new Nr(t,Q)}},sr.prototype.get=function(t,r,o,a){r===void 0&&(r=ce(o));var u=1<<((t===0?r:r>>>t)&ee),f=this.bitmap;return(f&u)==0?a:this.nodes[Xo(f&u-1)].get(t+xt,r,o,a)},sr.prototype.update=function(t,r,o,a,u,f,h){o===void 0&&(o=ce(a));var v=(r===0?o:o>>>r)&ee,I=1<<v,D=this.bitmap,N=(D&I)!=0;if(!N&&u===ft)return this;var V=Xo(D&I-1),W=this.nodes,Q=N?W[V]:void 0,lt=ci(Q,t,r+xt,o,a,u,f,h);if(lt===Q)return this;if(!N&&lt&&W.length>=Bc)return Dc(t,W,D,v,lt);if(N&&!lt&&W.length===2&&Bo(W[1^V]))return W[1^V];if(N&&lt&&W.length===1&&Bo(lt))return lt;var At=t&&t===this.ownerID,_e=N?lt?D:D^I:D|I,De=N?lt?Qo(W,V,lt,At):xc(W,V,At):Mc(W,V,lt,At);return At?(this.bitmap=_e,this.nodes=De,this):new sr(t,_e,De)},Fr.prototype.get=function(t,r,o,a){r===void 0&&(r=ce(o));var u=(t===0?r:r>>>t)&ee,f=this.nodes[u];return f?f.get(t+xt,r,o,a):a},Fr.prototype.update=function(t,r,o,a,u,f,h){o===void 0&&(o=ce(a));var v=(r===0?o:o>>>r)&ee,I=this.nodes,D=I[v];if(u===ft&&!D)return this;var N=ci(D,t,r+xt,o,a,u,f,h);if(N===D)return this;var V=this.count;if(!D)V++;else if(!N&&(V--,V<Gc))return Ic(t,I,V,v);var W=t&&t===this.ownerID,Q=Qo(I,v,N,W);return W?(this.count=V,this.nodes=Q,this):new Fr(t,V,Q)},ar.prototype.get=function(t,r,o,a){for(var u=this.entries,f=0,h=u.length;f<h;f++)if(Ct(o,u[f][0]))return u[f][1];return a},ar.prototype.update=function(t,r,o,a,u,f,h){o===void 0&&(o=ce(a));var v=u===ft;if(o!==this.keyHash)return v?this:(_t(h),_t(f),fi(this,t,r,o,[a,u]));for(var I=this.entries,D=0,N=I.length;D<N&&!Ct(a,I[D][0]);D++);var V=D<N;if(V?I[D][1]===u:v)return this;if(_t(h),(v||!V)&&_t(f),v&&N===2)return new Ce(t,this.keyHash,I[1^D]);var W=t&&t===this.ownerID,Q=W?I:st(I);return V?v?D==N-1?Q.pop():Q[D]=Q.pop():Q[D]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new ar(t,this.keyHash,Q)},Ce.prototype.get=function(t,r,o,a){return Ct(o,this.entry[0])?this.entry[1]:a},Ce.prototype.update=function(t,r,o,a,u,f,h){var v=u===ft,I=Ct(a,this.entry[0]);return(I?u===this.entry[1]:v)?this:(_t(h),v?void _t(f):I?t&&t===this.ownerID?(this.entry[1]=u,this):new Ce(t,this.keyHash,[a,u]):(_t(f),fi(this,t,r,ce(a),[a,u])))},Nr.prototype.iterate=ar.prototype.iterate=function(t,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(t(o[r?u-a:a])===!1)return!1},sr.prototype.iterate=Fr.prototype.iterate=function(t,r){for(var o,a=this.nodes,u=0,f=a.length-1;u<=f;u++)if(o=a[r?f-u:u],o&&o.iterate(t,r)===!1)return!1},Ce.prototype.iterate=function(t){return t(this.entry)},T(si,K),si.prototype.next=function(){for(var t=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return ai(t,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return ai(t,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var f=a.nodes[this._reverse?o-u:u];if(f){if(f.entry)return ai(t,f.entry);r=this._stack=$o(f,r)}continue}r=this._stack=this._stack.__prev}return yt()};var zs,Zc=ve/4,Bc=ve/2,Gc=ve/4;T(Mt,or),Mt.of=function(){return this(arguments)},Mt.prototype.toString=function(){return this.__toString("List [","]")},Mt.prototype.get=function(t,r){if(t=tt(this,t),0<=t&&t<this.size){t+=this._origin;var o=rs(this,t);return o&&o.array[t&ee]}return r},Mt.prototype.set=function(t,r){return bc(this,t,r)},Mt.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Mt.prototype.insert=function(t,r){return this.splice(t,0,r)},Mt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=xt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):li()},Mt.prototype.push=function(){var t=arguments,r=this.size;return this.withMutations(function(o){Pe(o,0,r+t.length);for(var a=0;a<t.length;a++)o.set(r+a,t[a])})},Mt.prototype.pop=function(){return Pe(this,0,-1)},Mt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(r){Pe(r,-t.length);for(var o=0;o<t.length;o++)r.set(o,t[o])})},Mt.prototype.shift=function(){return Pe(this,1)},Mt.prototype.merge=function(){return In(this,void 0,arguments)},Mt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return In(this,t,r)},Mt.prototype.mergeDeep=function(){return In(this,Go,arguments)},Mt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return In(this,Yo(t),r)},Mt.prototype.setSize=function(t){return Pe(this,0,t)},Mt.prototype.slice=function(t,r){var o=this.size;return ue(t,r,o)?this:Pe(this,Ht(t,o),Zt(r,o))},Mt.prototype.__iterator=function(t,r){var o=0,a=es(this,r);return new K(function(){var u=a();return u===Vr?yt():R(t,o++,u)})},Mt.prototype.__iterate=function(t,r){for(var o,a=0,u=es(this,r);(o=u())!==Vr&&t(o,a++,this)!==!1;);return a},Mt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Lr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Mt.isList=ts;var Cs="@@__IMMUTABLE_LIST__@@",re=Mt.prototype;re[Cs]=!0,re[Cr]=re.remove,re.setIn=ut.setIn,re.deleteIn=re.removeIn=ut.removeIn,re.update=ut.update,re.updateIn=ut.updateIn,re.mergeIn=ut.mergeIn,re.mergeDeepIn=ut.mergeDeepIn,re.withMutations=ut.withMutations,re.asMutable=ut.asMutable,re.asImmutable=ut.asImmutable,re.wasAltered=ut.wasAltered,qe.prototype.removeBefore=function(t,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&ee;if(a>=this.array.length)return new qe([],t);var u,f=a==0;if(0<r){var h=this.array[a];if(u=h&&h.removeBefore(t,r-xt,o),u===h&&f)return this}if(f&&!u)return this;var v=ur(this,t);if(!f)for(var I=0;I<a;I++)v.array[I]=void 0;return u&&(v.array[a]=u),v},qe.prototype.removeAfter=function(t,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&ee;if(a>=this.array.length)return this;var u;if(0<r){var f=this.array[a];if(u=f&&f.removeAfter(t,r-xt,o),u===f&&a==this.array.length-1)return this}var h=ur(this,t);return h.array.splice(a+1),u&&(h.array[a]=u),h};var Us,Vr={};T(zt,dt),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(t,r){var o=this._map.get(t);return o===void 0?r:this._list.get(o)[1]},zt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Dn()},zt.prototype.set=function(t,r){return is(this,t,r)},zt.prototype.remove=function(t){return is(this,t,ft)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(t,r){var o=this;return this._list.__iterate(function(a){return a&&t(a[1],a[0],o)},r)},zt.prototype.__iterator=function(t,r){return this._list.fromEntrySeq().__iterator(t,r)},zt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t),o=this._list.__ensureOwner(t);return t?di(r,o,t,this.__hash):(this.__ownerID=t,this._map=r,this._list=o,this)},zt.isOrderedMap=ns,zt.prototype[dr]=!0,zt.prototype[Cr]=zt.prototype.remove;var js;T(me,w),me.prototype.get=function(t,r){return this._iter.get(t,r)},me.prototype.has=function(t){return this._iter.has(t)},me.prototype.valueSeq=function(){return this._iter.valueSeq()},me.prototype.reverse=function(){var t=this,r=pi(this,!0);return this._useKeys||(r.valueSeq=function(){return t._iter.toSeq().reverse()}),r},me.prototype.map=function(t,r){var o=this,a=ss(this,t,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(t,r)}),a},me.prototype.__iterate=function(t,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,f){return t(u,f,a)}:(o=r?hs(this):0,function(u){return t(u,r?--o:o++,a)}),r)},me.prototype.__iterator=function(t,r){if(this._useKeys)return this._iter.__iterator(t,r);var o=this._iter.__iterator(ge,r),a=r?hs(this):0;return new K(function(){var u=o.next();return u.done?u:R(t,r?--a:a++,u.value,u)})},me.prototype[dr]=!0,T(cr,S),cr.prototype.includes=function(t){return this._iter.includes(t)},cr.prototype.__iterate=function(t,r){var o=this,a=0;return this._iter.__iterate(function(u){return t(u,a++,o)},r)},cr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r),a=0;return new K(function(){var u=o.next();return u.done?u:R(t,a++,u.value,u)})},T(fr,M),fr.prototype.has=function(t){return this._iter.includes(t)},fr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){return t(a,a,o)},r)},fr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new K(function(){var a=o.next();return a.done?a:R(t,a.value,a.value,a)})},T(lr,w),lr.prototype.entrySeq=function(){return this._iter.toSeq()},lr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){if(a){ls(a);var u=J(a);return t(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},lr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new K(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){ls(u);var f=J(u);return R(t,f?u.get(0):u[0],f?u.get(1):u[1],a)}}})},cr.prototype.cacheResult=me.prototype.cacheResult=fr.prototype.cacheResult=lr.prototype.cacheResult=vi,T(le,Ar),le.prototype.toString=function(){return this.__toString(ys(this)+" {","}")},le.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},le.prototype.get=function(t,r){if(!this.has(t))return r;var o=this._defaultValues[t];return this._map?this._map.get(t,o):o},le.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=xn(this,Ie()))},le.prototype.set=function(t,r){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ys(this));if(this._map&&!this._map.has(t)){var o=this._defaultValues[t];if(r===o)return this}var a=this._map&&this._map.set(t,r);return this.__ownerID||a===this._map?this:xn(this,a)},le.prototype.remove=function(t){if(!this.has(t))return this;var r=this._map&&this._map.remove(t);return this.__ownerID||r===this._map?this:xn(this,r)},le.prototype.wasAltered=function(){return this._map.wasAltered()},le.prototype.__iterator=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(t,r)},le.prototype.__iterate=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(t,r)},le.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(t);return t?xn(this,r,t):(this.__ownerID=t,this._map=r,this)};var Gt=le.prototype;Gt[Cr]=Gt.remove,Gt.deleteIn=Gt.removeIn=ut.removeIn,Gt.merge=ut.merge,Gt.mergeWith=ut.mergeWith,Gt.mergeIn=ut.mergeIn,Gt.mergeDeep=ut.mergeDeep,Gt.mergeDeepWith=ut.mergeDeepWith,Gt.mergeDeepIn=ut.mergeDeepIn,Gt.setIn=ut.setIn,Gt.update=ut.update,Gt.updateIn=ut.updateIn,Gt.withMutations=ut.withMutations,Gt.asMutable=ut.asMutable,Gt.asImmutable=ut.asImmutable,T(bt,Sn),bt.of=function(){return this(arguments)},bt.fromKeys=function(t){return this(E(t).keySeq())},bt.prototype.toString=function(){return this.__toString("Set {","}")},bt.prototype.has=function(t){return this._map.has(t)},bt.prototype.add=function(t){return _i(this,this._map.set(t,!0))},bt.prototype.remove=function(t){return _i(this,this._map.remove(t))},bt.prototype.clear=function(){return _i(this,this._map.clear())},bt.prototype.union=function(){var t=ye.call(arguments,0);return t=t.filter(function(r){return r.size!==0}),t.length===0?this:this.size!==0||this.__ownerID||t.length!==1?this.withMutations(function(r){for(var o=0;o<t.length;o++)rt(t[o]).forEach(function(a){return r.add(a)})}):this.constructor(t[0])},bt.prototype.intersect=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.every(function(u){return u.includes(a)})||o.remove(a)})})},bt.prototype.subtract=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.some(function(u){return u.includes(a)})&&o.remove(a)})})},bt.prototype.merge=function(){return this.union.apply(this,arguments)},bt.prototype.mergeWith=function(){var t=ye.call(arguments,1);return this.union.apply(this,t)},bt.prototype.sort=function(t){return Ae(hr(this,t))},bt.prototype.sortBy=function(t,r){return Ae(hr(this,r,t))},bt.prototype.wasAltered=function(){return this._map.wasAltered()},bt.prototype.__iterate=function(t,r){var o=this;return this._map.__iterate(function(a,u){return t(u,u,o)},r)},bt.prototype.__iterator=function(t,r){return this._map.map(function(o,a){return a}).__iterator(t,r)},bt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t);return t?this.__make(r,t):(this.__ownerID=t,this._map=r,this)},bt.isSet=gi;var Vs="@@__IMMUTABLE_SET__@@",he=bt.prototype;he[Vs]=!0,he[Cr]=he.remove,he.mergeDeep=he.merge,he.mergeDeepWith=he.mergeWith,he.withMutations=ut.withMutations,he.asMutable=ut.asMutable,he.asImmutable=ut.asImmutable,he.__empty=Ti,he.__make=vs;var qs;T(Ae,bt),Ae.of=function(){return this(arguments)},Ae.fromKeys=function(t){return this(E(t).keySeq())},Ae.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ae.isOrderedSet=gs;var kn=Ae.prototype;kn[dr]=!0,kn.__empty=Ei,kn.__make=_s;var Ps;T(Ut,or),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("Stack [","]")},Ut.prototype.get=function(t,r){var o=this._head;for(t=tt(this,t);o&&t--;)o=o.next;return o?o.value:r},Ut.prototype.peek=function(){return this._head&&this._head.value},Ut.prototype.push=function(){if(arguments.length===0)return this;for(var t=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):zr(t,r)},Ut.prototype.pushAll=function(t){if(t=C(t),t.size===0)return this;fe(t.size);var r=this.size,o=this._head;return t.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):zr(r,o)},Ut.prototype.pop=function(){return this.slice(1)},Ut.prototype.unshift=function(){return this.push.apply(this,arguments)},Ut.prototype.unshiftAll=function(t){return this.pushAll(t)},Ut.prototype.shift=function(){return this.pop.apply(this,arguments)},Ut.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):wi()},Ut.prototype.slice=function(t,r){if(ue(t,r,this.size))return this;var o=Ht(t,this.size),a=Zt(r,this.size);if(a!==this.size)return or.prototype.slice.call(this,t,r);for(var u=this.size-o,f=this._head;o--;)f=f.next;return this.__ownerID?(this.size=u,this._head=f,this.__hash=void 0,this.__altered=!0,this):zr(u,f)},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?zr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ut.prototype.__iterate=function(t,r){if(r)return this.reverse().__iterate(t);for(var o=0,a=this._head;a&&t(a.value,o++,this)!==!1;)a=a.next;return o},Ut.prototype.__iterator=function(t,r){if(r)return this.reverse().__iterator(t);var o=0,a=this._head;return new K(function(){if(a){var u=a.value;return a=a.next,R(t,o++,u)}return yt()})},Ut.isStack=Ts;var Hs="@@__IMMUTABLE_STACK__@@",pr=Ut.prototype;pr[Hs]=!0,pr.withMutations=ut.withMutations,pr.asMutable=ut.asMutable,pr.asImmutable=ut.asImmutable,pr.wasAltered=ut.wasAltered;var Ws;L.Iterator=K,Ne(L,{toArray:function(){fe(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new cr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new me(this,!0)},toMap:function(){return dt(this.toKeyedSeq())},toObject:function(){fe(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return Ae(X(this)?this.valueSeq():this)},toSet:function(){return bt(X(this)?this.valueSeq():this)},toSetSeq:function(){return new fr(this)},toSeq:function(){return ct(this)?this.toIndexedSeq():X(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ut(X(this)?this.valueSeq():this)},toList:function(){return Mt(X(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=ye.call(arguments,0);return St(this,Fc(this,r))},includes:function(r){return this.some(function(o){return Ct(o,r)})},entries:function(){return this.__iterator(Fe)},every:function(r,o){fe(this.size);var a=!0;return this.__iterate(function(u,f,h){if(!r.call(o,u,f,h))return a=!1,!1}),a},filter:function(r,o){return St(this,as(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return fe(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){fe(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator(Ur)},map:function(r,o){return St(this,ss(this,r,o))},reduce:function(r,o,a){fe(this.size);var u,f;return 2>arguments.length?f=!0:u=o,this.__iterate(function(h,v,I){f?(f=!1,u=h):u=r.call(a,u,h,v,I)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return St(this,pi(this,!0))},slice:function(r,o){return St(this,mi(this,r,o,!0))},some:function(r,o){return!this.every(bn(r),o)},sort:function(r){return St(this,hr(this,r))},values:function(){return this.__iterator(ge)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return $(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return kc(this,r,o)},equals:function(r){return ri(this,r)},entrySeq:function(){var r=this;if(r._cache)return new x(r._cache);var o=r.toSeq().map(jc).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(bn(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(f,h,v){if(r.call(o,f,h,v))return u=[h,f],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Pt)},flatMap:function(r,o){return St(this,Lc(this,r,o))},flatten:function(r){return St(this,cs(this,r,!0))},fromEntrySeq:function(){return new lr(this)},get:function(r,o){return this.find(function(a,u){return Ct(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,f=this,h=ms(r);!(a=h.next()).done;)if(u=a.value,f=f&&f.get?f.get(u,ft):ft,f===ft)return o;return f},groupBy:function(r,o){return Ac(this,r,o)},has:function(r){return this.get(r,ft)!==ft},hasIn:function(r){return this.getIn(r,ft)!==ft},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return Ct(o,r)})},keySeq:function(){return this.toSeq().map(Uc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return Mn(this,r)},maxBy:function(r,o){return Mn(this,o,r)},min:function(r){return Mn(this,r?Es(r):Ss)},minBy:function(r,o){return Mn(this,o?Es(o):Ss,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(Ye(0,r))},skipLast:function(r){return St(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return St(this,us(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(bn(r),o)},sortBy:function(r,o){return St(this,hr(this,o,r))},take:function(r){return this.slice(0,Ye(0,r))},takeLast:function(r){return St(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return St(this,Nc(this,r,o))},takeUntil:function(r,o){return this.takeWhile(bn(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=qc(this))}});var ne=L.prototype;ne[Ds]=!0,ne[Oi]=ne.values,ne.__toJS=ne.toArray,ne.__toStringMapper=ws,ne.inspect=ne.toSource=function(){return this.toString()},ne.chain=ne.flatMap,ne.contains=ne.includes,Ne(E,{flip:function(){return St(this,os(this))},mapEntries:function(r,o){var a=this,u=0;return St(this,this.toSeq().map(function(f,h){return r.call(o,[h,f],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return St(this,this.toSeq().flip().map(function(u,f){return r.call(o,u,f,a)}).flip())}});var An=E.prototype;return An[Ms]=!0,An[Oi]=ne.entries,An.__toJS=ne.toObject,An.__toStringMapper=function(t,r){return JSON.stringify(r)+": "+ws(t)},Ne(C,{toKeyedSeq:function(){return new me(this,!1)},filter:function(r,o){return St(this,as(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return St(this,pi(this,!1))},slice:function(r,o){return St(this,mi(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=Ye(0|o,0),a===0||a===2&&!o)return this;r=Ht(r,0>r?this.count():this.size);var u=this.slice(0,r);return St(this,a===1?u:u.concat(st(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return St(this,cs(this,r,!1))},get:function(r,o){return r=tt(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=tt(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return St(this,Rc(this,r))},interleave:function(){var r=[this].concat(st(arguments)),o=yi(this.toSeq(),S.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),St(this,a)},keySeq:function(){return Bt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return St(this,us(this,r,o,!1))},zip:function(){var r=[this].concat(st(arguments));return St(this,yi(this,Vc,r))},zipWith:function(r){var o=st(arguments);return o[0]=this,St(this,yi(this,r,o))}}),C.prototype[xs]=!0,C.prototype[dr]=!0,Ne(rt,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),rt.prototype.has=ne.includes,rt.prototype.contains=rt.prototype.includes,Ne(w,E.prototype),Ne(S,C.prototype),Ne(M,rt.prototype),Ne(Ar,E.prototype),Ne(or,C.prototype),Ne(Sn,rt.prototype),{Iterable:L,Seq:k,Collection:Ve,Map:dt,OrderedMap:zt,List:Mt,Stack:Ut,Set:bt,OrderedSet:Ae,Record:le,Range:Bt,Repeat:Xt,is:Ct,fromJS:Oe}})}),B=i(function(y,T){(function(L,E){E(T,U)})(e,function(L){"use strict";function E(p,_){for(var A=Object.getOwnPropertyNames(_),z=0;z<A.length;z++){var q=A[z],H=Object.getOwnPropertyDescriptor(_,q);H&&H.configurable&&p[q]===void 0&&Object.defineProperty(p,q,H)}return p}function C(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function rt(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _>"u"?"undefined":s(_)));p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):E(p,_))}function J(){}var X=function(){function p(_,A){for(var z,q=0;q<A.length;q++)z=A[q],z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(_,z.key,z)}return function(_,A,z){return A&&p(_.prototype,A),z&&p(_,z),_}}(),ct=function(p,_,A){var z=!0;t:for(;z;){var q=p,H=_,et=A;z=!1,q===null&&(q=Function.prototype);var at=Object.getOwnPropertyDescriptor(q,H);if(at===void 0){var kt=Object.getPrototypeOf(q);if(kt===null)return;p=kt,_=H,A=et,z=!0,at=kt=void 0;continue t}else{if("value"in at)return at.value;var Oe=at.get;return Oe===void 0?void 0:Oe.call(et)}}};if(typeof ht>"u"){var ht=function(p){return"@@"+p};ht.for=ht}L.construct=function(p){return J.prototype=p.constructor.prototype,new J};var pt=ht.for("typed/type"),jt=ht.for("typed/store"),_t=ht.for("typed/empty"),Tt=ht.for("typed/type/maybe"),st=ht.for("typed/type/default"),$=ht.for("typed/type/label"),tt=ht.for("transducer/init"),Pt=ht.for("transducer/result"),ue=ht.for("transducer/step"),Ht=ht.for("typed/type/read"),Zt=ht.for("typed/type/parse"),Rt=ht("typed/type/name"),K=ht("typed/type/signature"),R=function(p,_,A){var z=function(et){function at(kt){C(this,at),ct(Object.getPrototypeOf(at.prototype),"constructor",this).call(this),this[st]=kt}return rt(at,et),at}(Qt),q=z.prototype;q[st]=A,q[Zt]=_,q[$]=p;var H=function(et){return et===void 0?q:new z(et)};return H.prototype=q,H};L.Typed=R,R.label=$,R.defaultValue=st,R.read=Ht,R.typeName=Rt,R.typeSignature=K,R.type=pt,R.store=jt,R.init=tt,R.result=Pt,R.step=ue,R.DELETE="delete",R.empty=_t;var yt=function(p){return p[Rt]()},Qt=function(){function p(){C(this,p)}return X(p,[{key:R.read,value:function(){var _=0>=arguments.length||arguments[0]===void 0?this[st]:arguments[0];return this[Zt](_)}},{key:R.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:R.typeName,value:function(){var _=this[$],A=this[st];return A===void 0?_:_+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qt;var Vt=Object.prototype,te=Array.isArray||function(p){return Vt.toString.call(p)==="[object Array]"},G=function(p){return Vt.toString.call(p)==="[object RegExp]"},Y=function(p){var _=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Ht]?p:p.prototype&&p.prototype[Ht]?p.prototype:_==="number"?new R.Number(p):_==="string"?new R.String(p):_==="boolean"?new R.Boolean(p):_==="symbol"?new R.Symbol(p):te(p)?R.Array(p):G(p)?new R.RegExp(p):p===String?R.String.prototype:p===Number?R.Number.prototype:p===Boolean?R.Boolean.prototype:p===RegExp?R.RegExp.prototype:p===Array?R.Array.prototype:p===ht?R.Symbol.prototype:p===Date?R.Date.prototype:k}()};L.typeOf=Y;var k=R("Any",function(p){return p})();L.Any=k,R.Any=k,R.Number=R("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),R.String=R("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),R.Symbol=R("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),R.Array=R("Array",function(p){return te(p)?p:TypeError('"'+p+'" is not an array')}),R.RegExp=R("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),R.Boolean=R("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),R.Date=R("Date",function(p){var _=new Date(p);return isNaN(_.valueOf())?new TypeError('"'+p+'" is not a valid date.'):_});var w=function(p){function _(A){C(this,_),ct(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[pt]=A}return rt(_,p),X(_,[{key:R.typeName,value:function(){return"Maybe("+this[pt][Rt]()+")"}},{key:R.read,value:function(A){var z=A==null?null:this[pt][Ht](A);return z instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[pt][Rt]()+" type"):z}}]),_}(Qt),S=function(p){var _=Y(p);if(_===k)throw TypeError(p+" is not a valid type");return _[Tt]||(_[Tt]=new w(_))};L.Maybe=S,S.Type=w;var M=function(p){function _(A){C(this,_),ct(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[pt]=A}return rt(_,p),X(_,[{key:R.typeName,value:function(){return"Union("+this[pt].map(yt).join(", ")+")"}},{key:R.read,value:function(A){for(var z,q=this[pt],H=q.length,et=0;et<H;){if(z=q[et],A instanceof z.constructor)return A;++et}for(et=0;et<H;){var at=q[et][Ht](A);if(!(at instanceof TypeError))return at;++et}return TypeError('"'+A+'" does not satisfy '+this[Rt]()+" type")}}]),_}(Qt),x=function(p,_){return p.filter(function(A){return 0>_.indexOf(A)})},F=function(p,_){if(p.length>_.length){var A=x(_,p);return A.length===0?p:p.concat(A)}var A=x(p,_);return A.length===0?_:A.concat(_)},O=function(){for(var p=arguments.length,_=Array(p),A=0;A<p;A++)_[A]=arguments[A];var z=_.length;if(z===0)throw TypeError("Union must be of at at least one type");for(var q=null,H=null,et=0;et<z;){var at=Y(_[et]);if(at===k)return k;if(!q)H=at,q=H instanceof M?H[pt]:[at];else if(0>q.indexOf(at))if(at instanceof M){var kt=F(q,at[pt]);kt===at[pt]?(H=at,q=kt):kt!==q&&(H=null,q=kt)}else H=null,q.push(at);++et}return H||new M(q)};L.Union=O,O.Type=M,R.Number.Range=function(p,_,A){return _===void 0&&(_=1/0),R("Typed.Number.Range("+p+".."+_+")",function(z){return typeof z=="number"?z>=p&&z<=_?z:TypeError('"'+z+`" isn't in the range of `+p+".."+_):TypeError('"'+z+'" is not a number')},A)}})}),ot=i(function(y,T){(function(L,E){E(T,B,U)})(e,function(L,E,C){"use strict";function rt(Y,k){for(var w=Object.getOwnPropertyNames(k),S=0;S<w.length;S++){var M=w[S],x=Object.getOwnPropertyDescriptor(k,M);x&&x.configurable&&Y[M]===void 0&&Object.defineProperty(Y,M,x)}return Y}function J(Y,k,w){return k in Y?Object.defineProperty(Y,k,{value:w,enumerable:!0,configurable:!0,writable:!0}):Y[k]=w,Y}function X(Y,k){if(!(Y instanceof k))throw new TypeError("Cannot call a class as a function")}function ct(Y,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof k>"u"?"undefined":s(k)));Y.prototype=Object.create(k&&k.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,k):rt(Y,k))}var ht=function(){function Y(k,w){var S,M=[],x=!0,F=!1;try{for(var O,p=k[Symbol.iterator]();!(x=(O=p.next()).done)&&(M.push(O.value),!(w&&M.length===w));x=!0);}catch(_){F=!0,S=_}finally{try{!x&&p.return&&p.return()}finally{if(F)throw S}}return M}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return Y(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function Y(k,w){for(var S,M=0;M<w.length;M++)S=w[M],S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}return function(k,w,S){return w&&Y(k.prototype,w),S&&Y(k,S),k}}(),jt=function(Y,k,w){var S=!0;t:for(;S;){var M=Y,x=k,F=w;S=!1,M===null&&(M=Function.prototype);var O=Object.getOwnPropertyDescriptor(M,x);if(O===void 0){var p=Object.getPrototypeOf(M);if(p===null)return;Y=p,k=x,w=F,S=!0,O=p=void 0;continue t}else{if("value"in O)return O.value;var _=O.get;return _===void 0?void 0:_.call(F)}}},_t=C.Iterable.Keyed,Tt=function(Y){return function(){return this.get(Y)}},st=function(Y){return function(k){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(Y,k)}},$=E.Typed.store,tt=E.Typed.type,Pt=E.Typed.step,ue=E.Typed.init,Ht=E.Typed.result,Zt=E.Typed.read,Rt=E.Typed.label,K=E.Typed.empty,R=E.Typed.typeName,yt=E.Typed.typeSignature,Qt=function(){};Qt.prototype=C.Iterable.Keyed.prototype;var Vt=function(Y){function k(){X(this,k),jt(Object.getPrototypeOf(k.prototype),"constructor",this).call(this)}return ct(k,Y),pt(k,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(w){return w.asImmutable()}},{key:E.Typed.read,value:function(w){var S=this.constructor;if(w&&w instanceof S)return w;if(w===null||w&&(typeof w>"u"?"undefined":s(w))!=="object")return TypeError('Invalid data structure "'+w+'" was passed to '+this[R]());var M=(0,C.Seq)(w),x=this[tt],F=M.size===0;if(F&&this[K])return this[K];var O;for(var p in x){var _=x[p],A=M.has(p)?M.get(p):this.get(p),z=_[Zt](A);if(z instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+z.message);O=this[Pt](O||this[ue](),[p,z])}return O=this[Ht](O),F&&(this[K]=O),O}},{key:E.Typed.step,value:function(w,S){var M=ht(S,2),x=M[0],F=M[1],O=w[$]?w[$].set(x,F):new C.Map([[x,F]]);if(w[$]===O)return w;var p=w.__ownerID?w:(0,E.construct)(w);return p[$]=O,p}},{key:E.Typed.typeSignature,value:function(){var w=this[tt],S=[];for(var M in w)S.push(M+": "+w[M][R]());return"Typed.Record({"+S.join(", ")+"})"}},{key:E.Typed.typeName,value:function(){return this[Rt]||this[yt]()}},{key:"toString",value:function(){return this.__toString(this[R]()+"({","})")}},{key:"has",value:function(w){return!!this[tt][w]}},{key:"get",value:function(w,S){return this[tt][w]&&this[$]?this[$].get(w,S):S}},{key:"clear",value:function(){return this.__ownerID?(this[$]&&this[$].clear(),this):this[K]||(this[K]=new this.constructor)}},{key:"remove",value:function(w){return this[tt][w]?this.set(w,void 0):this}},{key:"set",value:function(w,S){var M=this[tt][w];if(!M)throw TypeError('Cannot set unknown field "'+w+'" on "'+this[R]()+'"');var x=M[Zt](S);if(x instanceof TypeError)throw TypeError("Invalid value for "+w+" field: "+x.message);return this[Pt](this,[w,x])}},{key:"__iterator",value:function(w,S){var M=this;return _t(this[tt]).map(function(x,F){return M.get(F)}).__iterator(w,S)}},{key:"__iterate",value:function(w,S){var M=this;return _t(this[tt]).map(function(x,F){return M.get(F)}).__iterate(w,S)}},{key:"__ensureOwner",value:function(w){if(w===this.__ownerID)return this;var S=this[$]&&this[$].__ensureOwner(w),M=w?(0,E.construct)(this):this;return M.__ownerID=w,M[$]=S,M}},{key:"wasAltered",value:function(){return this[$].wasAltered()}}]),k}(Qt),te=function(Y,k){if(Y&&(typeof Y>"u"?"undefined":s(Y))==="object"){var w=Object.create(null),S=Object.keys(Y),M=S.length;if(0<M){var x,F=function(){for(var O=(x={size:{value:M}},J(x,tt,{value:w}),J(x,Rt,{value:k}),x),p=0;p<M;){var _=S[p],A=(0,E.typeOf)(Y[_]);if(A)w[_]=A,O[_]={get:Tt(_),set:st(_),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+_+'" field');++p}var z=function q(H){var et=this instanceof q,at=et?this.constructor:q;if(H instanceof at)return H;var kt=at.prototype,Oe=kt[Zt](H);if(Oe instanceof TypeError)throw Oe;return et?void(this[$]=Oe[$]):Oe};return O.constructor={value:z},z.prototype=Object.create(G,O),z.prototype,{v:z}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=te,te.Type=Vt,te.prototype=Vt.prototype;var G=Vt.prototype;G[E.Typed.DELETE]=G.remove,G.deleteIn=C.Map.prototype.deleteIn,G.removeIn=C.Map.prototype.removeIn,G.merge=C.Map.prototype.merge,G.mergeWith=C.Map.prototype.mergeWith,G.mergeIn=C.Map.prototype.mergeIn,G.mergeDeep=C.Map.prototype.mergeDeep,G.mergeDeepWith=C.Map.prototype.mergeDeepWith,G.mergeDeepIn=C.Map.prototype.mergeDeepIn,G.setIn=C.Map.prototype.setIn,G.update=C.Map.prototype.update,G.updateIn=C.Map.prototype.updateIn,G.withMutations=C.Map.prototype.withMutations,G.asMutable=C.Map.prototype.asMutable,G.asImmutable=C.Map.prototype.asImmutable,G.map=void 0,G.filter=void 0,G.filterNot=void 0,G.flip=void 0,G.mapKeys=void 0,G.mapEntries=void 0,G.sort=void 0,G.sortBy=void 0,G.reverse=void 0,G.slice=void 0,G.butLast=void 0,G.flatMap=void 0,G.flatten=void 0,G.rest=void 0,G.skip=void 0,G.skipLast=void 0,G.skipWhile=void 0,G.skipUntil=void 0,G.sortBy=void 0,G.take=void 0,G.takeLast=void 0,G.takeWhile=void 0,G.takeUntil=void 0})}),P=i(function(y,T){(function(L,E){E(T,B,U)})(e,function(L,E,C){"use strict";function rt(x,F){for(var O=Object.getOwnPropertyNames(F),p=0;p<O.length;p++){var _=O[p],A=Object.getOwnPropertyDescriptor(F,_);A&&A.configurable&&x[_]===void 0&&Object.defineProperty(x,_,A)}return x}function J(x,F,O){return F in x?Object.defineProperty(x,F,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[F]=O,x}function X(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")}function ct(x,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));x.prototype=Object.create(F&&F.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(x,F):rt(x,F))}function ht(){}var pt=function(){function x(F,O){var p,_=[],A=!0,z=!1;try{for(var q,H=F[Symbol.iterator]();!(A=(q=H.next()).done)&&(_.push(q.value),!(O&&_.length===O));A=!0);}catch(et){z=!0,p=et}finally{try{!A&&H.return&&H.return()}finally{if(z)throw p}}return _}return function(F,O){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return x(F,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jt=function(){function x(F,O){for(var p,_=0;_<O.length;_++)p=O[_],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,O,p){return O&&x(F.prototype,O),p&&x(F,p),F}}(),_t=function(x,F,O){var p=!0;t:for(;p;){var _=x,A=F,z=O;p=!1,_===null&&(_=Function.prototype);var q=Object.getOwnPropertyDescriptor(_,A);if(q===void 0){var H=Object.getPrototypeOf(_);if(H===null)return;x=H,F=A,O=z,p=!0,q=H=void 0;continue t}else{if("value"in q)return q.value;var et=q.get;return et===void 0?void 0:et.call(z)}}},Tt=C.List,st=C.Iterable.Indexed,$=E.Typed.store,tt=E.Typed.type,Pt=E.Typed.read,ue=E.Typed.step,Ht=E.Typed.init,Zt=E.Typed.result,Rt=E.Typed.label,K=E.Typed.typeName,R=E.Typed.empty,yt=function(x,F){var O=F(x[$]);if(O===x[$])return x;var p=x.__ownerID?x:(0,E.construct)(x);return p[$]=O,p.size=O.size,p},Qt=function(x){return x.clear()},Vt=function(x){return x.pop()},te=function(x){return x.shift()},G=function(x){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return ct(F,x),jt(F,[{key:E.Typed.typeName,value:function(){return"TypeInferer"}},{key:E.Typed.read,value:function(O){var p=(0,E.typeOf)(O).constructor.prototype;return this.type=this.type?(0,E.Union)(this.type,p):p,O}}]),F}(E.Type);ht.prototype=Tt.prototype;var Y=function(x){function F(O){return X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Pt](O)}return ct(F,x),jt(F,null,[{key:"from",value:function(O){var p=(0,E.construct)(this.prototype);return p[$]=O[$],p.size=O.size,p}}]),jt(F,[{key:E.Typed.init,value:function(){var O=(0,E.construct)(this).asMutable();return O[tt]=new G,O}},{key:E.Typed.result,value:function(O){var p=O.asImmutable();return p[tt]=O[tt].type,p}},{key:E.Typed.read,value:function(O){var p=this.constructor;if(O==null){if(!this[R]){var _=(0,E.construct)(this);_[$]=Tt(),_.size=0,this[R]=_}return this[R]}if(O instanceof p&&O&&O.constructor===p)return O;var A=st(O),z=A.size===0;if(z&&this[R])return this[R];var q=this[Ht]();return q.size=A.size,A.forEach(function(H,et){q.set(et,H)}),q=this[Zt](q),z&&(this[R]=q),q}},{key:E.Typed.step,value:function(O,p){var _=pt(p,2),A=_[0],z=_[1];return yt(O,function(){var q=0>=arguments.length||arguments[0]===void 0?Tt():arguments[0];return q.set(A,z)})}},{key:E.Typed.typeName,value:function(){return this[Rt]||"Typed.List("+this[tt][K]()+")"}},{key:"toString",value:function(){return this.__toString(this[K]()+"([","])")}},{key:"has",value:function(O){return this[$].has(O)}},{key:"get",value:function(O,p){return this[$]?this[$].get(parseInt(O),p):p}},{key:"clear",value:function(){return this.__ownerID?yt(this,Qt):this[R]||this[Pt]()}},{key:"insert",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var _=this[tt][Pt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return yt(this,function(A){return A.insert(O,p)})}},{key:"remove",value:function(O){return yt(this,function(p){return p&&p.remove(O)})}},{key:"set",value:function(O,p){if(O>this.size)throw TypeError('Index "'+O+'" is out of bounds.');var _=this[tt][Pt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return this[ue](this,[O,_])}},{key:"push",value:function(){for(var O=this[tt],p=[],_=arguments.length,A=Array(_),z=0;z<_;z++)A[z]=arguments[z];for(var q=A.length,H=0;H<q;){var et=A[H],at=O[Pt](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return yt(this,function(kt){return kt?kt.push.apply(kt,p):Tt.apply(void 0,p)})}},{key:"pop",value:function(){return yt(this,Vt)}},{key:"unshift",value:function(){for(var O=this[tt],p=[],_=arguments.length,A=Array(_),z=0;z<_;z++)A[z]=arguments[z];for(var q=A.length,H=0;H<q;){var et=A[H],at=O[Pt](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return yt(this,function(kt){return kt?kt.unshift.apply(kt,p):Tt.apply(void 0,p)})}},{key:"shift",value:function(){return yt(this,te)}},{key:"setSize",value:function(O){if(O>this.size)throw TypeError("setSize may only downsize");return yt(this,function(p){return p.setSize(O)})}},{key:"slice",value:function(O,p){return yt(this,function(_){return _&&_.slice(O,p)})}},{key:"wasAltered",value:function(){return this[$].wasAltered()}},{key:"__ensureOwner",value:function(O){var p=this.__ownerID===O?this:O?(0,E.construct)(this):this;return p.__ownerID=O,p[$]=this[$]?this[$].__ensureOwner(O):Tt().__ensureOwner(O),p.size=p[$].size,p}},{key:"__iterator",value:function(O,p){var _=this;return st(this[$]).map(function(A,z){return _.get(z)}).__iterator(O,p)}},{key:"__iterate",value:function(O,p){var _=this;return st(this[$]).map(function(A,z){return _.get(z)}).__iterate(O,p)}}]),F}(ht);Y.prototype[E.Typed.DELETE]=Y.prototype.remove;var k=function(){};k.prototype=Y.prototype;var w=function(x){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return ct(F,x),jt(F,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(O){return O.asImmutable()}},{key:"map",value:function(O,p){if(this.size===0)return this;var _=Y.from(this).map(O,p);if(this[$]===_[$])return this;if(_[tt]===this[tt]){var A=(0,E.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}},{key:"flatMap",value:function(O,p){if(this.size===0)return this;var _=Y.from(this).flatMap(O,p);if(this[$]===_[$])return this;if(_[tt]===this[tt]){var A=(0,E.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}}]),F}(k),S=function(x,F){var O;if(x===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(x===E.Any)return C.List;var p=(0,E.typeOf)(x);if(p===E.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+x);var _=function A(z){var q=this instanceof A,H=q?this.constructor:A;if(z instanceof H)return z;var et=H.prototype[Pt](z);if(et instanceof TypeError)throw et;if(q&&!this[$])this[$]=et[$],this.size=et.size;else return et;return this};return _.of=Tt.of,_.prototype=Object.create(M,(O={constructor:{value:_}},J(O,tt,{value:p}),J(O,Rt,{value:F}),O)),_};L.List=S,S.Type=w,S.prototype=w.prototype;var M=w.prototype})}),mt=i(function(y,T){(function(L,E){E(T,B,U)})(e,function(L,E,C){"use strict";function rt(k,w){for(var S=Object.getOwnPropertyNames(w),M=0;M<S.length;M++){var x=S[M],F=Object.getOwnPropertyDescriptor(w,x);F&&F.configurable&&k[x]===void 0&&Object.defineProperty(k,x,F)}return k}function J(k,w,S){return w in k?Object.defineProperty(k,w,{value:S,enumerable:!0,configurable:!0,writable:!0}):k[w]=S,k}function X(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function ct(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof w>"u"?"undefined":s(w)));k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):rt(k,w))}var ht=function(){function k(w,S){var M,x=[],F=!0,O=!1;try{for(var p,_=w[Symbol.iterator]();!(F=(p=_.next()).done)&&(x.push(p.value),!(S&&x.length===S));F=!0);}catch(A){O=!0,M=A}finally{try{!F&&_.return&&_.return()}finally{if(O)throw M}}return x}return function(w,S){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return k(w,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function k(w,S){for(var M,x=0;x<S.length;x++)M=S[x],M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(w,M.key,M)}return function(w,S,M){return S&&k(w.prototype,S),M&&k(w,M),w}}(),jt=function(k,w,S){var M=!0;t:for(;M;){var x=k,F=w,O=S;M=!1,x===null&&(x=Function.prototype);var p=Object.getOwnPropertyDescriptor(x,F);if(p===void 0){var _=Object.getPrototypeOf(x);if(_===null)return;k=_,w=F,S=O,M=!0,p=_=void 0;continue t}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(O)}}},_t=C.Map,Tt=C.Iterable.Keyed,st=E.Typed.store,$=E.Typed.type,tt=E.Typed.read,Pt=E.Typed.step,ue=E.Typed.init,Ht=E.Typed.result,Zt=E.Typed.label,Rt=E.Typed.typeName,K=E.Typed.empty,R=function(k){function w(S,M,x){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),this.key=S,this.value=M,this.label=x}return ct(w,k),pt(w,[{key:E.Typed.typeName,value:function(){return this.label||this.key[Rt]()+", "+this.value[Rt]()}},{key:E.Typed.read,value:function(S){function M(){return S.apply(this,arguments)}return M.toString=function(){return S.toString()},M}(function(S){var M=ht(S,2),x=M[0],F=M[1],O=this.key[tt](x);if(O instanceof TypeError)return TypeError("Invalid key: "+O.message);var p=this.value[tt](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[O,p]})}]),w}(E.Type),yt=function(k){function w(){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this,key,value)}return ct(w,k),pt(w,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:E.Typed.typeName,value:function(){var S=this.key?this.key[Rt]():"TypeInferred",M=this.value?this.value[Rt]():"TypeInferred";return S+", "+M}},{key:E.Typed.read,value:function(S){var M=(0,E.typeOf)(S[0]).constructor.prototype;this.key=this.key?(0,E.Union)(this.key,M):M;var x=(0,E.typeOf)(S[1]).constructor.prototype;return this.value=this.value?(0,E.Union)(this.value,x):x,S}}]),w}(R),Qt=function(){};Qt.prototype=C.Map.prototype;var Vt=function(k){function w(S){return X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),w.prototype[tt](S)}return ct(w,k),pt(w,[{key:"advance",value:function(S){var M=S.__ownerID?this:(0,E.construct)(this);return M[st]=S,M.size=S.size,M.__ownerID=S.__ownerID,M}},{key:E.Typed.init,value:function(){return this.advance(_t()).asMutable()}},{key:E.Typed.step,value:function(S,M){var x=this[$][tt](M);if(x instanceof TypeError)throw x;var F=ht(x,2),O=F[0],p=F[1];return S.advance(S[st].set(O,p))}},{key:E.Typed.result,value:function(S){return S.asImmutable()}},{key:E.Typed.read,value:function(S){var M=this.constructor;if(S==null)return this[K]||(this[K]=this.advance(_t())),this[K];var x=S instanceof M&&S.constructor===M;if(x)return S;for(var F=Tt(S).entries(),O=this[$],p=this[ue]();;){var _=F.next(),A=_.done,z=_.value;if(A)break;var q=O[tt](z);if(q instanceof TypeError)return q;p=p[Pt](p,q)}return this[Ht](p)}},{key:E.Typed.typeName,value:function(){return this[Zt]||"Typed.Map("+this[$][Rt]()+")"}},{key:"toString",value:function(){return this.__toString(this[Rt]()+"({","})")}},{key:"has",value:function(S){return this[st].has(S)}},{key:"get",value:function(S,M){return this[st].get(S,M)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[st].clear()):this[K]||this[tt]()}},{key:"remove",value:function(S){return this.advance(this[st].remove(S))}},{key:"set",value:function(S,M){return this[Pt](this,[S,M])}},{key:"wasAltered",value:function(){return this[st].wasAltered()}},{key:"__ensureOwner",value:function(S){var M=this.__ownerID===S?this:S?(0,E.construct)(this):this,x=this[st].__ensureOwner(S);return M[st]=x,M.size=x.size,M.__ownerID=S,M}},{key:"__iterator",value:function(S,M){return this[st].__iterator(S,M)}},{key:"__iterate",value:function(S,M){return this[st].__iterate(S,M)}}]),w}(Qt);Vt.prototype[E.Typed.DELETE]=Vt.prototype.remove;var te=function(k){function w(){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this)}return ct(w,k),pt(w,[{key:E.Typed.init,value:function(){var S=this.advance(_t()).asMutable();return S[$]=new yt,S}},{key:E.Typed.result,value:function(S){var M=S.asImmutable();return M[$]=S[$].toStatic(),M}}]),w}(Vt),G=function(k,w,S){var M;if(k===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(w===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(k===E.Any&&w===E.Any)return _t;var x=(0,E.typeOf)(k),F=(0,E.typeOf)(w);if(x===E.Any&&k!==E.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+k);if(F===E.Any&&w!==E.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+w);var O=new R(x,F,S),p=function _(A){var z=this instanceof _,q=z?this.constructor:_;if(A instanceof q)return A;var H=q.prototype[tt](A);if(H instanceof TypeError)throw H;if(z&&!this[st])this[st]=H[st],this.size=H.size;else return H;return this};return p.of=function(){for(var _=arguments.length,A=Array(_),z=0;z<_;z++)A[z]=arguments[z];return p().withMutations(function(q){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);q.set(A[H],A[H+1])}})},p.prototype=Object.create(Y,(M={constructor:{value:p}},J(M,$,{value:O}),J(M,Zt,{value:S}),M)),p};L.Map=G,G.Type=Vt,G.prototype=Vt.prototype;var Y=G.prototype})}),It=i(function(y,T){(function(L,E){E(T,ot,P,mt,B)})(e,function(L,E,C,rt,J){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return E.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return C.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return rt.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return J.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return J.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return J.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return J.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return J.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return J.Maybe}})})}),Et=It.Typed,Lt=It.Record,$t=It.List,je=It.Map,oe=It.Any,se="[object Function]",Mr="[object GeneratorFunction]",ae=Object.prototype,Se=ae.toString;function xr(y){var T=br(y)?Se.call(y):"";return T==se||T==Mr}function br(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}var nr=xr;function Bn(y){return y===null}var ir=Bn;function Tn(y){return y===void 0}var pu=Tn,Gn=i(function(y,T){function L(Tt){return!!Tt&&(typeof Tt>"u"?"undefined":s(Tt))=="object"}var E=s(e)=="object"&&e&&e.Object===Object&&e,C=T&&!T.nodeType&&T,rt=C&&!0&&y&&!y.nodeType&&y,J=rt&&rt.exports===C,X=J&&E.process,ct=function(){try{return X&&X.binding("util")}catch{}}(),ht=ct&&ct.isDate,pt=Object.prototype,jt=pt.toString,_t=ht?function(Tt){return function(st){return Tt(st)}}(ht):function(Tt){return L(Tt)&&jt.call(Tt)=="[object Date]"};y.exports=_t}),Yn=1/0,mu=9007199254740991,yu=17976931348623157e292,So=0/0,vu="[object Symbol]",gu=/^\s+|\s+$/g,_u=/^[-+]0x[0-9a-f]+$/i,Tu=/^0b[01]+$/i,Eu=/^0o[0-7]+$/i,Oo="\\ud800-\\udfff",wu="\\u0300-\\u036f\\ufe20-\\ufe23",Su="\\u20d0-\\u20f0",Ou="\\ufe0e\\ufe0f",Iu="["+Oo+"]",Kn="["+wu+Su+"]",Jn="\\ud83c[\\udffb-\\udfff]",Du="(?:"+Kn+"|"+Jn+")",Io="[^"+Oo+"]",Do="(?:\\ud83c[\\udde6-\\uddff]){2}",Mo="[\\ud800-\\udbff][\\udc00-\\udfff]",Mu="\\u200d",xo=Du+"?",bo="["+Ou+"]?",xu="(?:"+Mu+"(?:"+[Io,Do,Mo].join("|")+")"+bo+xo+")*",bu=bo+xo+xu,ku="(?:"+[Io+Kn+"?",Kn,Do,Mo,Iu].join("|")+")",Xn=RegExp(Jn+"(?="+Jn+")|"+ku+bu,"g"),Au=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,Nu=parseInt,Fu=s(e)=="object"&&e&&e.Object===Object&&e,Lu=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,Ru=Fu||Lu||Function("return this")(),zu=Uu("length");function Cu(y){return y.split("")}function Uu(y){return function(T){return T?.[y]}}function Qn(y){return Au.test(y)}function ko(y){return Qn(y)?Vu(y):zu(y)}function ju(y){return Qn(y)?qu(y):Cu(y)}function Vu(y){for(var T=Xn.lastIndex=0;Xn.test(y);)T++;return T}function qu(y){return y.match(Xn)||[]}var Pu=Object.prototype,Hu=Pu.toString,Ao=Ru.Symbol,Wu=Math.ceil,$u=Math.floor,No=Ao?Ao.prototype:void 0,Fo=No?No.toString:void 0;function Lo(y,T){var L="";if(!y||1>T||T>mu)return L;do T%2&&(L+=y),T=$u(T/2),T&&(y+=y);while(T);return L}function Zu(y,T,L){var E=-1,C=y.length;0>T&&(T=-T>C?0:C+T),L=L>C?C:L,0>L&&(L+=C),C=T>L?0:L-T>>>0,T>>>=0;for(var rt=Array(C);++E<C;)rt[E]=y[E+T];return rt}function Ro(y){if(typeof y=="string")return y;if(Co(y))return Fo?Fo.call(y):"";var T=y+"";return T=="0"&&1/y==-Yn?"-0":T}function Bu(y,T,L){var E=y.length;return L=L===void 0?E:L,!T&&L>=E?y:Zu(y,T,L)}function Gu(y,T){T=T===void 0?" ":Ro(T);var L=T.length;if(2>L)return L?Lo(T,y):T;var E=Lo(T,Wu(y/ko(T)));return Qn(T)?Bu(ju(E),0,y).join(""):E.slice(0,y)}function zo(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}function Yu(y){return!!y&&(typeof y>"u"?"undefined":s(y))=="object"}function Co(y){return(typeof y>"u"?"undefined":s(y))=="symbol"||Yu(y)&&Hu.call(y)==vu}function Ku(y){if(!y)return y===0?y:0;if(y=Xu(y),y===Yn||y===-Yn){var T=0>y?-1:1;return T*yu}return y===y?y:0}function Ju(y){var T=Ku(y),L=T%1;return T===T?L?T-L:T:0}function Xu(y){if(typeof y=="number")return y;if(Co(y))return So;if(zo(y)){var T=typeof y.valueOf=="function"?y.valueOf():y;y=zo(T)?T+"":T}if(typeof y!="string")return y===0?y:+y;y=y.replace(gu,"");var L=Tu.test(y);return L||Eu.test(y)?Nu(y.slice(2),L?2:8):_u.test(y)?So:+y}function Qu(y){return y==null?"":Ro(y)}function tc(y,T,L){y=Qu(y),T=Ju(T);var E=T?ko(y):0;return T&&E<T?Gu(T-E,L)+y:y}var kr=tc,Uo=function(y){return y.getFullYear()+kr(y.getMonth()+1,2,0)+kr(y.getDate(),2,0)},jo=function(y){return kr(y.getHours(),2,0)+kr(y.getMinutes(),2,0)+kr(y.getSeconds(),2,0)},ec=function(y){return Uo(y)+"T"+jo(y)},Vo=function(y){var T=6e4*y.getTimezoneOffset();return new Date(y.getTime()+T)},rc=function(y){return y?"TRUE":"FALSE"},nc=function(y){return Gn(y)?Uo(Vo(y)):y},ic=function(y){return Gn(y)?ec(y):y},qo=function(y){return Number.parseFloat(y)},oc=function(){return qo.apply(void 0,arguments).toFixed(1)},sc=function(y){return Number.parseInt(y)},ac=function(y){return y.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},uc=function(y){return Gn(y)?jo(Vo(y)):y},cc=Object.freeze({BOOLEAN:rc,DATE:nc,DATETIME:ic,FLOAT:qo,FLOAT__FIXED_1:oc,INTEGER:sc,TEXT:ac,TIME:uc}),fc=`\r
 `,lc=`\r
`,Po=";",hc="=",dc="VALUE",pc=":",mc=",",yc=new RegExp(/[\s\S]{1,75}/g),vc="BEGIN",gc="END",wt={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},_c=wt.TEXT,Tc={ATTACH:wt.URI,ATTENDEE:wt.CALADDRESS,CREATED:wt.DATETIME,DTSTART:wt.DATETIME,DTEND:wt.DATETIME,DTSTAMP:wt.DATETIME,DUE:wt.DATETIME,DURATION:wt.DURATION,EXDATE:wt.DATETIME,FREEBUSY:wt.PERIOD,"LAST-MODIFIED":wt.DATETIME,ORGANIZER:wt.CALADDRESS,"PERCENT-COMPLETE":wt.INTEGER,PRIORITY:wt.INTEGER,RDATE:wt.DATETIME,"RECURRENCE-ID":wt.DATETIME,REPEAT:wt.INTEGER,RRULE:wt.RECUR,SEQUENCE:wt.INTEGER,TRIGGER:wt.DURATION,TZOFFSETFROM:wt.UTCOFFSET,TZOFFSETTO:wt.UTCOFFSET,TZURL:wt.URI,URL:wt.URI,VERSION:wt.FLOAT+"__FIXED_1"},En=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,y),d(T,[{key:"getTransformedValue",value:function(){var E=this,C=wt[this.parameters.get(dc)]||Tc[this.name]||_c,rt=cc[C];return nr(rt)?Array.isArray(this.value)?this.value.map(function(J){return rt(J,E.parameters)}).join(mc):rt(this.value,this.parameters):this.value}},{key:"toString",value:function(){var E=this.name;0<this.parameters.size&&(E+=Po+this.parameters.entrySeq().map(function(rt){var J=g(rt,2),X=J[0],ct=J[1];return X+hc+ct}).join(Po));var C=this.transform?this.getTransformedValue():this.value;return ir(C)||pu(C)||(E+=pc+C),E.match(yc).join(fc)}}]),T}(Lt({name:String,parameters:je(String,oe),transform:!0,value:oe}));Et.Component=Et("Component",function(y){return y instanceof Ho?y:TypeError('"'+y+'" is not a Component')}),Et.Property=Et("Property",function(y){return y instanceof En?y:TypeError('"'+y+'" is not a Property')});var Ho=function(y){function T(){return c(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,y),d(T,[{key:"pushComponent",value:function(E){return this.update("components",function(C){return C.push(E)})}},{key:"pushProperty",value:function(E){return this.update("properties",function(C){return C.push(E)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new En({name:vc,value:this.name})].concat(b(this.properties),b(this.components),[new En({name:gc,value:this.name})]).join(lc)}}]),T}(Lt({name:String,components:$t(Et.Component),properties:$t(Et.Property)}));n.Component=Ho,n.Property=En,Object.defineProperty(n,"__esModule",{value:!0})})});var hu=Zs((Eo,wo)=>{(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Eo<"u"?e():(e(),n.FileSaver={})})(Eo,function(){"use strict";function n(m,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function e(m,g,b){var U=new XMLHttpRequest;U.open("GET",m),U.responseType="blob",U.onload=function(){l(U.response,g,b)},U.onerror=function(){console.error("could not download file")},U.send()}function i(m){var g=new XMLHttpRequest;g.open("HEAD",m,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(g)}}var c=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,d=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=c.saveAs||(typeof window!="object"||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(m,g,b){var U=c.URL||c.webkitURL,B=document.createElement("a");g=g||m.name||"download",B.download=g,B.rel="noopener",typeof m=="string"?(B.href=m,B.origin===location.origin?s(B):i(B.href)?e(m,g,b):s(B,B.target="_blank")):(B.href=U.createObjectURL(m),setTimeout(function(){U.revokeObjectURL(B.href)},4e4),setTimeout(function(){s(B)},0))}:"msSaveOrOpenBlob"in navigator?function(m,g,b){if(g=g||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,b),g);else if(i(m))e(m,g,b);else{var U=document.createElement("a");U.href=m,U.target="_blank",setTimeout(function(){s(U)})}}:function(m,g,b,U){if(U=U||open("","_blank"),U&&(U.document.title=U.document.body.innerText="downloading..."),typeof m=="string")return e(m,g,b);var B=m.type==="application/octet-stream",ot=/constructor/i.test(c.HTMLElement)||c.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||B&&ot||d)&&typeof FileReader<"u"){var mt=new FileReader;mt.onloadend=function(){var Lt=mt.result;Lt=P?Lt:Lt.replace(/^data:[^;]*;/,"data:attachment/file;"),U?U.location.href=Lt:location=Lt,U=null},mt.readAsDataURL(m)}else{var It=c.URL||c.webkitURL,Et=It.createObjectURL(m);U?U.location=Et:location.href=Et,U=null,setTimeout(function(){It.revokeObjectURL(Et)},4e4)}});c.saveAs=l.saveAs=l,typeof wo<"u"&&(wo.exports=l)})});var He=class extends Error{},Ni=class extends He{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Fi=class extends He{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},Li=class extends He{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},We=class extends He{},qr=class extends He{constructor(e){super(`Invalid unit ${e}`)}},Yt=class extends He{},Le=class extends He{constructor(){super("Zone is an abstract class")}};var j="numeric",Me="short",de="long",mr={year:j,month:j,day:j},Pr={year:j,month:Me,day:j},Ri={year:j,month:Me,day:j,weekday:Me},Hr={year:j,month:de,day:j},Wr={year:j,month:de,day:j,weekday:de},$r={hour:j,minute:j},Zr={hour:j,minute:j,second:j},Br={hour:j,minute:j,second:j,timeZoneName:Me},Gr={hour:j,minute:j,second:j,timeZoneName:de},Yr={hour:j,minute:j,hourCycle:"h23"},Kr={hour:j,minute:j,second:j,hourCycle:"h23"},Jr={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:Me},Xr={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:de},Qr={year:j,month:j,day:j,hour:j,minute:j},tn={year:j,month:j,day:j,hour:j,minute:j,second:j},en={year:j,month:Me,day:j,hour:j,minute:j},rn={year:j,month:Me,day:j,hour:j,minute:j,second:j},zi={year:j,month:Me,day:j,weekday:Me,hour:j,minute:j},nn={year:j,month:de,day:j,hour:j,minute:j,timeZoneName:Me},on={year:j,month:de,day:j,hour:j,minute:j,second:j,timeZoneName:Me},sn={year:j,month:de,day:j,weekday:de,hour:j,minute:j,timeZoneName:de},an={year:j,month:de,day:j,weekday:de,hour:j,minute:j,second:j,timeZoneName:de};function nt(n){return typeof n>"u"}function Re(n){return typeof n=="number"}function un(n){return typeof n=="number"&&n%1===0}function Gs(n){return typeof n=="string"}function Ys(n){return Object.prototype.toString.call(n)==="[object Date]"}function Fn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ks(n){return Array.isArray(n)?n:[n]}function Ui(n,e,i){if(n.length!==0)return n.reduce((s,c)=>{let d=[e(c),c];return s&&i(s[0],d[0])===s[0]?s:d},null)[1]}function Js(n,e){return e.reduce((i,s)=>(i[s]=n[s],i),{})}function $e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ze(n,e,i){return un(n)&&n>=e&&n<=i}function ef(n,e){return n-e*Math.floor(n/e)}function Nt(n,e=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function Ue(n){if(!(nt(n)||n===null||n===""))return parseInt(n,10)}function Ze(n){if(!(nt(n)||n===null||n===""))return parseFloat(n)}function cn(n){if(!(nt(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function yr(n,e,i=!1){let s=10**e;return(i?Math.trunc:Math.round)(n*s)/s}function Je(n){return n%4===0&&(n%100!==0||n%400===0)}function Xe(n){return Je(n)?366:365}function vr(n,e){let i=ef(e-1,12)+1,s=n+(e-i)/12;return i===2?Je(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function fn(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function gr(n){let e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,i=n-1,s=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return e===4||s===3?53:52}function ln(n){return n>99?n:n>60?1900+n:2e3+n}function Ln(n,e,i,s=null){let c=new Date(n),d={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(d.timeZone=s);let l={timeZoneName:e,...d},m=new Intl.DateTimeFormat(i,l).formatToParts(c).find(g=>g.type.toLowerCase()==="timezonename");return m?m.value:null}function Qe(n,e){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(e,10)||0,c=i<0||Object.is(i,-0)?-s:s;return i*60+c}function ji(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Yt(`Invalid unit value ${n}`);return e}function _r(n,e){let i={};for(let s in n)if($e(n,s)){let c=n[s];if(c==null)continue;i[e(s)]=ji(c)}return i}function Be(n,e){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),c=n>=0?"+":"-";switch(e){case"short":return`${c}${Nt(i,2)}:${Nt(s,2)}`;case"narrow":return`${c}${i}${s>0?`:${s}`:""}`;case"techie":return`${c}${Nt(i,2)}${Nt(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function hn(n){return Js(n,["hour","minute","second","millisecond"])}var Vi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var rf=["January","February","March","April","May","June","July","August","September","October","November","December"],qi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nf=["J","F","M","A","M","J","J","A","S","O","N","D"];function Pi(n){switch(n){case"narrow":return[...nf];case"short":return[...qi];case"long":return[...rf];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Hi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Wi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],of=["M","T","W","T","F","S","S"];function $i(n){switch(n){case"narrow":return[...of];case"short":return[...Wi];case"long":return[...Hi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Zi=["AM","PM"],sf=["Before Christ","Anno Domini"],af=["BC","AD"],uf=["B","A"];function Bi(n){switch(n){case"narrow":return[...uf];case"short":return[...af];case"long":return[...sf];default:return null}}function Xs(n){return Zi[n.hour<12?0:1]}function Qs(n,e){return $i(e)[n.weekday-1]}function ta(n,e){return Pi(e)[n.month-1]}function ea(n,e){return Bi(e)[n.year<0?0:1]}function ra(n,e,i="always",s=!1){let c={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},d=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&d){let B=n==="days";switch(e){case 1:return B?"tomorrow":`next ${c[n][0]}`;case-1:return B?"yesterday":`last ${c[n][0]}`;case 0:return B?"today":`this ${c[n][0]}`;default:}}let l=Object.is(e,-0)||e<0,m=Math.abs(e),g=m===1,b=c[n],U=s?g?b[1]:b[2]||b[1]:g?c[n][0]:n;return l?`${m} ${U} ago`:`in ${m} ${U}`}function na(n,e){let i="";for(let s of n)s.literal?i+=s.val:i+=e(s.val);return i}var cf={D:mr,DD:Pr,DDD:Hr,DDDD:Wr,t:$r,tt:Zr,ttt:Br,tttt:Gr,T:Yr,TT:Kr,TTT:Jr,TTTT:Xr,f:Qr,ff:en,fff:nn,ffff:sn,F:tn,FF:rn,FFF:on,FFFF:an},qt=class{static create(e,i={}){return new qt(e,i)}static parseFormat(e){let i=null,s="",c=!1,d=[];for(let l=0;l<e.length;l++){let m=e.charAt(l);m==="'"?(s.length>0&&d.push({literal:c,val:s}),i=null,s="",c=!c):c||m===i?s+=m:(s.length>0&&d.push({literal:!1,val:s}),s=m,i=m)}return s.length>0&&d.push({literal:c,val:s}),d}static macroTokenToFormatOpts(e){return cf[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTime(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTimeParts(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).formatToParts()}resolvedOptions(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return Nt(e,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){let s=this.loc.listingMode()==="en",c=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",d=(P,mt)=>this.loc.extract(e,P,mt),l=P=>e.isOffsetFixed&&e.offset===0&&P.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,P.format):"",m=()=>s?Xs(e):d({hour:"numeric",hourCycle:"h12"},"dayperiod"),g=(P,mt)=>s?ta(e,P):d(mt?{month:P}:{month:P,day:"numeric"},"month"),b=(P,mt)=>s?Qs(e,P):d(mt?{weekday:P}:{weekday:P,month:"long",day:"numeric"},"weekday"),U=P=>{let mt=qt.macroTokenToFormatOpts(P);return mt?this.formatWithSystemDefault(e,mt):P},B=P=>s?ea(e,P):d({era:P},"era"),ot=P=>{switch(P){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return m();case"d":return c?d({day:"numeric"},"day"):this.num(e.day);case"dd":return c?d({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return b("short",!0);case"cccc":return b("long",!0);case"ccccc":return b("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return b("short",!1);case"EEEE":return b("long",!1);case"EEEEE":return b("narrow",!1);case"L":return c?d({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return c?d({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return g("short",!0);case"LLLL":return g("long",!0);case"LLLLL":return g("narrow",!0);case"M":return c?d({month:"numeric"},"month"):this.num(e.month);case"MM":return c?d({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return g("short",!1);case"MMMM":return g("long",!1);case"MMMMM":return g("narrow",!1);case"y":return c?d({year:"numeric"},"year"):this.num(e.year);case"yy":return c?d({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return c?d({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return c?d({year:"numeric"},"year"):this.num(e.year,6);case"G":return B("short");case"GG":return B("long");case"GGGGG":return B("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return U(P)}};return na(qt.parseFormat(i),ot)}formatDurationFromString(e,i){let s=g=>{switch(g[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},c=g=>b=>{let U=s(b);return U?this.num(g.get(U),b.length):b},d=qt.parseFormat(i),l=d.reduce((g,{literal:b,val:U})=>b?g:g.concat(U),[]),m=e.shiftTo(...l.map(s).filter(g=>g));return na(d,c(m))}};var Kt=class{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var pe=class{get type(){throw new Le}get name(){throw new Le}get ianaName(){return this.name}get isUniversal(){throw new Le}offsetName(e,i){throw new Le}formatOffset(e,i){throw new Le}offset(e){throw new Le}equals(e){throw new Le}get isValid(){throw new Le}};var Yi=null,tr=class extends pe{static get instance(){return Yi===null&&(Yi=new tr),Yi}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Ln(e,i,s)}formatOffset(e,i){return Be(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var zn={};function ff(n){return zn[n]||(zn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),zn[n]}var lf={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hf(n,e){let i=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,c,d,l,m,g,b,U]=s;return[l,c,d,m,g,b,U]}function df(n,e){let i=n.formatToParts(e),s=[];for(let c=0;c<i.length;c++){let{type:d,value:l}=i[c],m=lf[d];d==="era"?s[m]=l:nt(m)||(s[m]=parseInt(l,10))}return s}var Rn={},Wt=class extends pe{static create(e){return Rn[e]||(Rn[e]=new Wt(e)),Rn[e]}static resetCache(){Rn={},zn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super();this.zoneName=e,this.valid=Wt.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return Ln(e,i,s,this.name)}formatOffset(e,i){return Be(this.offset(e),i)}offset(e){let i=new Date(e);if(isNaN(i))return NaN;let s=ff(this.name),[c,d,l,m,g,b,U]=s.formatToParts?df(s,i):hf(s,i);m==="BC"&&(c=-Math.abs(c)+1);let ot=fn({year:c,month:d,day:l,hour:g===24?0:g,minute:b,second:U,millisecond:0}),P=+i,mt=P%1e3;return P-=mt>=0?mt:1e3+mt,(ot-P)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var Ki=null,Ft=class extends pe{static get utcInstance(){return Ki===null&&(Ki=new Ft(0)),Ki}static instance(e){return e===0?Ft.utcInstance:new Ft(e)}static parseSpecifier(e){if(e){let i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ft(Qe(i[1],i[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Be(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Be(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Be(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var dn=class extends pe{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function xe(n,e){let i;if(nt(n)||n===null)return e;if(n instanceof pe)return n;if(Gs(n)){let s=n.toLowerCase();return s==="local"||s==="system"?e:s==="utc"||s==="gmt"?Ft.utcInstance:Ft.parseSpecifier(s)||Wt.create(n)}else return Re(n)?Ft.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new dn(n)}var ia=()=>Date.now(),oa="system",sa=null,aa=null,ua=null,ca,Ot=class{static get now(){return ia}static set now(e){ia=e}static set defaultZone(e){oa=e}static get defaultZone(){return xe(oa,tr.instance)}static get defaultLocale(){return sa}static set defaultLocale(e){sa=e}static get defaultNumberingSystem(){return aa}static set defaultNumberingSystem(e){aa=e}static get defaultOutputCalendar(){return ua}static set defaultOutputCalendar(e){ua=e}static get throwOnInvalid(){return ca}static set throwOnInvalid(e){ca=e}static resetCaches(){gt.resetCache(),Wt.resetCache()}};var fa={};function pf(n,e={}){let i=JSON.stringify([n,e]),s=fa[i];return s||(s=new Intl.ListFormat(n,e),fa[i]=s),s}var Ji={};function Xi(n,e={}){let i=JSON.stringify([n,e]),s=Ji[i];return s||(s=new Intl.DateTimeFormat(n,e),Ji[i]=s),s}var Qi={};function mf(n,e={}){let i=JSON.stringify([n,e]),s=Qi[i];return s||(s=new Intl.NumberFormat(n,e),Qi[i]=s),s}var to={};function yf(n,e={}){let{base:i,...s}=e,c=JSON.stringify([n,s]),d=to[c];return d||(d=new Intl.RelativeTimeFormat(n,e),to[c]=d),d}var pn=null;function vf(){return pn||(pn=new Intl.DateTimeFormat().resolvedOptions().locale,pn)}function gf(n){let e=n.indexOf("-u-");if(e===-1)return[n];{let i,s=n.substring(0,e);try{i=Xi(n).resolvedOptions()}catch{i=Xi(s).resolvedOptions()}let{numberingSystem:c,calendar:d}=i;return[s,c,d]}}function _f(n,e,i){return(i||e)&&(n+="-u",i&&(n+=`-ca-${i}`),e&&(n+=`-nu-${e}`)),n}function Tf(n){let e=[];for(let i=1;i<=12;i++){let s=Z.utc(2016,i,1);e.push(n(s))}return e}function Ef(n){let e=[];for(let i=1;i<=7;i++){let s=Z.utc(2016,11,13+i);e.push(n(s))}return e}function Cn(n,e,i,s,c){let d=n.listingMode(i);return d==="error"?null:d==="en"?s(e):c(e)}function wf(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var la=class{constructor(e,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:c,floor:d,...l}=s;if(!i||Object.keys(l).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=mf(e,m)}}format(e){if(this.inf){let i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{let i=this.floor?Math.floor(e):yr(e,3);return Nt(i,this.padTo)}}},ha=class{constructor(e,i,s){this.opts=s;let c;if(e.zone.isUniversal){let l=-1*(e.offset/60),m=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Wt.create(m).valid?(c=m,this.dt=e):(c="UTC",s.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Z.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,c=e.zone.name);let d={...this.opts};c&&(d.timeZone=c),this.dtf=Xi(i,d)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},da=class{constructor(e,i,s){this.opts={style:"long",...s},!i&&Fn()&&(this.rtf=yf(e,s))}format(e,i){return this.rtf?this.rtf.format(e,i):ra(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}},gt=class{static fromOpts(e){return gt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,i,s,c=!1){let d=e||Ot.defaultLocale,l=d||(c?"en-US":vf()),m=i||Ot.defaultNumberingSystem,g=s||Ot.defaultOutputCalendar;return new gt(l,m,g,d)}static resetCache(){pn=null,Ji={},Qi={},to={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:s}={}){return gt.create(e,i,s)}constructor(e,i,s,c){let[d,l,m]=gf(e);this.locale=d,this.numberingSystem=i||l||null,this.outputCalendar=s||m||null,this.intl=_f(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=wf(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:gt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1,s=!0){return Cn(this,e,s,Pi,()=>{let c=i?{month:e,day:"numeric"}:{month:e},d=i?"format":"standalone";return this.monthsCache[d][e]||(this.monthsCache[d][e]=Tf(l=>this.extract(l,c,"month"))),this.monthsCache[d][e]})}weekdays(e,i=!1,s=!0){return Cn(this,e,s,$i,()=>{let c=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},d=i?"format":"standalone";return this.weekdaysCache[d][e]||(this.weekdaysCache[d][e]=Ef(l=>this.extract(l,c,"weekday"))),this.weekdaysCache[d][e]})}meridiems(e=!0){return Cn(this,void 0,e,()=>Zi,()=>{if(!this.meridiemCache){let i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Z.utc(2016,11,13,9),Z.utc(2016,11,13,19)].map(s=>this.extract(s,i,"dayperiod"))}return this.meridiemCache})}eras(e,i=!0){return Cn(this,e,i,Bi,()=>{let s={era:e};return this.eraCache[e]||(this.eraCache[e]=[Z.utc(-40,1,1),Z.utc(2017,1,1)].map(c=>this.extract(c,s,"era"))),this.eraCache[e]})}extract(e,i,s){let c=this.dtFormatter(e,i),d=c.formatToParts(),l=d.find(m=>m.type.toLowerCase()===s);return l?l.value:null}numberFormatter(e={}){return new la(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new ha(e,this.intl,i)}relFormatter(e={}){return new da(this.intl,this.isEnglish(),e)}listFormatter(e={}){return pf(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};function Er(...n){let e=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${e}$`)}function wr(...n){return e=>n.reduce(([i,s,c],d)=>{let[l,m,g]=d(e,c);return[{...i,...l},m||s,g]},[{},null,1]).slice(0,2)}function Sr(n,...e){if(n==null)return[null,null];for(let[i,s]of e){let c=i.exec(n);if(c)return s(c)}return[null,null]}function ma(...n){return(e,i)=>{let s={},c;for(c=0;c<n.length;c++)s[n[c]]=Ue(e[i+c]);return[s,null,i+c]}}var ya=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Sf=`(?:${ya.source}?(?:\\[(${Vi.source})\\])?)?`,eo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,va=RegExp(`${eo.source}${Sf}`),ro=RegExp(`(?:T${va.source})?`),Of=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,If=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Df=/(\d{4})-?(\d{3})/,Mf=ma("weekYear","weekNumber","weekDay"),xf=ma("year","ordinal"),bf=/(\d{4})-(\d\d)-(\d\d)/,ga=RegExp(`${eo.source} ?(?:${ya.source}|(${Vi.source}))?`),kf=RegExp(`(?: ${ga.source})?`);function Tr(n,e,i){let s=n[e];return nt(s)?i:Ue(s)}function Af(n,e){return[{year:Tr(n,e),month:Tr(n,e+1,1),day:Tr(n,e+2,1)},null,e+3]}function Or(n,e){return[{hours:Tr(n,e,0),minutes:Tr(n,e+1,0),seconds:Tr(n,e+2,0),milliseconds:cn(n[e+3])},null,e+4]}function mn(n,e){let i=!n[e]&&!n[e+1],s=Qe(n[e+1],n[e+2]),c=i?null:Ft.instance(s);return[{},c,e+3]}function yn(n,e){let i=n[e]?Wt.create(n[e]):null;return[{},i,e+1]}var Nf=RegExp(`^T?${eo.source}$`),Ff=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Lf(n){let[e,i,s,c,d,l,m,g,b]=n,U=e[0]==="-",B=g&&g[0]==="-",ot=(P,mt=!1)=>P!==void 0&&(mt||P&&U)?-P:P;return[{years:ot(Ze(i)),months:ot(Ze(s)),weeks:ot(Ze(c)),days:ot(Ze(d)),hours:ot(Ze(l)),minutes:ot(Ze(m)),seconds:ot(Ze(g),g==="-0"),milliseconds:ot(cn(b),B)}]}var Rf={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function no(n,e,i,s,c,d,l){let m={year:e.length===2?ln(Ue(e)):Ue(e),month:qi.indexOf(i)+1,day:Ue(s),hour:Ue(c),minute:Ue(d)};return l&&(m.second=Ue(l)),n&&(m.weekday=n.length>3?Hi.indexOf(n)+1:Wi.indexOf(n)+1),m}var zf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Cf(n){let[,e,i,s,c,d,l,m,g,b,U,B]=n,ot=no(e,c,s,i,d,l,m),P;return g?P=Rf[g]:b?P=0:P=Qe(U,B),[ot,new Ft(P)]}function Uf(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var jf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Vf=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function pa(n){let[,e,i,s,c,d,l,m]=n;return[no(e,c,s,i,d,l,m),Ft.utcInstance]}function Pf(n){let[,e,i,s,c,d,l,m]=n;return[no(e,m,i,s,c,d,l),Ft.utcInstance]}var Hf=Er(Of,ro),Wf=Er(If,ro),$f=Er(Df,ro),Zf=Er(va),_a=wr(Af,Or,mn,yn),Bf=wr(Mf,Or,mn,yn),Gf=wr(xf,Or,mn,yn),Yf=wr(Or,mn,yn);function Ta(n){return Sr(n,[Hf,_a],[Wf,Bf],[$f,Gf],[Zf,Yf])}function Ea(n){return Sr(Uf(n),[zf,Cf])}function wa(n){return Sr(n,[jf,pa],[Vf,pa],[qf,Pf])}function Sa(n){return Sr(n,[Ff,Lf])}var Kf=wr(Or);function Oa(n){return Sr(n,[Nf,Kf])}var Jf=Er(bf,kf),Xf=Er(ga),Qf=wr(Or,mn,yn);function Ia(n){return Sr(n,[Jf,_a],[Xf,Qf])}var tl="Invalid Duration",Da={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},el={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Da},Te=146097/400,Ir=146097/4800,rl={years:{quarters:4,months:12,weeks:Te/7,days:Te,hours:Te*24,minutes:Te*24*60,seconds:Te*24*60*60,milliseconds:Te*24*60*60*1e3},quarters:{months:3,weeks:Te/28,days:Te/4,hours:Te*24/4,minutes:Te*24*60/4,seconds:Te*24*60*60/4,milliseconds:Te*24*60*60*1e3/4},months:{weeks:Ir/7,days:Ir,hours:Ir*24,minutes:Ir*24*60,seconds:Ir*24*60*60,milliseconds:Ir*24*60*60*1e3},...Da},rr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],nl=rr.slice(0).reverse();function er(n,e,i=!1){let s={values:i?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new it(s)}function il(n){return n<0?Math.floor(n):Math.ceil(n)}function Ma(n,e,i,s,c){let d=n[c][i],l=e[i]/d,m=Math.sign(l)===Math.sign(s[c]),g=!m&&s[c]!==0&&Math.abs(l)<=1?il(l):Math.trunc(l);s[c]+=g,e[i]-=g*d}function ol(n,e){nl.reduce((i,s)=>nt(e[s])?i:(i&&Ma(n,e,i,e,s),s),null)}var it=class{constructor(e){let i=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||gt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i?rl:el,this.isLuxonDuration=!0}static fromMillis(e,i){return it.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Yt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new it({values:_r(e,it.normalizeUnit),loc:gt.fromObject(i),conversionAccuracy:i.conversionAccuracy})}static fromDurationLike(e){if(Re(e))return it.fromMillis(e);if(it.isDuration(e))return e;if(typeof e=="object")return it.fromObject(e);throw new Yt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){let[s]=Sa(e);return s?it.fromObject(s,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){let[s]=Oa(e);return s?it.fromObject(s,i):it.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the Duration is invalid");let s=e instanceof Kt?e:new Kt(e,i);if(Ot.throwOnInvalid)throw new Li(s);return new it({invalid:s})}static normalizeUnit(e){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new qr(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?qt.create(this.loc,s).formatDurationFromString(this,e):tl}toHuman(e={}){let i=rr.map(s=>{let c=this.values[s];return nt(c)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(c)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=yr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let i=this.toMillis();if(i<0||i>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let s=this.shiftTo("hours","minutes","seconds","milliseconds"),c=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(c+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||s.milliseconds!==0)&&(c+=".SSS"));let d=s.toFormat(c);return e.includePrefix&&(d="T"+d),d}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e),s={};for(let c of rr)($e(i.values,c)||$e(this.values,c))&&(s[c]=i.get(c)+this.get(c));return er(this,{values:s},!0)}minus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=ji(e(this.values[s],s));return er(this,{values:i},!0)}get(e){return this[it.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let i={...this.values,..._r(e,it.normalizeUnit)};return er(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:s}={}){let c=this.loc.clone({locale:e,numberingSystem:i}),d={loc:c};return s&&(d.conversionAccuracy=s),er(this,d)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return ol(this.matrix,e),er(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>it.normalizeUnit(l));let i={},s={},c=this.toObject(),d;for(let l of rr)if(e.indexOf(l)>=0){d=l;let m=0;for(let b in s)m+=this.matrix[b][l]*s[b],s[b]=0;Re(c[l])&&(m+=c[l]);let g=Math.trunc(m);i[l]=g,s[l]=(m*1e3-g*1e3)/1e3;for(let b in c)rr.indexOf(b)>rr.indexOf(l)&&Ma(this.matrix,c,b,i,l)}else Re(c[l])&&(s[l]=c[l]);for(let l in s)s[l]!==0&&(i[d]+=l===d?s[l]:s[l]/this.matrix[d][l]);return er(this,{values:i},!0).normalize()}negate(){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return er(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(s,c){return s===void 0||s===0?c===void 0||c===0:s===c}for(let s of rr)if(!i(this.values[s],e.values[s]))return!1;return!0}};var vn="Invalid Interval";function sl(n,e){return!n||!n.isValid?Dt.invalid("missing or invalid start"):!e||!e.isValid?Dt.invalid("missing or invalid end"):e<n?Dt.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var Dt=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the Interval is invalid");let s=e instanceof Kt?e:new Kt(e,i);if(Ot.throwOnInvalid)throw new Fi(s);return new Dt({invalid:s})}static fromDateTimes(e,i){let s=Dr(e),c=Dr(i),d=sl(s,c);return d??new Dt({start:s,end:c})}static after(e,i){let s=it.fromDurationLike(i),c=Dr(e);return Dt.fromDateTimes(c,c.plus(s))}static before(e,i){let s=it.fromDurationLike(i),c=Dr(e);return Dt.fromDateTimes(c.minus(s),c)}static fromISO(e,i){let[s,c]=(e||"").split("/",2);if(s&&c){let d,l;try{d=Z.fromISO(s,i),l=d.isValid}catch{l=!1}let m,g;try{m=Z.fromISO(c,i),g=m.isValid}catch{g=!1}if(l&&g)return Dt.fromDateTimes(d,m);if(l){let b=it.fromISO(c,i);if(b.isValid)return Dt.after(d,b)}else if(g){let b=it.fromISO(s,i);if(b.isValid)return Dt.before(m,b)}}return Dt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let i=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(i,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?Dt.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];let i=e.map(Dr).filter(l=>this.contains(l)).sort(),s=[],{s:c}=this,d=0;for(;c<this.e;){let l=i[d]||this.e,m=+l>+this.e?this.e:l;s.push(Dt.fromDateTimes(c,m)),c=m,d+=1}return s}splitBy(e){let i=it.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,c=1,d,l=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(g=>g*c));d=+m>+this.e?this.e:m,l.push(Dt.fromDateTimes(s,d)),s=d,c+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let i=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return i>=s?null:Dt.fromDateTimes(i,s)}union(e){if(!this.isValid)return this;let i=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return Dt.fromDateTimes(i,s)}static merge(e){let[i,s]=e.sort((c,d)=>c.s-d.s).reduce(([c,d],l)=>d?d.overlaps(l)||d.abutsStart(l)?[c,d.union(l)]:[c.concat([d]),l]:[c,l],[[],null]);return s&&i.push(s),i}static xor(e){let i=null,s=0,c=[],d=e.map(g=>[{time:g.s,type:"s"},{time:g.e,type:"e"}]),l=Array.prototype.concat(...d),m=l.sort((g,b)=>g.time-b.time);for(let g of m)s+=g.type==="s"?1:-1,s===1?i=g.time:(i&&+i!=+g.time&&c.push(Dt.fromDateTimes(i,g.time)),i=null);return Dt.merge(c)}difference(...e){return Dt.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:vn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:vn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:vn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:vn}toFormat(e,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:vn}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):it.invalid(this.invalidReason)}mapEndpoints(e){return Dt.fromDateTimes(e(this.s),e(this.e))}};var Ge=class{static hasDST(e=Ot.defaultZone){let i=Z.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Wt.isValidZone(e)}static normalizeZone(e){return xe(e,Ot.defaultZone)}static months(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:d="gregory"}={}){return(c||gt.create(i,s,d)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null,outputCalendar:d="gregory"}={}){return(c||gt.create(i,s,d)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||gt.create(i,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:c=null}={}){return(c||gt.create(i,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return gt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return gt.create(i,null,"gregory").eras(e)}static features(){return{relative:Fn()}}};function xa(n,e){let i=c=>c.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(e)-i(n);return Math.floor(it.fromMillis(s).as("days"))}function al(n,e,i){let s=[["years",(m,g)=>g.year-m.year],["quarters",(m,g)=>g.quarter-m.quarter],["months",(m,g)=>g.month-m.month+(g.year-m.year)*12],["weeks",(m,g)=>{let b=xa(m,g);return(b-b%7)/7}],["days",xa]],c={},d,l;for(let[m,g]of s)if(i.indexOf(m)>=0){d=m;let b=g(n,e);l=n.plus({[m]:b}),l>e?(n=n.plus({[m]:b-1}),b-=1):n=l,c[m]=b}return[n,c,l,d]}function ba(n,e,i,s){let[c,d,l,m]=al(n,e,i),g=e-c,b=i.filter(B=>["hours","minutes","seconds","milliseconds"].indexOf(B)>=0);b.length===0&&(l<e&&(l=c.plus({[m]:1})),l!==c&&(d[m]=(d[m]||0)+g/(l-c)));let U=it.fromObject(d,s);return b.length>0?it.fromMillis(g,s).shiftTo(...b).plus(U):U}var io={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},ka={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ul=io.hanidec.replace(/[\[|\]]/g,"").split("");function Aa(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(io.hanidec)!==-1)e+=ul.indexOf(n[i]);else for(let c in ka){let[d,l]=ka[c];s>=d&&s<=l&&(e+=s-d)}}return parseInt(e,10)}else return e}function Ee({numberingSystem:n},e=""){return new RegExp(`${io[n||"latn"]}${e}`)}var cl="missing Intl.DateTimeFormat.formatToParts support";function vt(n,e=i=>i){return{regex:n,deser:([i])=>e(Aa(i))}}var fl=String.fromCharCode(160),La=`[ ${fl}]`,Ra=new RegExp(La,"g");function ll(n){return n.replace(/\./g,"\\.?").replace(Ra,La)}function Na(n){return n.replace(/\./g,"").replace(Ra," ").toLowerCase()}function be(n,e){return n===null?null:{regex:RegExp(n.map(ll).join("|")),deser:([i])=>n.findIndex(s=>Na(i)===Na(s))+e}}function Fa(n,e){return{regex:n,deser:([,i,s])=>Qe(i,s),groups:e}}function oo(n){return{regex:n,deser:([e])=>e}}function hl(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function dl(n,e){let i=Ee(e),s=Ee(e,"{2}"),c=Ee(e,"{3}"),d=Ee(e,"{4}"),l=Ee(e,"{6}"),m=Ee(e,"{1,2}"),g=Ee(e,"{1,3}"),b=Ee(e,"{1,6}"),U=Ee(e,"{1,9}"),B=Ee(e,"{2,4}"),ot=Ee(e,"{4,6}"),P=Et=>({regex:RegExp(hl(Et.val)),deser:([Lt])=>Lt,literal:!0}),It=(Et=>{if(n.literal)return P(Et);switch(Et.val){case"G":return be(e.eras("short",!1),0);case"GG":return be(e.eras("long",!1),0);case"y":return vt(b);case"yy":return vt(B,ln);case"yyyy":return vt(d);case"yyyyy":return vt(ot);case"yyyyyy":return vt(l);case"M":return vt(m);case"MM":return vt(s);case"MMM":return be(e.months("short",!0,!1),1);case"MMMM":return be(e.months("long",!0,!1),1);case"L":return vt(m);case"LL":return vt(s);case"LLL":return be(e.months("short",!1,!1),1);case"LLLL":return be(e.months("long",!1,!1),1);case"d":return vt(m);case"dd":return vt(s);case"o":return vt(g);case"ooo":return vt(c);case"HH":return vt(s);case"H":return vt(m);case"hh":return vt(s);case"h":return vt(m);case"mm":return vt(s);case"m":return vt(m);case"q":return vt(m);case"qq":return vt(s);case"s":return vt(m);case"ss":return vt(s);case"S":return vt(g);case"SSS":return vt(c);case"u":return oo(U);case"uu":return oo(m);case"uuu":return vt(i);case"a":return be(e.meridiems(),0);case"kkkk":return vt(d);case"kk":return vt(B,ln);case"W":return vt(m);case"WW":return vt(s);case"E":case"c":return vt(i);case"EEE":return be(e.weekdays("short",!1,!1),1);case"EEEE":return be(e.weekdays("long",!1,!1),1);case"ccc":return be(e.weekdays("short",!0,!1),1);case"cccc":return be(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Fa(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return Fa(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return oo(/[a-z_+-/]{1,256}?/i);default:return P(Et)}})(n)||{invalidReason:cl};return It.token=n,It}var pl={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function ml(n,e,i){let{type:s,value:c}=n;if(s==="literal")return{literal:!0,val:c};let d=i[s],l=pl[s];if(typeof l=="object"&&(l=l[d]),l)return{literal:!1,val:l}}function yl(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function vl(n,e,i){let s=n.match(e);if(s){let c={},d=1;for(let l in i)if($e(i,l)){let m=i[l],g=m.groups?m.groups+1:1;!m.literal&&m.token&&(c[m.token.val[0]]=m.deser(s.slice(d,d+g))),d+=g}return[s,c]}else return[s,{}]}function gl(n){let e=d=>{switch(d){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return nt(n.z)||(i=Wt.create(n.z)),nt(n.Z)||(i||(i=new Ft(n.Z)),s=n.Z),nt(n.q)||(n.M=(n.q-1)*3+1),nt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),nt(n.u)||(n.S=cn(n.u)),[Object.keys(n).reduce((d,l)=>{let m=e(l);return m&&(d[m]=n[l]),d},{}),i,s]}var so=null;function _l(){return so||(so=Z.fromMillis(1555555555555)),so}function Tl(n,e){if(n.literal)return n;let i=qt.macroTokenToFormatOpts(n.val);if(!i)return n;let d=qt.create(e,i).formatDateTimeParts(_l()).map(l=>ml(l,e,i));return d.includes(void 0)?n:d}function El(n,e){return Array.prototype.concat(...n.map(i=>Tl(i,e)))}function ao(n,e,i){let s=El(qt.parseFormat(i),n),c=s.map(l=>dl(l,n)),d=c.find(l=>l.invalidReason);if(d)return{input:e,tokens:s,invalidReason:d.invalidReason};{let[l,m]=yl(c),g=RegExp(l,"i"),[b,U]=vl(e,g,m),[B,ot,P]=U?gl(U):[null,null,void 0];if($e(U,"a")&&$e(U,"H"))throw new We("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:g,rawMatches:b,matches:U,result:B,zone:ot,specificOffset:P}}}function za(n,e,i){let{result:s,zone:c,specificOffset:d,invalidReason:l}=ao(n,e,i);return[s,c,d,l]}var Ca=[0,31,59,90,120,151,181,212,243,273,304,334],Ua=[0,31,60,91,121,152,182,213,244,274,305,335];function we(n,e){return new Kt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function ja(n,e,i){let s=new Date(Date.UTC(n,e-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let c=s.getUTCDay();return c===0?7:c}function Va(n,e,i){return i+(Je(n)?Ua:Ca)[e-1]}function qa(n,e){let i=Je(n)?Ua:Ca,s=i.findIndex(d=>d<e),c=e-i[s];return{month:s+1,day:c}}function Un(n){let{year:e,month:i,day:s}=n,c=Va(e,i,s),d=ja(e,i,s),l=Math.floor((c-d+10)/7),m;return l<1?(m=e-1,l=gr(m)):l>gr(e)?(m=e+1,l=1):m=e,{weekYear:m,weekNumber:l,weekday:d,...hn(n)}}function uo(n){let{weekYear:e,weekNumber:i,weekday:s}=n,c=ja(e,1,4),d=Xe(e),l=i*7+s-c-3,m;l<1?(m=e-1,l+=Xe(m)):l>d?(m=e+1,l-=Xe(e)):m=e;let{month:g,day:b}=qa(m,l);return{year:m,month:g,day:b,...hn(n)}}function jn(n){let{year:e,month:i,day:s}=n,c=Va(e,i,s);return{year:e,ordinal:c,...hn(n)}}function co(n){let{year:e,ordinal:i}=n,{month:s,day:c}=qa(e,i);return{year:e,month:s,day:c,...hn(n)}}function Pa(n){let e=un(n.weekYear),i=ze(n.weekNumber,1,gr(n.weekYear)),s=ze(n.weekday,1,7);return e?i?s?!1:we("weekday",n.weekday):we("week",n.week):we("weekYear",n.weekYear)}function Ha(n){let e=un(n.year),i=ze(n.ordinal,1,Xe(n.year));return e?i?!1:we("ordinal",n.ordinal):we("year",n.year)}function fo(n){let e=un(n.year),i=ze(n.month,1,12),s=ze(n.day,1,vr(n.year,n.month));return e?i?s?!1:we("day",n.day):we("month",n.month):we("year",n.year)}function lo(n){let{hour:e,minute:i,second:s,millisecond:c}=n,d=ze(e,0,23)||e===24&&i===0&&s===0&&c===0,l=ze(i,0,59),m=ze(s,0,59),g=ze(c,0,999);return d?l?m?g?!1:we("millisecond",c):we("second",s):we("minute",i):we("hour",e)}var ho="Invalid DateTime",Wa=864e13;function Vn(n){return new Kt("unsupported zone",`the zone "${n.name}" is not supported`)}function po(n){return n.weekData===null&&(n.weekData=Un(n.c)),n.weekData}function gn(n,e){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Z({...i,...e,old:i})}function Xa(n,e,i){let s=n-e*60*1e3,c=i.offset(s);if(e===c)return[s,e];s-=(c-e)*60*1e3;let d=i.offset(s);return c===d?[s,c]:[n-Math.min(c,d)*60*1e3,Math.max(c,d)]}function $a(n,e){n+=e*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Pn(n,e,i){return Xa(fn(n),e,i)}function Za(n,e){let i=n.o,s=n.c.year+Math.trunc(e.years),c=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,d={...n.c,year:s,month:c,day:Math.min(n.c.day,vr(s,c))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=it.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),m=fn(d),[g,b]=Xa(m,i,n.zone);return l!==0&&(g+=l,b=n.zone.offset(g)),{ts:g,o:b}}function _n(n,e,i,s,c,d){let{setZone:l,zone:m}=i;if(n&&Object.keys(n).length!==0){let g=e||m,b=Z.fromObject(n,{...i,zone:g,specificOffset:d});return l?b:b.setZone(m)}else return Z.invalid(new Kt("unparsable",`the input "${c}" can't be parsed as ${s}`))}function qn(n,e,i=!0){return n.isValid?qt.create(gt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,e):null}function mo(n,e){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=Nt(n.c.year,i?6:4),e?(s+="-",s+=Nt(n.c.month),s+="-",s+=Nt(n.c.day)):(s+=Nt(n.c.month),s+=Nt(n.c.day)),s}function Ba(n,e,i,s,c,d){let l=Nt(n.c.hour);return e?(l+=":",l+=Nt(n.c.minute),(n.c.second!==0||!i)&&(l+=":")):l+=Nt(n.c.minute),(n.c.second!==0||!i)&&(l+=Nt(n.c.second),(n.c.millisecond!==0||!s)&&(l+=".",l+=Nt(n.c.millisecond,3))),c&&(n.isOffsetFixed&&n.offset===0&&!d?l+="Z":n.o<0?(l+="-",l+=Nt(Math.trunc(-n.o/60)),l+=":",l+=Nt(Math.trunc(-n.o%60))):(l+="+",l+=Nt(Math.trunc(n.o/60)),l+=":",l+=Nt(Math.trunc(n.o%60)))),d&&(l+="["+n.zone.ianaName+"]"),l}var Qa={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},wl={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Sl={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tu=["year","month","day","hour","minute","second","millisecond"],Ol=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Il=["year","ordinal","hour","minute","second","millisecond"];function Ga(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new qr(n);return e}function Ya(n,e){let i=xe(e.zone,Ot.defaultZone),s=gt.fromObject(e),c=Ot.now(),d,l;if(nt(n.year))d=c;else{for(let b of tu)nt(n[b])&&(n[b]=Qa[b]);let m=fo(n)||lo(n);if(m)return Z.invalid(m);let g=i.offset(c);[d,l]=Pn(n,g,i)}return new Z({ts:d,zone:i,loc:s,o:l})}function Ka(n,e,i){let s=nt(i.round)?!0:i.round,c=(l,m)=>(l=yr(l,s||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(l,m)),d=l=>i.calendary?e.hasSame(n,l)?0:e.startOf(l).diff(n.startOf(l),l).get(l):e.diff(n,l).get(l);if(i.unit)return c(d(i.unit),i.unit);for(let l of i.units){let m=d(l);if(Math.abs(m)>=1)return c(m,l)}return c(n>e?-0:0,i.units[i.units.length-1])}function Ja(n){let e={},i;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[e,i]}var Z=class{constructor(e){let i=e.zone||Ot.defaultZone,s=e.invalid||(Number.isNaN(e.ts)?new Kt("invalid input"):null)||(i.isValid?null:Vn(i));this.ts=nt(e.ts)?Ot.now():e.ts;let c=null,d=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[c,d]=[e.old.c,e.old.o];else{let m=i.offset(this.ts);c=$a(this.ts,m),s=Number.isNaN(c.year)?new Kt("invalid input"):null,c=s?null:c,d=s?null:m}this._zone=i,this.loc=e.loc||gt.create(),this.invalid=s,this.weekData=null,this.c=c,this.o=d,this.isLuxonDateTime=!0}static now(){return new Z({})}static local(){let[e,i]=Ja(arguments),[s,c,d,l,m,g,b]=i;return Ya({year:s,month:c,day:d,hour:l,minute:m,second:g,millisecond:b},e)}static utc(){let[e,i]=Ja(arguments),[s,c,d,l,m,g,b]=i;return e.zone=Ft.utcInstance,Ya({year:s,month:c,day:d,hour:l,minute:m,second:g,millisecond:b},e)}static fromJSDate(e,i={}){let s=Ys(e)?e.valueOf():NaN;if(Number.isNaN(s))return Z.invalid("invalid input");let c=xe(i.zone,Ot.defaultZone);return c.isValid?new Z({ts:s,zone:c,loc:gt.fromObject(i)}):Z.invalid(Vn(c))}static fromMillis(e,i={}){if(Re(e))return e<-Wa||e>Wa?Z.invalid("Timestamp out of range"):new Z({ts:e,zone:xe(i.zone,Ot.defaultZone),loc:gt.fromObject(i)});throw new Yt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Re(e))return new Z({ts:e*1e3,zone:xe(i.zone,Ot.defaultZone),loc:gt.fromObject(i)});throw new Yt("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};let s=xe(i.zone,Ot.defaultZone);if(!s.isValid)return Z.invalid(Vn(s));let c=Ot.now(),d=nt(i.specificOffset)?s.offset(c):i.specificOffset,l=_r(e,Ga),m=!nt(l.ordinal),g=!nt(l.year),b=!nt(l.month)||!nt(l.day),U=g||b,B=l.weekYear||l.weekNumber,ot=gt.fromObject(i);if((U||m)&&B)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&m)throw new We("Can't mix ordinal dates with month/day");let P=B||l.weekday&&!U,mt,It,Et=$a(c,d);P?(mt=Ol,It=wl,Et=Un(Et)):m?(mt=Il,It=Sl,Et=jn(Et)):(mt=tu,It=Qa);let Lt=!1;for(let Se of mt){let xr=l[Se];nt(xr)?Lt?l[Se]=It[Se]:l[Se]=Et[Se]:Lt=!0}let $t=P?Pa(l):m?Ha(l):fo(l),je=$t||lo(l);if(je)return Z.invalid(je);let oe=P?uo(l):m?co(l):l,[se,Mr]=Pn(oe,d,s),ae=new Z({ts:se,zone:s,o:Mr,loc:ot});return l.weekday&&U&&e.weekday!==ae.weekday?Z.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${ae.toISO()}`):ae}static fromISO(e,i={}){let[s,c]=Ta(e);return _n(s,c,i,"ISO 8601",e)}static fromRFC2822(e,i={}){let[s,c]=Ea(e);return _n(s,c,i,"RFC 2822",e)}static fromHTTP(e,i={}){let[s,c]=wa(e);return _n(s,c,i,"HTTP",i)}static fromFormat(e,i,s={}){if(nt(e)||nt(i))throw new Yt("fromFormat requires an input string and a format");let{locale:c=null,numberingSystem:d=null}=s,l=gt.fromOpts({locale:c,numberingSystem:d,defaultToEN:!0}),[m,g,b,U]=za(l,e,i);return U?Z.invalid(U):_n(m,g,s,`format ${i}`,e,b)}static fromString(e,i,s={}){return Z.fromFormat(e,i,s)}static fromSQL(e,i={}){let[s,c]=Ia(e);return _n(s,c,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the DateTime is invalid");let s=e instanceof Kt?e:new Kt(e,i);if(Ot.throwOnInvalid)throw new Ni(s);return new Z({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?po(this).weekYear:NaN}get weekNumber(){return this.isValid?po(this).weekNumber:NaN}get weekday(){return this.isValid?po(this).weekday:NaN}get ordinal(){return this.isValid?jn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ge.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ge.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ge.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ge.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Je(this.year)}get daysInMonth(){return vr(this.year,this.month)}get daysInYear(){return this.isValid?Xe(this.year):NaN}get weeksInWeekYear(){return this.isValid?gr(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:i,numberingSystem:s,calendar:c}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:c}}toUTC(e=0,i={}){return this.setZone(Ft.instance(e),i)}toLocal(){return this.setZone(Ot.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(e=xe(e,Ot.defaultZone),e.equals(this.zone))return this;if(e.isValid){let c=this.ts;if(i||s){let d=e.offset(this.ts),l=this.toObject();[c]=Pn(l,d,e)}return gn(this,{ts:c,zone:e})}else return Z.invalid(Vn(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:s}={}){let c=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:s});return gn(this,{loc:c})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let i=_r(e,Ga),s=!nt(i.weekYear)||!nt(i.weekNumber)||!nt(i.weekday),c=!nt(i.ordinal),d=!nt(i.year),l=!nt(i.month)||!nt(i.day),m=d||l,g=i.weekYear||i.weekNumber;if((m||c)&&g)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&c)throw new We("Can't mix ordinal dates with month/day");let b;s?b=uo({...Un(this.c),...i}):nt(i.ordinal)?(b={...this.toObject(),...i},nt(i.day)&&(b.day=Math.min(vr(b.year,b.month),b.day))):b=co({...jn(this.c),...i});let[U,B]=Pn(b,this.o,this.zone);return gn(this,{ts:U,o:B})}plus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e);return gn(this,Za(this,i))}minus(e){if(!this.isValid)return this;let i=it.fromDurationLike(e).negate();return gn(this,Za(this,i))}startOf(e){if(!this.isValid)return this;let i={},s=it.normalizeUnit(e);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){let c=Math.ceil(this.month/3);i.month=(c-1)*3+1}return this.set(i)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,i={}){return this.isValid?qt.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):ho}toLocaleString(e=mr,i={}){return this.isValid?qt.create(this.loc.clone(i),e).formatDateTime(this):ho}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:c=!0,extendedZone:d=!1}={}){if(!this.isValid)return null;let l=e==="extended",m=mo(this,l);return m+="T",m+=Ba(this,l,i,s,c,d),m}toISODate({format:e="extended"}={}){return this.isValid?mo(this,e==="extended"):null}toISOWeekDate(){return qn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:c=!1,extendedZone:d=!1,format:l="extended"}={}){return this.isValid?(c?"T":"")+Ba(this,l==="extended",i,e,s,d):null}toRFC2822(){return qn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return qn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mo(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let c="HH:mm:ss.SSS";return(i||e)&&(s&&(c+=" "),i?c+="z":e&&(c+="ZZ")),qn(this,c,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ho}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",s={}){if(!this.isValid||!e.isValid)return it.invalid("created by diffing an invalid DateTime");let c={locale:this.locale,numberingSystem:this.numberingSystem,...s},d=Ks(i).map(it.normalizeUnit),l=e.valueOf()>this.valueOf(),m=l?this:e,g=l?e:this,b=ba(m,g,d,c);return l?b.negate():b}diffNow(e="milliseconds",i={}){return this.diff(Z.now(),e,i)}until(e){return this.isValid?Dt.fromDateTimes(this,e):this}hasSame(e,i){if(!this.isValid)return!1;let s=e.valueOf(),c=this.setZone(e.zone,{keepLocalTime:!0});return c.startOf(i)<=s&&s<=c.endOf(i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let i=e.base||Z.fromObject({},{zone:this.zone}),s=e.padding?this<i?-e.padding:e.padding:0,c=["years","months","days","hours","minutes","seconds"],d=e.unit;return Array.isArray(e.unit)&&(c=e.unit,d=void 0),Ka(i,this.plus(s),{...e,numeric:"always",units:c,unit:d})}toRelativeCalendar(e={}){return this.isValid?Ka(e.base||Z.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Z.isDateTime))throw new Yt("min requires all arguments be DateTimes");return Ui(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(Z.isDateTime))throw new Yt("max requires all arguments be DateTimes");return Ui(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,s={}){let{locale:c=null,numberingSystem:d=null}=s,l=gt.fromOpts({locale:c,numberingSystem:d,defaultToEN:!0});return ao(l,e,i)}static fromStringExplain(e,i,s={}){return Z.fromFormatExplain(e,i,s)}static get DATE_SHORT(){return mr}static get DATE_MED(){return Pr}static get DATE_MED_WITH_WEEKDAY(){return Ri}static get DATE_FULL(){return Hr}static get DATE_HUGE(){return Wr}static get TIME_SIMPLE(){return $r}static get TIME_WITH_SECONDS(){return Zr}static get TIME_WITH_SHORT_OFFSET(){return Br}static get TIME_WITH_LONG_OFFSET(){return Gr}static get TIME_24_SIMPLE(){return Yr}static get TIME_24_WITH_SECONDS(){return Kr}static get TIME_24_WITH_SHORT_OFFSET(){return Jr}static get TIME_24_WITH_LONG_OFFSET(){return Xr}static get DATETIME_SHORT(){return Qr}static get DATETIME_SHORT_WITH_SECONDS(){return tn}static get DATETIME_MED(){return en}static get DATETIME_MED_WITH_SECONDS(){return rn}static get DATETIME_MED_WITH_WEEKDAY(){return zi}static get DATETIME_FULL(){return nn}static get DATETIME_FULL_WITH_SECONDS(){return on}static get DATETIME_HUGE(){return sn}static get DATETIME_HUGE_WITH_SECONDS(){return an}};function Dr(n){if(Z.isDateTime(n))return n;if(n&&n.valueOf&&Re(n.valueOf()))return Z.fromJSDate(n);if(n&&typeof n=="object")return Z.fromObject(n);throw new Yt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var ie=Bs(ru(),1);var Wn,Dl=new Uint8Array(16);function yo(){if(!Wn&&(Wn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wn(Dl)}var nu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ml(n){return typeof n=="string"&&nu.test(n)}var iu=Ml;var Jt=[];for($n=0;$n<256;++$n)Jt.push(($n+256).toString(16).substr(1));var $n;function xl(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(Jt[n[e+0]]+Jt[n[e+1]]+Jt[n[e+2]]+Jt[n[e+3]]+"-"+Jt[n[e+4]]+Jt[n[e+5]]+"-"+Jt[n[e+6]]+Jt[n[e+7]]+"-"+Jt[n[e+8]]+Jt[n[e+9]]+"-"+Jt[n[e+10]]+Jt[n[e+11]]+Jt[n[e+12]]+Jt[n[e+13]]+Jt[n[e+14]]+Jt[n[e+15]]).toLowerCase();if(!iu(i))throw TypeError("Stringified UUID is invalid");return i}var ou=xl;function bl(n,e,i){n=n||{};var s=n.random||(n.rng||yo)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){i=i||0;for(var c=0;c<16;++c)e[i+c]=s[c];return e}return ou(s)}var vo=bl;var kl=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),_o={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},Al={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},Nl=[2,3,4,9,10,11],Fl=[4,5,6,10,11,12,1],Ll={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},Rl={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function zl(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,kl)}function su(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function To(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function Cl(n){return e=>e.set({hour:n.hour,minute:n.minute})}var uu=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,cu=new RegExp(uu);function Ul(n){return cu.test(n)}var jl=`${Object.keys(_o).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${uu}|\\(|\\)`;function Vl(n,e){let i=!0,s=parseInt(n[2]),c=parseInt(e[2]),d=parseInt(n[3]+n[2]+n[1]),l=parseInt(e[3]+e[2]+e[1]);return(Nl.indexOf(s)===-1||Fl.indexOf(c)===-1||s>12||c>12||d>l)&&(i=!1),i}function au(n){let e=n.split("-"),i=parseInt(e[2]),s=Al[e[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let c=parseInt(e[0]);return Z.fromObject({year:i,month:s,day:c,hour:12,minute:0},{zone:"Europe/Rome"})}function ql(n,e){let i=[];for(let d of e)d[3]!==void 0&&i.push(d[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,c=[...n.matchAll(s)];for(let d of c)i.push(d[1].trim());return i=[...new Set(i)],i}function fu(n,e){let i=null,s=Rl[Ll[n]||"en"];e.length===1?i="one":e.length>1&&(i="many");let c="";return i!=null&&(c=s[i]),c}function Pl(n,e,i){let s=[],c=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2}), (.+?(?=\sin\s|\sClassroom\s|\sAula\s))(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,d=[...n.split(c)];d.splice(0,1);let l=8,m=d.length/l;for(let g=0;g<m;g++){let b=d[g*l+1],U=d[g*l+2],B=d[g*l+3],ot=d[g*l+4],P=d[g*l+5];P=P[0].toUpperCase()+P.substring(1);let mt=d[g*l+6],It=d[g*l+7].split(`

`)[0].trim().split(`
`);It=It.filter(Ul);let Et=au(It.splice(0,1)[0]),Lt=Et.set({hour:b,minute:U}),$t=Et.set({hour:B,minute:ot}),je=fu(P,e),oe={summary:i,start:Lt,end:$t,dtstamp:Z.now(),location:mt,description:P+`
`+je+`
`+e.join(`
`)};It.length>0&&(oe.rdate=It.map(au).map(Cl(Lt)).map(To).join(",")),s.push(oe)}return{data:s,error:null}}function Hl(n,e,i,s,c){e.lastIndex=0;let d=[...n.matchAll(e)];if(d.length>1){let l=[],m="";for(let U of n.split(`
`))i.test(U)?(m=m.trim(),m!==""&&l.push(m),m=U):m+=`
`+U;m=m.trim(),m!==""&&l.push(m);let g=Zn(l[0],s),b=Zn(l.slice(1).join(`
`),s);return{data:[...g.data,...b.data],error:g.error||b.error}}else if(d.length===1){let l=d[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,g=m.exec(l[2]),b=m.exec(l[3]),B=Vl(g,b)?"dd/MM/yyyy":"MM/dd/yyyy",ot=Z.fromFormat(l[2],B,{zone:"Europe/Rome"}),P=Z.fromFormat(l[3],B,{zone:"Europe/Rome"});if(ot.valueOf()>P.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${ot} > ${P})`};let mt=[],It=/[^\n]+\n[^\n]+\n?([\s\S]*)/.exec(n);if(It!==null&&It[1]!==""){let Et=It[1].trim().split(`

`)[0].split(`
`);for(let Lt of Et){let $t=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(Lt);if($t===null)continue;let je=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,oe=_o[$t[1]],se=ot;oe<ot.weekday?se=ot.set({day:ot.day-ot.weekday+7+oe}):se=ot.set({day:ot.day-ot.weekday+oe});let Mr=$t.groups.startMidday!==void 0&&$t.groups.startMidday[0]==="p"?12:0;se=se.set({hour:parseInt($t[2])+Mr,minute:parseInt($t[3])});let ae=P;if(oe<=P.weekday?ae=P.set({day:P.day-P.weekday+oe}):ae=P.set({day:P.day-P.weekday-7+oe}),ae=ae.set({hour:se.hour,minute:se.minute}),se.valueOf()>ae.valueOf())return{data:mt,error:`First day is unexpectedly greater than Last day (${se} > ${ae})`};let Se=se,xr=$t.groups.endMidday!==void 0&&$t.groups.endMidday[0]==="p"?12:0;Se=Se.set({hour:parseInt($t[5])+xr,minute:parseInt($t[6])});let br=null,nr=null;if(!je.test(Lt)){let ir=/,\s*(.+)\s+in\s+(?:.*?)(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(Lt);if(ir===null){let Tn=/,\s*(?:classroom lesson)?\s*(.*)/.exec(Lt);Tn!==null&&(nr="Lesson",br=Tn[1])}else nr=ir[1][0].toUpperCase()+ir[1].substring(1),br=ir[2]}let Bn=fu(nr,s);mt.push({summary:c,start:se,end:Se,dtstamp:Z.now(),location:br,rrule:"FREQ=WEEKLY;UNTIL="+To(ae),description:nr+`
`+Bn+`
`+s.join(`
`)})}}return{data:mt,error:null}}}var go=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${jl})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function Zn(n,e=null,i=null){let s=[...n.matchAll(go)];if(s.length===0)return{data:[],error:null};let c=ql(n,s);if(c.length===0&&e!==null&&(c=e),i!==null&&s.length>1&&n.includes(i)){let b=[];for(let U of n.split(i)){let B=Zn(U.trim(),c);if(b=[...b,...B.data],B.error!==null)return{data:b,error:B.error}}return{data:b,error:null}}let d=/\s*(?:L'orario non è stato definito|The schedule has not been defined)/,l=/\s*(?:Nessun orario definito|No timetable defined)/;if(d.test(n)||l.test(n))return{data:[],error:null};let m=s[s.length-1][2],g=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return g.test(n)?Hl(n,g,go,c,m):Pl(n,c,m)}var Wl=Object.keys(_o).join("|");function $l(n,e,i,s,c,d){let l=i.match(/.{11}/g);return`${e}
${l.join(`
`)}`}function Zl(n){return n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<aiucDate>(${cu.source})+)`,"g"),$l).replace(new RegExp(`(\\S)(${Wl})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${go.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`)}function Bl(n){try{let e=Zl(n),i=`


`;e.trim().includes(`



`)&&(i=`



`);let s=e.trim().split(i),c=[];for(let d of s){let l=Zn(d.trim(),null,i.slice(0,-1));if(c=[...c,...l.data],l.error!==null)return{data:c,error:l.error}}return c.length===0&&e.trim().length!==0?{data:[],error:"No courses detected"}:{data:c,error:null}}catch(e){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+e.message+")"),{data:[],error:e.message}}}function lu(n,e=!0){let i=Bl(n);if(i.error!==null)return e&&console.error("Unable to create iCalendar file! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),{data:"",error:i.error};{let s=new ie.Property({name:"VERSION",value:2}),c=new ie.Property({name:"PRODID",value:"bebora@github"}),d=new ie.Component({name:"VCALENDAR",properties:[s,c]});for(let m of i.data){let g=new ie.Component({name:"VEVENT",properties:[new ie.Property({name:"SUMMARY",value:m.summary}),new ie.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:su(m.start)}),new ie.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:su(m.end)}),new ie.Property({name:"DTSTAMP",value:To(m.dtstamp)}),new ie.Property({name:"UID",value:vo()})]});m.location!==void 0&&(g=g.pushProperty(new ie.Property({name:"LOCATION",value:m.location}))),m.description!==void 0&&(g=g.pushProperty(new ie.Property({name:"DESCRIPTION",value:m.description}))),m.rrule!==void 0&&(g=g.pushProperty(new ie.Property({name:"RRULE",value:m.rrule}))),m.rdate!==void 0&&(g=g.pushProperty(new ie.Property({name:"RDATE",value:m.rdate}))),d=d.pushComponent(g)}let l=d.toString();return{data:zl(l),error:null}}}var du=Bs(hu(),1);function Gl(n){return new Promise(e=>setTimeout(e,n))}async function Yl(){try{let n,e,i=!1;if(/.*GestioneCarrelloPublic\.do.*/.test(window.location.href)){document.getElementById("orarioTestuale")!=null&&(i=!0);let c=document.getElementsByClassName("ui-tabs-nav ui-helper-reset ui-helper-clearfix")[0].children[0].children[0];c.innerText.indexOf("iCalendar")===-1&&(c.innerText+=" + file iCalendar"),n=document.getElementsByClassName("ElementInfoCard2 ui-corner-bottom")[0].children[0],e=n.children[1].innerText}else{i=!0,await Gl(100),n=document.getElementsByClassName("tabs polij_tabs ui-tabs ui-corner-all ui-widget ui-widget-content")[0];let s=document.createElement("DIV");s.innerHTML=document.getElementById("orarioTestuale").innerHTML,s.style.display="block",s.style.height="0px",s.style.width="0px",s.style.overflow="hidden",document.body.appendChild(s),e=s.innerText}if(i&&document.getElementById("exportCalButton")==null){let s=lu(e,!1);if(s.error!==null)console.error(s.error),alert("The userscript can't detect any course, please add something to the timetable");else{let c=document.createElement("BUTTON");c.innerHTML="Esporta orario come iCalendar",c.type="button",c.style.marginTop="35px",c.style.backgroundColor="#c0ff85",c.id="exportCalButton",n.appendChild(c),c.addEventListener("click",function(){let d=new Blob([s.data||"Something has prevented the script from correctly creating the calendar"],{type:"text/plain;charset=utf-8"});(0,du.saveAs)(d,"orarioPolimi.ics")})}}}catch(n){console.error("Error while adding download button to page. ("+n.message+")")}}Yl();})();
