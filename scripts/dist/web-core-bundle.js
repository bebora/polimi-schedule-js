var bundle=(()=>{var Mc=Object.create;var Wn=Object.defineProperty;var xc=Object.getOwnPropertyDescriptor;var Ac=Object.getOwnPropertyNames;var Nc=Object.getPrototypeOf,Fc=Object.prototype.hasOwnProperty;var ha=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Lc=(n,t)=>{for(var i in t)Wn(n,i,{get:t[i],enumerable:!0})},da=(n,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of Ac(t))!Fc.call(n,l)&&l!==i&&Wn(n,l,{get:()=>t[l],enumerable:!(s=xc(t,l))||s.enumerable});return n};var pa=(n,t,i)=>(i=n!=null?Mc(Nc(n)):{},da(t||!n||!n.__esModule?Wn(i,"default",{value:n,enumerable:!0}):i,n)),zc=n=>da(Wn({},"__esModule",{value:!0}),n);var zu=ha((oi,Lu)=>{(function(n,t){typeof oi=="object"&&typeof Lu<"u"?t(oi):typeof define=="function"&&define.amd?define(["exports"],t):t(n["immutable-ics"]={})})(oi,function(n){"use strict";var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(y,T){return T={exports:{}},y(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l=function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")},c=function(){function y(T,L){for(var w=0;w<L.length;w++){var U=L[w];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,L,w){return L&&y(T.prototype,L),w&&y(T,w),T}}(),h=function(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)},m=function(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y},v=function(){function y(T,L){var w=[],U=!0,ne=!1,K=void 0;try{for(var Q=T[Symbol.iterator](),ae;!(U=(ae=Q.next()).done)&&(w.push(ae.value),!(L&&w.length===L));U=!0);}catch(ce){ne=!0,K=ce}finally{try{!U&&Q.return&&Q.return()}finally{if(ne)throw K}}return w}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return y(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(y){if(Array.isArray(y)){for(var T=0,L=Array(y.length);T<y.length;T++)L[T]=y[T];return L}else return Array.from(y)},z=i(function(y){(function(T,L){y.exports=L()})(t,function(){"use strict";function T(e,r){r&&(e.prototype=Object.create(r.prototype)),e.prototype.constructor=e}function L(e){return K(e)?e:x(e)}function w(e){return Q(e)?e:E(e)}function U(e){return ae(e)?e:I(e)}function ne(e){return K(e)&&!ce(e)?e:b(e)}function K(e){return!!(e&&e[Bs])}function Q(e){return!!(e&&e[Gs])}function ae(e){return!!(e&&e[Ys])}function ce(e){return Q(e)||ae(e)}function de(e){return!!(e&&e[gr])}function We(e){return e.value=!1,e}function _e(e){e&&(e.value=!0)}function Te(){}function ie(e,r){r=r||0;for(var o=rr(0,e.length-r),a=Array(o),u=0;u<o;u++)a[u]=e[u+r];return a}function $(e){return e.size===void 0&&(e.size=e.__iterate(Pe)),e.size}function te(e,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?$(e)+r:r}function Pe(){return!0}function at(e,r,o){return(e===0||o!==void 0&&e<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Ve(e,r){return Le(e,r,0)}function $e(e,r){return Le(e,r,r)}function Le(e,r,o){return e===void 0?o:0>e?rr(0,r+e):r===void 0?e:Math.min(r,e)}function J(e){this.next=e}function C(e,r,o,a){var u=e===0?r:e===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function pe(){return{value:void 0,done:!0}}function Qe(e){return!!B(e)}function je(e){return e&&typeof e.next=="function"}function et(e){var r=B(e);return r&&r.call(e)}function B(e){var r=e&&(ji&&e[ji]||e[Ks]);if(typeof r=="function")return r}function Y(e){return e&&typeof e.length=="number"}function x(e){return e==null?A():K(e)?e.toSeq():H(e)}function E(e){return e==null?A().toKeyedSeq():K(e)?Q(e)?e.toSeq():e.fromEntrySeq():R(e)}function I(e){return e==null?A():K(e)?Q(e)?e.entrySeq():e.toIndexedSeq():q(e)}function b(e){return(e==null?A():K(e)?Q(e)?e.entrySeq():e:q(e)).toSetSeq()}function M(e){this._array=e,this.size=e.length}function F(e){var r=Object.keys(e);this._object=e,this._keys=r,this.size=r.length}function S(e){this._iterable=e,this.size=e.length||e.size}function p(e){this._iterator=e,this._iteratorCache=[]}function _(e){return!!(e&&e[Xs])}function A(){return Qs||(Qs=new M([]))}function R(e){var r=Array.isArray(e)?new M(e).fromEntrySeq():je(e)?new p(e).fromEntrySeq():Qe(e)?new S(e).fromEntrySeq():(typeof e>"u"?"undefined":s(e))==="object"?new F(e):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return r}function q(e){var r=re(e);if(!r)throw new TypeError("Expected Array or iterable object of values: "+e);return r}function H(e){var r=re(e)||(typeof e>"u"?"undefined":s(e))==="object"&&new F(e);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return r}function re(e){return Y(e)?new M(e):je(e)?new p(e):Qe(e)?new S(e):void 0}function oe(e,r,o,a){var u=e._cache;if(u){for(var f,d=u.length-1,g=0;g<=d;g++)if(f=u[o?d-g:g],r(f[1],a?f[0]:g,e)===!1)return g+1;return g}return e.__iterateUncached(r,o)}function Me(e,r,o,a){var u=e._cache;if(u){var f=u.length-1,d=0;return new J(function(){var g=u[o?f-d:d];return d++>f?pe():C(r,a?g[0]:d-1,g[1])})}return e.__iteratorUncached(r,o)}function St(e,r){return r?vi(r,e,"",{"":e}):gi(e)}function vi(e,r,o,a){return Array.isArray(r)?e.call(a,o,I(r).map(function(u,f){return vi(e,u,f,r)})):fs(r)?e.call(a,o,E(r).map(function(u,f){return vi(e,u,f,r)})):r}function gi(e){return Array.isArray(e)?I(e).map(gi).toList():fs(e)?E(e).map(gi).toMap():e}function fs(e){return e&&(e.constructor===Object||e.constructor===void 0)}function Ce(e,r){if(e===r||e!==e&&r!==r)return!0;if(!e||!r)return!1;if(typeof e.valueOf=="function"&&typeof r.valueOf=="function"){if(e=e.valueOf(),r=r.valueOf(),e===r||e!==e&&r!==r)return!0;if(!e||!r)return!1}return typeof e.equals=="function"&&typeof r.equals=="function"&&e.equals(r)}function _i(e,r){if(e===r)return!0;if(!K(r)||e.size!==void 0&&r.size!==void 0&&e.size!==r.size||e.__hash!==void 0&&r.__hash!==void 0&&e.__hash!==r.__hash||Q(e)!==Q(r)||ae(e)!==ae(r)||de(e)!==de(r))return!1;if(e.size===0&&r.size===0)return!0;var o=!ce(e);if(de(e)){var a=e.entries();return r.every(function(O,k){var N=a.next().value;return N&&Ce(N[1],O)&&(o||Ce(N[0],k))})&&a.next().done}var u=!1;if(e.size===void 0)if(r.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{u=!0;var f=e;e=r,r=f}var d=!0,g=r.__iterate(function(O,k){if(o?!e.has(O):u?!Ce(O,e.get(k,ue)):!Ce(e.get(k,ue),O))return d=!1,!1});return d&&e.size===g}function Je(e,r){if(!(this instanceof Je))return new Je(e,r);if(this._value=e,this.size=r===void 0?1/0:rr(0,r),this.size===0){if(Vi)return Vi;Vi=this}}function bn(e,r){if(!e)throw new Error(r)}function Be(e,r,o){if(!(this instanceof Be))return new Be(e,r,o);if(bn(o!==0,"Cannot step a Range by 0"),e=e||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<e&&(o=-o),this._start=e,this._end=r,this._step=o,this.size=rr(0,Math.ceil((r-e)/o-1)+1),this.size===0){if(qi)return qi;qi=this}}function Ht(){throw TypeError("Abstract")}function Cr(){}function cr(){}function Mn(){}function Ti(e){return 1073741824&e>>>1|3221225471&e}function ut(e){if(e===!1||e===null||e===void 0||typeof e.valueOf=="function"&&(e=e.valueOf(),e===!1||e===null||e===void 0))return 0;if(e===!0)return 1;var r=typeof e>"u"?"undefined":s(e);if(r==="number"){if(e!==e||e===1/0)return 0;var o=0|e;for(o!==e&&(o^=4294967295*e);4294967295<e;)e/=4294967295,o^=e;return Ti(o)}if(r==="string")return e.length>Sc?tc(e):wi(e);if(typeof e.hashCode=="function")return e.hashCode();if(r==="object")return rc(e);if(typeof e.toString=="function")return wi(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function tc(e){var r=Gi[e];return r===void 0&&(r=wi(e),Bi===Oc&&(Bi=0,Gi={}),Bi++,Gi[e]=r),r}function wi(e){for(var r=0,o=0;o<e.length;o++)r=0|31*r+e.charCodeAt(o);return Ti(r)}function rc(e){var r;if(Zi&&(r=Hi.get(e),r!==void 0)||(r=e[nr],r!==void 0)||!ta&&(r=e.propertyIsEnumerable&&e.propertyIsEnumerable[nr],r!==void 0||(r=nc(e),r!==void 0)))return r;if(r=++$i,1073741824&$i&&($i=0),Zi)Hi.set(e,r);else{if(ea!==void 0&&ea(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(ta)Object.defineProperty(e,nr,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[nr]=r;else if(e.nodeType!==void 0)e[nr]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function nc(e){if(e&&0<e.nodeType)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function lt(e){bn(e!==1/0,"Cannot perform this action with an infinite size.")}function fe(e){return e==null?Ot():Ei(e)&&!de(e)?e:Ot().withMutations(function(r){var o=w(e);lt(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function Ei(e){return!!(e&&e[ra])}function Rr(e,r){this.ownerID=e,this.entries=r}function fr(e,r,o){this.ownerID=e,this.bitmap=r,this.nodes=o}function Ur(e,r,o){this.ownerID=e,this.count=r,this.nodes=o}function hr(e,r,o){this.ownerID=e,this.keyHash=r,this.entries=o}function Rt(e,r,o){this.ownerID=e,this.keyHash=r,this.entry=o}function Ii(e,r,o){this._type=r,this._reverse=o,this._stack=e._root&&hs(e._root)}function Si(e,r){return C(e,r[0],r[1])}function hs(e,r){return{node:e,index:0,__prev:r}}function Oi(e,r,o,a){var u=Object.create(se);return u.size=e,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ot(){return na||(na=Oi(0))}function ds(e,r,o){var a,u;if(e._root){var f=We(Ic),d=We(Js);if(a=ki(e._root,e.__ownerID,0,void 0,r,o,f,d),!d.value)return e;u=e.size+(f.value?o===ue?-1:1:0)}else{if(o===ue)return e;u=1,a=new Rr(e.__ownerID,[[r,o]])}return e.__ownerID?(e.size=u,e._root=a,e.__hash=void 0,e.__altered=!0,e):a?Oi(u,a):Ot()}function ki(e,r,o,a,u,f,d,g){return e?e.update(r,o,a,u,f,d,g):f===ue?e:(_e(g),_e(d),new Rt(r,a,[u,f]))}function ps(e){return e.constructor===Rt||e.constructor===hr}function Di(e,r,o,a,u){if(e.keyHash===a)return new hr(r,a,[e.entry,u]);var f,d=(o===0?e.keyHash:e.keyHash>>>o)&tt,g=(o===0?a:a>>>o)&tt,O=d==g?[Di(e,r,o+ke,a,u)]:(f=new Rt(r,a,u),d<g?[e,f]:[f,e]);return new fr(r,1<<d|1<<g,O)}function ic(e,r,o,a){e||(e=new Te);for(var u,f=new Rt(e,ut(o),[o,a]),d=0;d<r.length;d++)u=r[d],f=f.update(e,0,void 0,u[0],u[1]);return f}function oc(e,r,o,a){for(var u,f=0,d=0,g=Array(o),O=0,k=1,N=r.length;O<N;O++,k<<=1)u=r[O],u!==void 0&&O!==a&&(f|=k,g[d++]=u);return new fr(e,f,g)}function sc(e,r,o,a,u){for(var f=0,d=Array(yt),g=0;o!==0;g++,o>>>=1)d[g]=1&o?r[f++]:void 0;return d[a]=u,new Ur(e,f+1,d)}function xn(e,r,o){for(var a=[],u=0;u<o.length;u++){var f=o[u],d=w(f);K(f)||(d=d.map(function(g){return St(g)})),a.push(d)}return vs(e,r,a)}function ms(e,r){return e&&e.mergeDeep&&K(r)?e.mergeDeep(r):Ce(e,r)?e:r}function ys(e){return function(r,o,a){if(r&&r.mergeDeepWith&&K(o))return r.mergeDeepWith(e,o);var u=e(r,o,a);return Ce(r,u)?r:u}}function vs(e,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?e:e.size!==0||e.__ownerID||o.length!==1?e.withMutations(function(a){for(var u=r?function(d,g){a.update(g,ue,function(O){return O===ue?d:r(O,d,g)})}:function(d,g){a.set(g,d)},f=0;f<o.length;f++)o[f].forEach(u)}):e.constructor(o[0])}function gs(e,r,o,a){var u=e===ue,f=r.next();if(f.done){var d=u?o:e,g=a(d);return g===d?e:g}bn(u||e&&e.set,"invalid keyPath");var O=f.value,k=u?ue:e.get(O,ue),N=gs(k,r,o,a);return N===k?e:N===ue?e.remove(O):(u?Ot():e).set(O,N)}function _s(e){return e-=1431655765&e>>1,e=(858993459&e)+(858993459&e>>2),e=252645135&e+(e>>4),e+=e>>8,e+=e>>16,127&e}function Ts(e,r,o,a){var u=a?e:ie(e);return u[r]=o,u}function ac(e,r,o,a){var u=e.length+1;if(a&&r+1===u)return e[r]=o,e;for(var f=Array(u),d=0,g=0;g<u;g++)g===r?(f[g]=o,d=-1):f[g]=e[g+d];return f}function uc(e,r,o){var a=e.length-1;if(o&&r===a)return e.pop(),e;for(var u=Array(a),f=0,d=0;d<a;d++)d===r&&(f=1),u[d]=e[d+f];return u}function Oe(e){var r=bi();if(e==null)return r;if(ws(e))return e;var o=U(e),a=o.size;return a===0?r:(lt(a),0<a&&a<yt?Wr(0,a,ke,null,new Zt(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(f,d){return u.set(d,f)})}))}function ws(e){return!!(e&&e[ia])}function Zt(e,r){this.array=e,this.ownerID=r}function Es(e,r){function o(k,N,P){return N===0?a(k,P):u(k,N,P)}function a(k,N){var P=N===g?O&&O.array:k&&k.array,Z=N>f?0:f-N,ee=d-N;return ee>yt&&(ee=yt),function(){if(Z==ee)return Zr;var le=r?--ee:Z++;return P&&P[le]}}function u(k,N,P){var Z,ee=k&&k.array,le=P>f?0:f-P>>N,xe=(d-P>>N)+1;return xe>yt&&(xe=yt),function(){do{if(Z){var gt=Z();if(gt!==Zr)return gt;Z=null}if(le==xe)return Zr;var kt=r?--xe:le++;Z=o(ee&&ee[kt],N-ke,P+(kt<<N))}while(!0)}}var f=e._origin,d=e._capacity,g=jr(d),O=e._tail;return o(e._root,e._level,0)}function Wr(e,r,o,a,u,f,d){var g=Object.create(rt);return g.size=r-e,g._origin=e,g._capacity=r,g._level=o,g._root=a,g._tail=u,g.__ownerID=f,g.__hash=d,g.__altered=!1,g}function bi(){return oa||(oa=Wr(0,0,ke))}function lc(e,r,o){if(r=te(e,r),r!==r)return e;if(r>=e.size||0>r)return e.withMutations(function(d){0>r?$t(d,r).set(0,o):$t(d,0,r+1).set(r,o)});r+=e._origin;var a=e._tail,u=e._root,f=We(Js);return r>=jr(e._capacity)?a=Mi(a,e.__ownerID,0,r,o,f):u=Mi(u,e.__ownerID,e._level,r,o,f),f.value?e.__ownerID?(e._root=u,e._tail=a,e.__hash=void 0,e.__altered=!0,e):Wr(e._origin,e._capacity,e._level,u,a):e}function Mi(e,r,o,a,u,f){var d=a>>>o&tt,g=e&&d<e.array.length;if(!g&&u===void 0)return e;var O;if(0<o){var k=e&&e.array[d],N=Mi(k,r,o-ke,a,u,f);return N===k?e:(O=dr(e,r),O.array[d]=N,O)}return g&&e.array[d]===u?e:(_e(f),O=dr(e,r),u===void 0&&d==O.array.length-1?O.array.pop():O.array[d]=u,O)}function dr(e,r){return r&&e&&r===e.ownerID?e:new Zt(e?e.array.slice():[],r)}function Is(e,r){if(r>=jr(e._capacity))return e._tail;if(r<1<<e._level+ke){for(var o=e._root,a=e._level;o&&0<a;)o=o.array[r>>>a&tt],a-=ke;return o}}function $t(e,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=e.__ownerID||new Te,u=e._origin,f=e._capacity,d=u+r,g=o===void 0?f:0>o?f+o:u+o;if(d===u&&g===f)return e;if(d>=g)return e.clear();for(var O=e._level,k=e._root,N=0;0>d+N;)k=new Zt(k&&k.array.length?[void 0,k]:[],a),O+=ke,N+=1<<O;N&&(d+=N,u+=N,g+=N,f+=N);for(var P=jr(f),Z=jr(g);Z>=1<<O+ke;)k=new Zt(k&&k.array.length?[k]:[],a),O+=ke;var ee=e._tail,le=Z<P?Is(e,g-1):Z>P?new Zt([],a):ee;if(ee&&Z>P&&d<f&&ee.array.length){k=dr(k,a);for(var xe,gt=k,kt=O;kt>ke;kt-=ke)xe=P>>>kt&tt,gt=gt.array[xe]=dr(gt.array[xe],a);gt.array[P>>>ke&tt]=ee}if(g<f&&(le=le&&le.removeAfter(a,0,g)),d>=Z)d-=Z,g-=Z,O=ke,k=null,le=le&&le.removeBefore(a,0,d);else if(d>u||Z<P){for(N=0;k;){var Un=d>>>O&tt;if(Un!=Z>>>O&tt)break;Un&&(N+=(1<<O)*Un),O-=ke,k=k.array[Un]}k&&d>u&&(k=k.removeBefore(a,O,d-N)),k&&Z<P&&(k=k.removeAfter(a,O,Z-N)),N&&(d-=N,g-=N)}return e.__ownerID?(e.size=g-d,e._origin=d,e._capacity=g,e._level=O,e._root=k,e._tail=le,e.__hash=void 0,e.__altered=!0,e):Wr(d,g,O,k,le)}function An(e,r,o){for(var a=[],u=0,f=0;f<o.length;f++){var d=o[f],g=U(d);g.size>u&&(u=g.size),K(d)||(g=g.map(function(O){return St(O)})),a.push(g)}return u>e.size&&(e=e.setSize(u)),vs(e,r,a)}function jr(e){return e<yt?0:e-1>>>ke<<ke}function ze(e){return e==null?Nn():Ss(e)?e:Nn().withMutations(function(r){var o=w(e);lt(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function Ss(e){return Ei(e)&&de(e)}function xi(e,r,o,a){var u=Object.create(ze.prototype);return u.size=e?e.size:0,u._map=e,u._list=r,u.__ownerID=o,u.__hash=a,u}function Nn(){return sa||(sa=xi(Ot(),bi()))}function Os(e,r,o){var a,u,f=e._map,d=e._list,g=f.get(r),O=g!==void 0;if(o===ue){if(!O)return e;d.size>=yt&&d.size>=2*f.size?(u=d.filter(function(k,N){return k!==void 0&&g!==N}),a=u.toKeyedSeq().map(function(k){return k[0]}).flip().toMap(),e.__ownerID&&(a.__ownerID=u.__ownerID=e.__ownerID)):(a=f.remove(r),u=g===d.size-1?d.pop():d.set(g,void 0))}else if(O){if(o===d.get(g)[1])return e;a=f,u=d.set(g,[r,o])}else a=f.set(r,d.size),u=d.set(d.size,[r,o]);return e.__ownerID?(e.size=a.size,e._map=a,e._list=u,e.__hash=void 0,e):xi(a,u)}function pt(e,r){this._iter=e,this._useKeys=r,this.size=e.size}function pr(e){this._iter=e,this.size=e.size}function mr(e){this._iter=e,this.size=e.size}function yr(e){this._iter=e,this.size=e.size}function ks(e){var r=Nt(e);return r._iter=e,r.size=e.size,r.flip=function(){return e},r.reverse=function(){var o=e.reverse.apply(this);return o.flip=function(){return e.reverse()},o},r.has=function(o){return e.includes(o)},r.includes=function(o){return e.has(o)},r.cacheResult=Li,r.__iterateUncached=function(o,a){var u=this;return e.__iterate(function(f,d){return o(d,f,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===zt){var u=e.__iterator(o,a);return new J(function(){var f=u.next();if(!f.done){var d=f.value[0];f.value[0]=f.value[1],f.value[1]=d}return f})}return e.__iterator(o===vt?qr:vt,a)},r}function Ds(e,r,o){var a=Nt(e);return a.size=e.size,a.has=function(u){return e.has(u)},a.get=function(u,f){var d=e.get(u,ue);return d===ue?f:r.call(o,d,u,e)},a.__iterateUncached=function(u,f){var d=this;return e.__iterate(function(g,O,k){return u(r.call(o,g,O,k),O,d)!==!1},f)},a.__iteratorUncached=function(u,f){var d=e.__iterator(zt,f);return new J(function(){var g=d.next();if(g.done)return g;var O=g.value,k=O[0];return C(u,k,r.call(o,O[1],k,e),g)})},a}function Ai(e,r){var o=Nt(e);return o._iter=e,o.size=e.size,o.reverse=function(){return e},e.flip&&(o.flip=function(){var a=ks(e);return a.reverse=function(){return e.flip()},a}),o.get=function(a,u){return e.get(r?a:-1-a,u)},o.has=function(a){return e.has(r?a:-1-a)},o.includes=function(a){return e.includes(a)},o.cacheResult=Li,o.__iterate=function(a,u){var f=this;return e.__iterate(function(d,g){return a(d,g,f)},!u)},o.__iterator=function(a,u){return e.__iterator(a,!u)},o}function bs(e,r,o,a){var u=Nt(e);return a&&(u.has=function(f){var d=e.get(f,ue);return d!==ue&&!!r.call(o,d,f,e)},u.get=function(f,d){var g=e.get(f,ue);return g!==ue&&r.call(o,g,f,e)?g:d}),u.__iterateUncached=function(f,d){var g=this,O=0;return e.__iterate(function(k,N,P){if(r.call(o,k,N,P))return O++,f(k,a?N:O-1,g)},d),O},u.__iteratorUncached=function(f,d){var g=e.__iterator(zt,d),O=0;return new J(function(){for(;;){var k=g.next();if(k.done)return k;var N=k.value,P=N[0],Z=N[1];if(r.call(o,Z,P,e))return C(f,a?P:O++,Z,k)}})},u}function cc(e,r,o){var a=fe().asMutable();return e.__iterate(function(u,f){a.update(r.call(o,u,f,e),0,function(d){return d+1})}),a.asImmutable()}function fc(e,r,o){var a=Q(e),u=(de(e)?ze():fe()).asMutable();e.__iterate(function(d,g){u.update(r.call(o,d,g,e),function(O){return O=O||[],O.push(a?[g,d]:d),O})});var f=Ls(e);return u.map(function(d){return Ee(e,f(d))})}function Ni(e,r,o,a){var u=e.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),at(r,o,u))return e;var f=Ve(r,u),d=$e(o,u);if(f!==f||d!==d)return Ni(e.toSeq().cacheResult(),r,o,a);var g,O=d-f;O==O&&(g=0>O?0:O);var k=Nt(e);return k.size=g===0?g:e.size&&g||void 0,!a&&_(e)&&0<=g&&(k.get=function(N,P){return N=te(this,N),0<=N&&N<g?e.get(N+f,P):P}),k.__iterateUncached=function(N,P){var Z=this;if(g===0)return 0;if(P)return this.cacheResult().__iterate(N,P);var ee=0,le=!0,xe=0;return e.__iterate(function(gt,kt){if(!(le&&(le=ee++<f)))return xe++,N(gt,a?kt:xe-1,Z)!==!1&&xe!==g}),xe},k.__iteratorUncached=function(N,P){if(g!==0&&P)return this.cacheResult().__iterator(N,P);var Z=g!==0&&e.__iterator(N,P),ee=0,le=0;return new J(function(){for(;ee++<f;)Z.next();if(++le>g)return pe();var xe=Z.next();return a||N===vt?xe:N===qr?C(N,le-1,void 0,xe):C(N,le-1,xe.value[1],xe)})},k}function hc(e,r,o){var a=Nt(e);return a.__iterateUncached=function(u,f){var d=this;if(f)return this.cacheResult().__iterate(u,f);var g=0;return e.__iterate(function(O,k,N){return r.call(o,O,k,N)&&++g&&u(O,k,d)}),g},a.__iteratorUncached=function(u,f){var d=this;if(f)return this.cacheResult().__iterator(u,f);var g=e.__iterator(zt,f),O=!0;return new J(function(){if(!O)return pe();var k=g.next();if(k.done)return k;var N=k.value,P=N[0],Z=N[1];return r.call(o,Z,P,d)?u===zt?k:C(u,P,Z,k):(O=!1,pe())})},a}function Ms(e,r,o,a){var u=Nt(e);return u.__iterateUncached=function(f,d){var g=this;if(d)return this.cacheResult().__iterate(f,d);var O=!0,k=0;return e.__iterate(function(N,P,Z){if(!(O&&(O=r.call(o,N,P,Z))))return k++,f(N,a?P:k-1,g)}),k},u.__iteratorUncached=function(f,d){var g=this;if(d)return this.cacheResult().__iterator(f,d);var O=e.__iterator(zt,d),k=!0,N=0;return new J(function(){var P,Z,ee;do{if(P=O.next(),P.done)return a||f===vt?P:f===qr?C(f,N++,void 0,P):C(f,N++,P.value[1],P);var le=P.value;Z=le[0],ee=le[1],k&&(k=r.call(o,ee,Z,g))}while(k);return f===zt?P:C(f,Z,ee,P)})},u}function dc(e,r){var o=Q(e),a=[e].concat(r).map(function(d){return K(d)?o&&(d=w(d)):d=o?R(d):q(Array.isArray(d)?d:[d]),d}).filter(function(d){return d.size!==0});if(a.length===0)return e;if(a.length===1){var u=a[0];if(u===e||o&&Q(u)||ae(e)&&ae(u))return u}var f=new M(a);return o?f=f.toKeyedSeq():!ae(e)&&(f=f.toSetSeq()),f=f.flatten(!0),f.size=a.reduce(function(d,g){if(d!==void 0){var O=g.size;if(O!==void 0)return d+O}},0),f}function xs(e,r,o){var a=Nt(e);return a.__iterateUncached=function(u,f){function d(k,N){var P=this;k.__iterate(function(Z,ee){return(!r||N<r)&&K(Z)?d(Z,N+1):u(Z,o?ee:g++,P)===!1&&(O=!0),!O},f)}var g=0,O=!1;return d(e,0),g},a.__iteratorUncached=function(u,f){var d=e.__iterator(u,f),g=[],O=0;return new J(function(){for(;d;){var k=d.next();if(k.done!==!1){d=g.pop();continue}var N=k.value;if(u===zt&&(N=N[1]),(!r||g.length<r)&&K(N))g.push(d),d=N.__iterator(u,f);else return o?k:C(u,O++,N,k)}return pe()})},a}function pc(e,r,o){var a=Ls(e);return e.toSeq().map(function(u,f){return a(r.call(o,u,f,e))}).flatten(!0)}function mc(e,r){var o=Nt(e);return o.size=e.size&&2*e.size-1,o.__iterateUncached=function(a,u){var f=this,d=0;return e.__iterate(function(g){return(!d||a(r,d++,f)!==!1)&&a(g,d++,f)!==!1},u),d},o.__iteratorUncached=function(a,u){var f,d=e.__iterator(vt,u),g=0;return new J(function(){return(!f||g%2)&&(f=d.next(),f.done)?f:g%2?C(a,g++,r):C(a,g++,f.value,f)})},o}function vr(e,r,o){r||(r=zs);var a=Q(e),u=0,f=e.toSeq().map(function(d,g){return[g,d,u++,o?o(d,g,e):d]}).toArray();return f.sort(function(d,g){return r(d[3],g[3])||d[2]-g[2]}).forEach(a?function(d,g){f[g].length=2}:function(d,g){f[g]=d[1]}),a?E(f):ae(e)?I(f):b(f)}function Fn(e,r,o){if(r||(r=zs),o){var a=e.toSeq().map(function(u,f){return[u,o(u,f,e)]}).reduce(function(u,f){return As(r,u[1],f[1])?f:u});return a&&a[0]}return e.reduce(function(u,f){return As(r,u,f)?f:u})}function As(e,r,o){var a=e(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function Fi(e,r,o){var a=Nt(e);return a.size=new M(o).map(function(u){return u.size}).min(),a.__iterate=function(u,f){for(var d,g=this.__iterator(vt,f),O=0;!(d=g.next()).done&&u(d.value,O++,this)!==!1;);return O},a.__iteratorUncached=function(u,f){var d=o.map(function(k){return k=L(k),et(f?k.reverse():k)}),g=0,O=!1;return new J(function(){var k;return O||(k=d.map(function(N){return N.next()}),O=k.some(function(N){return N.done})),O?pe():C(u,g++,r.apply(null,k.map(function(N){return N.value})))})},a}function Ee(e,r){return _(e)?r:e.constructor(r)}function Ns(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Fs(e){return lt(e.size),$(e)}function Ls(e){return Q(e)?w:ae(e)?U:ne}function Nt(e){return Object.create((Q(e)?E:ae(e)?I:b).prototype)}function Li(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function zs(e,r){return e>r?1:e<r?-1:0}function Cs(e){var r=et(e);if(!r){if(!Y(e))throw new TypeError("Expected iterable or array-like: "+e);r=et(L(e))}return r}function ct(e,r){var o,a=function(f){if(f instanceof a)return f;if(!(this instanceof a))return new a(f);if(!o){o=!0;var d=Object.keys(e);yc(u,d),u.size=d.length,u._name=r,u._keys=d,u._defaultValues=e}this._map=fe(f)},u=a.prototype=Object.create(Ge);return u.constructor=a,a}function Ln(e,r,o){var a=Object.create(Object.getPrototypeOf(e));return a._map=r,a.__ownerID=o,a}function Rs(e){return e._name||e.constructor.name||"Record"}function yc(e,r){try{r.forEach(vc.bind(void 0,e))}catch{}}function vc(e,r){Object.defineProperty(e,r,{get:function(){return this.get(r)},set:function(a){bn(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function De(e){return e==null?Ri():zi(e)&&!de(e)?e:Ri().withMutations(function(r){var o=ne(e);lt(o.size),o.forEach(function(a){return r.add(a)})})}function zi(e){return!!(e&&e[aa])}function Ci(e,r){return e.__ownerID?(e.size=r.size,e._map=r,e):r===e._map?e:r.size===0?e.__empty():e.__make(r)}function Us(e,r){var o=Object.create(ft);return o.size=e?e.size:0,o._map=e,o.__ownerID=r,o}function Ri(){return ua||(ua=Us(Ot()))}function Ft(e){return e==null?Ui():Ws(e)?e:Ui().withMutations(function(r){var o=ne(e);lt(o.size),o.forEach(function(a){return r.add(a)})})}function Ws(e){return zi(e)&&de(e)}function js(e,r){var o=Object.create(Cn);return o.size=e?e.size:0,o._map=e,o.__ownerID=r,o}function Ui(){return la||(la=js(Nn()))}function Re(e){return e==null?Wi():Ps(e)?e:Wi().unshiftAll(e)}function Ps(e){return!!(e&&e[ca])}function Pr(e,r,o,a){var u=Object.create(_r);return u.size=e,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Wi(){return fa||(fa=Pr(0))}function Lt(e,r){var o=function(a){e.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),e}function gc(e,r){return r}function _c(e,r){return[r,e]}function zn(e){return function(){return!e.apply(this,arguments)}}function Vs(e){return function(){return-e.apply(this,arguments)}}function qs(e){return typeof e=="string"?JSON.stringify(e):e+""}function Tc(){return ie(arguments)}function Hs(e,r){return e<r?1:e>r?-1:0}function wc(e){if(e.size===1/0)return 0;var r=de(e),o=Q(e),a=r?1:0,u=e.__iterate(o?r?function(f,d){a=0|31*a+Zs(ut(f),ut(d))}:function(f,d){a=0|a+Zs(ut(f),ut(d))}:r?function(f){a=0|31*a+ut(f)}:function(f){a=0|a+ut(f)});return Ec(u,a)}function Ec(e,r){return r=Hr(r,3432918353),r=Hr(r<<15|r>>>-15,461845907),r=Hr(r<<13|r>>>-13,5),r=(0|r+3864292196)^e,r=Hr(r^r>>>16,2246822507),r=Hr(r^r>>>13,3266489909),r=Ti(r^r>>>16),r}function Zs(e,r){return 0|e^r+2654435769+(e<<6)+(e>>2)}var $s=Math.imul,rr=Math.max,mt=Array.prototype.slice;T(w,L),T(U,L),T(ne,L),L.isIterable=K,L.isKeyed=Q,L.isIndexed=ae,L.isAssociative=ce,L.isOrdered=de,L.Keyed=w,L.Indexed=U,L.Set=ne;var Bs="@@__IMMUTABLE_ITERABLE__@@",Gs="@@__IMMUTABLE_KEYED__@@",Ys="@@__IMMUTABLE_INDEXED__@@",gr="@@__IMMUTABLE_ORDERED__@@",Vr="delete",ke=5,yt=1<<ke,tt=yt-1,ue={},Ic={value:!1},Js={value:!1},qr=0,vt=1,zt=2,ji=typeof Symbol=="function"&&Symbol.iterator,Ks="@@iterator",Pi=ji||Ks;J.prototype.toString=function(){return"[Iterator]"},J.KEYS=qr,J.VALUES=vt,J.ENTRIES=zt,J.prototype.inspect=J.prototype.toSource=function(){return this.toString()},J.prototype[Pi]=function(){return this},T(x,L),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(e,r){return oe(this,e,r,!0)},x.prototype.__iterator=function(e,r){return Me(this,e,r,!0)},T(E,x),E.prototype.toKeyedSeq=function(){return this},T(I,x),I.of=function(){return I(arguments)},I.prototype.toIndexedSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq [","]")},I.prototype.__iterate=function(e,r){return oe(this,e,r,!1)},I.prototype.__iterator=function(e,r){return Me(this,e,r,!1)},T(b,x),b.of=function(){return b(arguments)},b.prototype.toSetSeq=function(){return this},x.isSeq=_,x.Keyed=E,x.Set=b,x.Indexed=I;var Xs="@@__IMMUTABLE_SEQ__@@";x.prototype[Xs]=!0,T(M,I),M.prototype.get=function(e,r){return this.has(e)?this._array[te(this,e)]:r},M.prototype.__iterate=function(e,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(e(o[r?a-u:u],u,this)===!1)return u+1;return u},M.prototype.__iterator=function(e,r){var o=this._array,a=o.length-1,u=0;return new J(function(){return u>a?pe():C(e,u,o[r?a-u++:u++])})},T(F,E),F.prototype.get=function(e,r){return r===void 0||this.has(e)?this._object[e]:r},F.prototype.has=function(e){return this._object.hasOwnProperty(e)},F.prototype.__iterate=function(e,r){for(var o,a=this._object,u=this._keys,f=u.length-1,d=0;d<=f;d++)if(o=u[r?f-d:d],e(a[o],o,this)===!1)return d+1;return d},F.prototype.__iterator=function(e,r){var o=this._object,a=this._keys,u=a.length-1,f=0;return new J(function(){var d=a[r?u-f:f];return f++>u?pe():C(e,d,o[d])})},F.prototype[gr]=!0,T(S,I),S.prototype.__iterateUncached=function(e,r){if(r)return this.cacheResult().__iterate(e,r);var o=this._iterable,a=et(o),u=0;if(je(a))for(var f;!(f=a.next()).done&&e(f.value,u++,this)!==!1;);return u},S.prototype.__iteratorUncached=function(e,r){if(r)return this.cacheResult().__iterator(e,r);var o=this._iterable,a=et(o);if(!je(a))return new J(pe);var u=0;return new J(function(){var f=a.next();return f.done?f:C(e,u++,f.value)})},T(p,I),p.prototype.__iterateUncached=function(e,r){if(r)return this.cacheResult().__iterate(e,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(e(a[u],u++,this)===!1)return u;for(var f,d;!(f=o.next()).done&&(d=f.value,a[u]=d,e(d,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(e,r){if(r)return this.cacheResult().__iterator(e,r);var o=this._iterator,a=this._iteratorCache,u=0;return new J(function(){if(u>=a.length){var f=o.next();if(f.done)return f;a[u]=f.value}return C(e,u,a[u++])})};var Qs;T(Je,I),Je.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Je.prototype.get=function(e,r){return this.has(e)?this._value:r},Je.prototype.includes=function(e){return Ce(this._value,e)},Je.prototype.slice=function(e,r){var o=this.size;return at(e,r,o)?this:new Je(this._value,$e(r,o)-Ve(e,o))},Je.prototype.reverse=function(){return this},Je.prototype.indexOf=function(e){return Ce(this._value,e)?0:-1},Je.prototype.lastIndexOf=function(e){return Ce(this._value,e)?this.size:-1},Je.prototype.__iterate=function(e){for(var r=0;r<this.size;r++)if(e(this._value,r,this)===!1)return r+1;return r},Je.prototype.__iterator=function(e){var r=this,o=0;return new J(function(){return o<r.size?C(e,o++,r._value):pe()})},Je.prototype.equals=function(e){return e instanceof Je?Ce(this._value,e._value):_i(e)};var Vi;T(Be,I),Be.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Be.prototype.get=function(e,r){return this.has(e)?this._start+te(this,e)*this._step:r},Be.prototype.includes=function(e){var r=(e-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Be.prototype.slice=function(e,r){return at(e,r,this.size)?this:(e=Ve(e,this.size),r=$e(r,this.size),r<=e?new Be(0,0):new Be(this.get(e,this._end),this.get(r,this._end),this._step))},Be.prototype.indexOf=function(e){var r=e-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Be.prototype.lastIndexOf=function(e){return this.indexOf(e)},Be.prototype.__iterate=function(e,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;f<=o;f++){if(e(u,f,this)===!1)return f+1;u+=r?-a:a}return f},Be.prototype.__iterator=function(e,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;return new J(function(){var d=u;return u+=r?-a:a,f>o?pe():C(e,f++,d)})},Be.prototype.equals=function(e){return e instanceof Be?this._start===e._start&&this._end===e._end&&this._step===e._step:_i(this,e)};var qi;T(Ht,L),T(Cr,Ht),T(cr,Ht),T(Mn,Ht),Ht.Keyed=Cr,Ht.Indexed=cr,Ht.Set=Mn;var Hi,Hr=typeof $s=="function"?$s:function(e,r){e|=0,r|=0;var o=65535&e,a=65535&r;return 0|o*a+((e>>>16)*a+o*(r>>>16)<<16>>>0)},ea=Object.isExtensible,ta=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),Zi=typeof WeakMap=="function";Zi&&(Hi=new WeakMap);var $i=0,nr="__immutablehash__";typeof Symbol=="function"&&(nr=Symbol(nr));var Sc=16,Oc=255,Bi=0,Gi={};T(fe,Cr),fe.of=function(){var e=mt.call(arguments,0);return Ot().withMutations(function(r){for(var o=0;o<e.length;o+=2){if(o+1>=e.length)throw new Error("Missing value for key: "+e[o]);r.set(e[o],e[o+1])}})},fe.prototype.toString=function(){return this.__toString("Map {","}")},fe.prototype.get=function(e,r){return this._root?this._root.get(0,void 0,e,r):r},fe.prototype.set=function(e,r){return ds(this,e,r)},fe.prototype.setIn=function(e,r){return this.updateIn(e,ue,function(){return r})},fe.prototype.remove=function(e){return ds(this,e,ue)},fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return ue})},fe.prototype.update=function(e,r,o){return arguments.length===1?e(this):this.updateIn([e],r,o)},fe.prototype.updateIn=function(e,r,o){o||(o=r,r=void 0);var a=gs(this,Cs(e),r,o);return a===ue?void 0:a},fe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ot()},fe.prototype.merge=function(){return xn(this,void 0,arguments)},fe.prototype.mergeWith=function(e){var r=mt.call(arguments,1);return xn(this,e,r)},fe.prototype.mergeIn=function(e){var r=mt.call(arguments,1);return this.updateIn(e,Ot(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},fe.prototype.mergeDeep=function(){return xn(this,ms,arguments)},fe.prototype.mergeDeepWith=function(e){var r=mt.call(arguments,1);return xn(this,ys(e),r)},fe.prototype.mergeDeepIn=function(e){var r=mt.call(arguments,1);return this.updateIn(e,Ot(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},fe.prototype.sort=function(e){return ze(vr(this,e))},fe.prototype.sortBy=function(e,r){return ze(vr(this,r,e))},fe.prototype.withMutations=function(e){var r=this.asMutable();return e(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Te)},fe.prototype.asImmutable=function(){return this.__ensureOwner()},fe.prototype.wasAltered=function(){return this.__altered},fe.prototype.__iterator=function(e,r){return new Ii(this,e,r)},fe.prototype.__iterate=function(e,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,e(u[1],u[0],o)},r),a},fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Oi(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},fe.isMap=Ei;var ra="@@__IMMUTABLE_MAP__@@",se=fe.prototype;se[ra]=!0,se[Vr]=se.remove,se.removeIn=se.deleteIn,Rr.prototype.get=function(e,r,o,a){for(var u=this.entries,f=0,d=u.length;f<d;f++)if(Ce(o,u[f][0]))return u[f][1];return a},Rr.prototype.update=function(e,r,o,a,u,f,d){for(var g=u===ue,O=this.entries,k=0,N=O.length;k<N&&!Ce(a,O[k][0]);k++);var P=k<N;if(P?O[k][1]===u:g)return this;if(_e(d),(g||!P)&&_e(f),!(g&&O.length===1)){if(!P&&!g&&O.length>=kc)return ic(e,O,a,u);var Z=e&&e===this.ownerID,ee=Z?O:ie(O);return P?g?k==N-1?ee.pop():ee[k]=ee.pop():ee[k]=[a,u]:ee.push([a,u]),Z?(this.entries=ee,this):new Rr(e,ee)}},fr.prototype.get=function(e,r,o,a){r===void 0&&(r=ut(o));var u=1<<((e===0?r:r>>>e)&tt),f=this.bitmap;return f&u?this.nodes[_s(f&u-1)].get(e+ke,r,o,a):a},fr.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=(r===0?o:o>>>r)&tt,O=1<<g,k=this.bitmap,N=(k&O)!=0;if(!N&&u===ue)return this;var P=_s(k&O-1),Z=this.nodes,ee=N?Z[P]:void 0,le=ki(ee,e,r+ke,o,a,u,f,d);if(le===ee)return this;if(!N&&le&&Z.length>=Dc)return sc(e,Z,k,g,le);if(N&&!le&&Z.length===2&&ps(Z[1^P]))return Z[1^P];if(N&&le&&Z.length===1&&ps(le))return le;var xe=e&&e===this.ownerID,gt=N?le?k:k^O:k|O,kt=N?le?Ts(Z,P,le,xe):uc(Z,P,xe):ac(Z,P,le,xe);return xe?(this.bitmap=gt,this.nodes=kt,this):new fr(e,gt,kt)},Ur.prototype.get=function(e,r,o,a){r===void 0&&(r=ut(o));var u=(e===0?r:r>>>e)&tt,f=this.nodes[u];return f?f.get(e+ke,r,o,a):a},Ur.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=(r===0?o:o>>>r)&tt,O=this.nodes,k=O[g];if(u===ue&&!k)return this;var N=ki(k,e,r+ke,o,a,u,f,d);if(N===k)return this;var P=this.count;if(!k)P++;else if(!N&&(P--,P<bc))return oc(e,O,P,g);var Z=e&&e===this.ownerID,ee=Ts(O,g,N,Z);return Z?(this.count=P,this.nodes=ee,this):new Ur(e,P,ee)},hr.prototype.get=function(e,r,o,a){for(var u=this.entries,f=0,d=u.length;f<d;f++)if(Ce(o,u[f][0]))return u[f][1];return a},hr.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=u===ue;if(o!==this.keyHash)return g?this:(_e(d),_e(f),Di(this,e,r,o,[a,u]));for(var O=this.entries,k=0,N=O.length;k<N&&!Ce(a,O[k][0]);k++);var P=k<N;if(P?O[k][1]===u:g)return this;if(_e(d),(g||!P)&&_e(f),g&&N===2)return new Rt(e,this.keyHash,O[1^k]);var Z=e&&e===this.ownerID,ee=Z?O:ie(O);return P?g?k==N-1?ee.pop():ee[k]=ee.pop():ee[k]=[a,u]:ee.push([a,u]),Z?(this.entries=ee,this):new hr(e,this.keyHash,ee)},Rt.prototype.get=function(e,r,o,a){return Ce(o,this.entry[0])?this.entry[1]:a},Rt.prototype.update=function(e,r,o,a,u,f,d){var g=u===ue,O=Ce(a,this.entry[0]);return(O?u===this.entry[1]:g)?this:(_e(d),g?void _e(f):O?e&&e===this.ownerID?(this.entry[1]=u,this):new Rt(e,this.keyHash,[a,u]):(_e(f),Di(this,e,r,ut(a),[a,u])))},Rr.prototype.iterate=hr.prototype.iterate=function(e,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(e(o[r?u-a:a])===!1)return!1},fr.prototype.iterate=Ur.prototype.iterate=function(e,r){for(var o,a=this.nodes,u=0,f=a.length-1;u<=f;u++)if(o=a[r?f-u:u],o&&o.iterate(e,r)===!1)return!1},Rt.prototype.iterate=function(e){return e(this.entry)},T(Ii,J),Ii.prototype.next=function(){for(var e=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return Si(e,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return Si(e,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var f=a.nodes[this._reverse?o-u:u];if(f){if(f.entry)return Si(e,f.entry);r=this._stack=hs(f,r)}continue}r=this._stack=this._stack.__prev}return pe()};var na,kc=yt/4,Dc=yt/2,bc=yt/4;T(Oe,cr),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("List [","]")},Oe.prototype.get=function(e,r){if(e=te(this,e),0<=e&&e<this.size){e+=this._origin;var o=Is(this,e);return o&&o.array[e&tt]}return r},Oe.prototype.set=function(e,r){return lc(this,e,r)},Oe.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Oe.prototype.insert=function(e,r){return this.splice(e,0,r)},Oe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ke,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):bi()},Oe.prototype.push=function(){var e=arguments,r=this.size;return this.withMutations(function(o){$t(o,0,r+e.length);for(var a=0;a<e.length;a++)o.set(r+a,e[a])})},Oe.prototype.pop=function(){return $t(this,0,-1)},Oe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(r){$t(r,-e.length);for(var o=0;o<e.length;o++)r.set(o,e[o])})},Oe.prototype.shift=function(){return $t(this,1)},Oe.prototype.merge=function(){return An(this,void 0,arguments)},Oe.prototype.mergeWith=function(e){var r=mt.call(arguments,1);return An(this,e,r)},Oe.prototype.mergeDeep=function(){return An(this,ms,arguments)},Oe.prototype.mergeDeepWith=function(e){var r=mt.call(arguments,1);return An(this,ys(e),r)},Oe.prototype.setSize=function(e){return $t(this,0,e)},Oe.prototype.slice=function(e,r){var o=this.size;return at(e,r,o)?this:$t(this,Ve(e,o),$e(r,o))},Oe.prototype.__iterator=function(e,r){var o=0,a=Es(this,r);return new J(function(){var u=a();return u===Zr?pe():C(e,o++,u)})},Oe.prototype.__iterate=function(e,r){for(var o,a=0,u=Es(this,r);(o=u())!==Zr&&e(o,a++,this)!==!1;);return a},Oe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Wr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Oe.isList=ws;var ia="@@__IMMUTABLE_LIST__@@",rt=Oe.prototype;rt[ia]=!0,rt[Vr]=rt.remove,rt.setIn=se.setIn,rt.deleteIn=rt.removeIn=se.removeIn,rt.update=se.update,rt.updateIn=se.updateIn,rt.mergeIn=se.mergeIn,rt.mergeDeepIn=se.mergeDeepIn,rt.withMutations=se.withMutations,rt.asMutable=se.asMutable,rt.asImmutable=se.asImmutable,rt.wasAltered=se.wasAltered,Zt.prototype.removeBefore=function(e,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&tt;if(a>=this.array.length)return new Zt([],e);var u,f=a==0;if(0<r){var d=this.array[a];if(u=d&&d.removeBefore(e,r-ke,o),u===d&&f)return this}if(f&&!u)return this;var g=dr(this,e);if(!f)for(var O=0;O<a;O++)g.array[O]=void 0;return u&&(g.array[a]=u),g},Zt.prototype.removeAfter=function(e,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&tt;if(a>=this.array.length)return this;var u;if(0<r){var f=this.array[a];if(u=f&&f.removeAfter(e,r-ke,o),u===f&&a==this.array.length-1)return this}var d=dr(this,e);return d.array.splice(a+1),u&&(d.array[a]=u),d};var oa,Zr={};T(ze,fe),ze.of=function(){return this(arguments)},ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},ze.prototype.get=function(e,r){var o=this._map.get(e);return o===void 0?r:this._list.get(o)[1]},ze.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nn()},ze.prototype.set=function(e,r){return Os(this,e,r)},ze.prototype.remove=function(e){return Os(this,e,ue)},ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},ze.prototype.__iterate=function(e,r){var o=this;return this._list.__iterate(function(a){return a&&e(a[1],a[0],o)},r)},ze.prototype.__iterator=function(e,r){return this._list.fromEntrySeq().__iterator(e,r)},ze.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map.__ensureOwner(e),o=this._list.__ensureOwner(e);return e?xi(r,o,e,this.__hash):(this.__ownerID=e,this._map=r,this._list=o,this)},ze.isOrderedMap=Ss,ze.prototype[gr]=!0,ze.prototype[Vr]=ze.prototype.remove;var sa;T(pt,E),pt.prototype.get=function(e,r){return this._iter.get(e,r)},pt.prototype.has=function(e){return this._iter.has(e)},pt.prototype.valueSeq=function(){return this._iter.valueSeq()},pt.prototype.reverse=function(){var e=this,r=Ai(this,!0);return this._useKeys||(r.valueSeq=function(){return e._iter.toSeq().reverse()}),r},pt.prototype.map=function(e,r){var o=this,a=Ds(this,e,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(e,r)}),a},pt.prototype.__iterate=function(e,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,f){return e(u,f,a)}:(o=r?Fs(this):0,function(u){return e(u,r?--o:o++,a)}),r)},pt.prototype.__iterator=function(e,r){if(this._useKeys)return this._iter.__iterator(e,r);var o=this._iter.__iterator(vt,r),a=r?Fs(this):0;return new J(function(){var u=o.next();return u.done?u:C(e,r?--a:a++,u.value,u)})},pt.prototype[gr]=!0,T(pr,I),pr.prototype.includes=function(e){return this._iter.includes(e)},pr.prototype.__iterate=function(e,r){var o=this,a=0;return this._iter.__iterate(function(u){return e(u,a++,o)},r)},pr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r),a=0;return new J(function(){var u=o.next();return u.done?u:C(e,a++,u.value,u)})},T(mr,b),mr.prototype.has=function(e){return this._iter.includes(e)},mr.prototype.__iterate=function(e,r){var o=this;return this._iter.__iterate(function(a){return e(a,a,o)},r)},mr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r);return new J(function(){var a=o.next();return a.done?a:C(e,a.value,a.value,a)})},T(yr,E),yr.prototype.entrySeq=function(){return this._iter.toSeq()},yr.prototype.__iterate=function(e,r){var o=this;return this._iter.__iterate(function(a){if(a){Ns(a);var u=K(a);return e(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},yr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r);return new J(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){Ns(u);var f=K(u);return C(e,f?u.get(0):u[0],f?u.get(1):u[1],a)}}})},pr.prototype.cacheResult=pt.prototype.cacheResult=mr.prototype.cacheResult=yr.prototype.cacheResult=Li,T(ct,Cr),ct.prototype.toString=function(){return this.__toString(Rs(this)+" {","}")},ct.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},ct.prototype.get=function(e,r){if(!this.has(e))return r;var o=this._defaultValues[e];return this._map?this._map.get(e,o):o},ct.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Ln(this,Ot()))},ct.prototype.set=function(e,r){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Rs(this));if(this._map&&!this._map.has(e)){var o=this._defaultValues[e];if(r===o)return this}var a=this._map&&this._map.set(e,r);return this.__ownerID||a===this._map?this:Ln(this,a)},ct.prototype.remove=function(e){if(!this.has(e))return this;var r=this._map&&this._map.remove(e);return this.__ownerID||r===this._map?this:Ln(this,r)},ct.prototype.wasAltered=function(){return this._map.wasAltered()},ct.prototype.__iterator=function(e,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(e,r)},ct.prototype.__iterate=function(e,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(e,r)},ct.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(e);return e?Ln(this,r,e):(this.__ownerID=e,this._map=r,this)};var Ge=ct.prototype;Ge[Vr]=Ge.remove,Ge.deleteIn=Ge.removeIn=se.removeIn,Ge.merge=se.merge,Ge.mergeWith=se.mergeWith,Ge.mergeIn=se.mergeIn,Ge.mergeDeep=se.mergeDeep,Ge.mergeDeepWith=se.mergeDeepWith,Ge.mergeDeepIn=se.mergeDeepIn,Ge.setIn=se.setIn,Ge.update=se.update,Ge.updateIn=se.updateIn,Ge.withMutations=se.withMutations,Ge.asMutable=se.asMutable,Ge.asImmutable=se.asImmutable,T(De,Mn),De.of=function(){return this(arguments)},De.fromKeys=function(e){return this(w(e).keySeq())},De.prototype.toString=function(){return this.__toString("Set {","}")},De.prototype.has=function(e){return this._map.has(e)},De.prototype.add=function(e){return Ci(this,this._map.set(e,!0))},De.prototype.remove=function(e){return Ci(this,this._map.remove(e))},De.prototype.clear=function(){return Ci(this,this._map.clear())},De.prototype.union=function(){var e=mt.call(arguments,0);return e=e.filter(function(r){return r.size!==0}),e.length===0?this:this.size!==0||this.__ownerID||e.length!==1?this.withMutations(function(r){for(var o=0;o<e.length;o++)ne(e[o]).forEach(function(a){return r.add(a)})}):this.constructor(e[0])},De.prototype.intersect=function(){var e=mt.call(arguments,0);if(e.length===0)return this;e=e.map(function(o){return ne(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){e.every(function(u){return u.includes(a)})||o.remove(a)})})},De.prototype.subtract=function(){var e=mt.call(arguments,0);if(e.length===0)return this;e=e.map(function(o){return ne(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){e.some(function(u){return u.includes(a)})&&o.remove(a)})})},De.prototype.merge=function(){return this.union.apply(this,arguments)},De.prototype.mergeWith=function(){var e=mt.call(arguments,1);return this.union.apply(this,e)},De.prototype.sort=function(e){return Ft(vr(this,e))},De.prototype.sortBy=function(e,r){return Ft(vr(this,r,e))},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterate=function(e,r){var o=this;return this._map.__iterate(function(a,u){return e(u,u,o)},r)},De.prototype.__iterator=function(e,r){return this._map.map(function(o,a){return a}).__iterator(e,r)},De.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map.__ensureOwner(e);return e?this.__make(r,e):(this.__ownerID=e,this._map=r,this)},De.isSet=zi;var aa="@@__IMMUTABLE_SET__@@",ft=De.prototype;ft[aa]=!0,ft[Vr]=ft.remove,ft.mergeDeep=ft.merge,ft.mergeDeepWith=ft.mergeWith,ft.withMutations=se.withMutations,ft.asMutable=se.asMutable,ft.asImmutable=se.asImmutable,ft.__empty=Ri,ft.__make=Us;var ua;T(Ft,De),Ft.of=function(){return this(arguments)},Ft.fromKeys=function(e){return this(w(e).keySeq())},Ft.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ft.isOrderedSet=Ws;var Cn=Ft.prototype;Cn[gr]=!0,Cn.__empty=Ui,Cn.__make=js;var la;T(Re,cr),Re.of=function(){return this(arguments)},Re.prototype.toString=function(){return this.__toString("Stack [","]")},Re.prototype.get=function(e,r){var o=this._head;for(e=te(this,e);o&&e--;)o=o.next;return o?o.value:r},Re.prototype.peek=function(){return this._head&&this._head.value},Re.prototype.push=function(){if(arguments.length===0)return this;for(var e=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Pr(e,r)},Re.prototype.pushAll=function(e){if(e=U(e),e.size===0)return this;lt(e.size);var r=this.size,o=this._head;return e.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Pr(r,o)},Re.prototype.pop=function(){return this.slice(1)},Re.prototype.unshift=function(){return this.push.apply(this,arguments)},Re.prototype.unshiftAll=function(e){return this.pushAll(e)},Re.prototype.shift=function(){return this.pop.apply(this,arguments)},Re.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Wi()},Re.prototype.slice=function(e,r){if(at(e,r,this.size))return this;var o=Ve(e,this.size),a=$e(r,this.size);if(a!==this.size)return cr.prototype.slice.call(this,e,r);for(var u=this.size-o,f=this._head;o--;)f=f.next;return this.__ownerID?(this.size=u,this._head=f,this.__hash=void 0,this.__altered=!0,this):Pr(u,f)},Re.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Re.prototype.__iterate=function(e,r){if(r)return this.reverse().__iterate(e);for(var o=0,a=this._head;a&&e(a.value,o++,this)!==!1;)a=a.next;return o},Re.prototype.__iterator=function(e,r){if(r)return this.reverse().__iterator(e);var o=0,a=this._head;return new J(function(){if(a){var u=a.value;return a=a.next,C(e,o++,u)}return pe()})},Re.isStack=Ps;var ca="@@__IMMUTABLE_STACK__@@",_r=Re.prototype;_r[ca]=!0,_r.withMutations=se.withMutations,_r.asMutable=se.asMutable,_r.asImmutable=se.asImmutable,_r.wasAltered=se.wasAltered;var fa;L.Iterator=J,Lt(L,{toArray:function(){lt(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new pr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new pt(this,!0)},toMap:function(){return fe(this.toKeyedSeq())},toObject:function(){lt(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return ze(this.toKeyedSeq())},toOrderedSet:function(){return Ft(Q(this)?this.valueSeq():this)},toSet:function(){return De(Q(this)?this.valueSeq():this)},toSetSeq:function(){return new mr(this)},toSeq:function(){return ae(this)?this.toIndexedSeq():Q(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Re(Q(this)?this.valueSeq():this)},toList:function(){return Oe(Q(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=mt.call(arguments,0);return Ee(this,dc(this,r))},includes:function(r){return this.some(function(o){return Ce(o,r)})},entries:function(){return this.__iterator(zt)},every:function(r,o){lt(this.size);var a=!0;return this.__iterate(function(u,f,d){if(!r.call(o,u,f,d))return a=!1,!1}),a},filter:function(r,o){return Ee(this,bs(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return lt(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){lt(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator(qr)},map:function(r,o){return Ee(this,Ds(this,r,o))},reduce:function(r,o,a){lt(this.size);var u,f;return 2>arguments.length?f=!0:u=o,this.__iterate(function(d,g,O){f?(f=!1,u=d):u=r.call(a,u,d,g,O)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,Ai(this,!0))},slice:function(r,o){return Ee(this,Ni(this,r,o,!0))},some:function(r,o){return!this.every(zn(r),o)},sort:function(r){return Ee(this,vr(this,r))},values:function(){return this.__iterator(vt)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return $(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return cc(this,r,o)},equals:function(r){return _i(this,r)},entrySeq:function(){var r=this;if(r._cache)return new M(r._cache);var o=r.toSeq().map(_c).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(zn(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(f,d,g){if(r.call(o,f,d,g))return u=[d,f],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Pe)},flatMap:function(r,o){return Ee(this,pc(this,r,o))},flatten:function(r){return Ee(this,xs(this,r,!0))},fromEntrySeq:function(){return new yr(this)},get:function(r,o){return this.find(function(a,u){return Ce(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,f=this,d=Cs(r);!(a=d.next()).done;)if(u=a.value,f=f&&f.get?f.get(u,ue):ue,f===ue)return o;return f},groupBy:function(r,o){return fc(this,r,o)},has:function(r){return this.get(r,ue)!==ue},hasIn:function(r){return this.getIn(r,ue)!==ue},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return Ce(o,r)})},keySeq:function(){return this.toSeq().map(gc).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return Fn(this,r)},maxBy:function(r,o){return Fn(this,o,r)},min:function(r){return Fn(this,r?Vs(r):Hs)},minBy:function(r,o){return Fn(this,o?Vs(o):Hs,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(rr(0,r))},skipLast:function(r){return Ee(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return Ee(this,Ms(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(zn(r),o)},sortBy:function(r,o){return Ee(this,vr(this,o,r))},take:function(r){return this.slice(0,rr(0,r))},takeLast:function(r){return Ee(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return Ee(this,hc(this,r,o))},takeUntil:function(r,o){return this.takeWhile(zn(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=wc(this))}});var nt=L.prototype;nt[Bs]=!0,nt[Pi]=nt.values,nt.__toJS=nt.toArray,nt.__toStringMapper=qs,nt.inspect=nt.toSource=function(){return this.toString()},nt.chain=nt.flatMap,nt.contains=nt.includes,Lt(w,{flip:function(){return Ee(this,ks(this))},mapEntries:function(r,o){var a=this,u=0;return Ee(this,this.toSeq().map(function(f,d){return r.call(o,[d,f],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return Ee(this,this.toSeq().flip().map(function(u,f){return r.call(o,u,f,a)}).flip())}});var Rn=w.prototype;return Rn[Gs]=!0,Rn[Pi]=nt.entries,Rn.__toJS=nt.toObject,Rn.__toStringMapper=function(e,r){return JSON.stringify(r)+": "+qs(e)},Lt(U,{toKeyedSeq:function(){return new pt(this,!1)},filter:function(r,o){return Ee(this,bs(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return Ee(this,Ai(this,!1))},slice:function(r,o){return Ee(this,Ni(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=rr(0|o,0),a===0||a===2&&!o)return this;r=Ve(r,0>r?this.count():this.size);var u=this.slice(0,r);return Ee(this,a===1?u:u.concat(ie(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return Ee(this,xs(this,r,!1))},get:function(r,o){return r=te(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=te(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return Ee(this,mc(this,r))},interleave:function(){var r=[this].concat(ie(arguments)),o=Fi(this.toSeq(),I.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),Ee(this,a)},keySeq:function(){return Be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return Ee(this,Ms(this,r,o,!1))},zip:function(){var r=[this].concat(ie(arguments));return Ee(this,Fi(this,Tc,r))},zipWith:function(r){var o=ie(arguments);return o[0]=this,Ee(this,Fi(this,r,o))}}),U.prototype[Ys]=!0,U.prototype[gr]=!0,Lt(ne,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),ne.prototype.has=nt.includes,ne.prototype.contains=ne.prototype.includes,Lt(E,w.prototype),Lt(I,U.prototype),Lt(b,ne.prototype),Lt(Cr,w.prototype),Lt(cr,U.prototype),Lt(Mn,ne.prototype),{Iterable:L,Seq:x,Collection:Ht,Map:fe,OrderedMap:ze,List:Oe,Stack:Re,Set:De,OrderedSet:Ft,Record:ct,Range:Be,Repeat:Je,is:Ce,fromJS:St}})}),W=i(function(y,T){(function(L,w){w(T,z)})(t,function(L){"use strict";function w(p,_){for(var A=Object.getOwnPropertyNames(_),R=0;R<A.length;R++){var q=A[R],H=Object.getOwnPropertyDescriptor(_,q);H&&H.configurable&&p[q]===void 0&&Object.defineProperty(p,q,H)}return p}function U(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function ne(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _>"u"?"undefined":s(_)));p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):w(p,_))}function K(){}var Q=function(){function p(_,A){for(var R,q=0;q<A.length;q++)R=A[q],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}return function(_,A,R){return A&&p(_.prototype,A),R&&p(_,R),_}}(),ae=function(p,_,A){var R=!0;e:for(;R;){var q=p,H=_,re=A;R=!1,q===null&&(q=Function.prototype);var oe=Object.getOwnPropertyDescriptor(q,H);if(oe===void 0){var Me=Object.getPrototypeOf(q);if(Me===null)return;p=Me,_=H,A=re,R=!0,oe=Me=void 0;continue e}else{if("value"in oe)return oe.value;var St=oe.get;return St===void 0?void 0:St.call(re)}}};if(typeof ce>"u"){var ce=function(p){return"@@"+p};ce.for=ce}L.construct=function(p){return K.prototype=p.constructor.prototype,new K};var de=ce.for("typed/type"),We=ce.for("typed/store"),_e=ce.for("typed/empty"),Te=ce.for("typed/type/maybe"),ie=ce.for("typed/type/default"),$=ce.for("typed/type/label"),te=ce.for("transducer/init"),Pe=ce.for("transducer/result"),at=ce.for("transducer/step"),Ve=ce.for("typed/type/read"),$e=ce.for("typed/type/parse"),Le=ce("typed/type/name"),J=ce("typed/type/signature"),C=function(p,_,A){var R=function(re){function oe(Me){U(this,oe),ae(Object.getPrototypeOf(oe.prototype),"constructor",this).call(this),this[ie]=Me}return ne(oe,re),oe}(Qe),q=R.prototype;q[ie]=A,q[$e]=_,q[$]=p;var H=function(re){return re===void 0?q:new R(re)};return H.prototype=q,H};L.Typed=C,C.label=$,C.defaultValue=ie,C.read=Ve,C.typeName=Le,C.typeSignature=J,C.type=de,C.store=We,C.init=te,C.result=Pe,C.step=at,C.DELETE="delete",C.empty=_e;var pe=function(p){return p[Le]()},Qe=function(){function p(){U(this,p)}return Q(p,[{key:C.read,value:function(){var _=0>=arguments.length||arguments[0]===void 0?this[ie]:arguments[0];return this[$e](_)}},{key:C.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:C.typeName,value:function(){var _=this[$],A=this[ie];return A===void 0?_:_+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qe;var je=Object.prototype,et=Array.isArray||function(p){return je.toString.call(p)==="[object Array]"},B=function(p){return je.toString.call(p)==="[object RegExp]"},Y=function(p){var _=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Ve]?p:p.prototype&&p.prototype[Ve]?p.prototype:_==="number"?new C.Number(p):_==="string"?new C.String(p):_==="boolean"?new C.Boolean(p):_==="symbol"?new C.Symbol(p):et(p)?C.Array(p):B(p)?new C.RegExp(p):p===String?C.String.prototype:p===Number?C.Number.prototype:p===Boolean?C.Boolean.prototype:p===RegExp?C.RegExp.prototype:p===Array?C.Array.prototype:p===ce?C.Symbol.prototype:p===Date?C.Date.prototype:x}()};L.typeOf=Y;var x=C("Any",function(p){return p})();L.Any=x,C.Any=x,C.Number=C("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),C.String=C("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),C.Symbol=C("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),C.Array=C("Array",function(p){return et(p)?p:TypeError('"'+p+'" is not an array')}),C.RegExp=C("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),C.Boolean=C("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),C.Date=C("Date",function(p){var _=new Date(p);return isNaN(_.valueOf())?new TypeError('"'+p+'" is not a valid date.'):_});var E=function(p){function _(A){U(this,_),ae(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[de]=A}return ne(_,p),Q(_,[{key:C.typeName,value:function(){return"Maybe("+this[de][Le]()+")"}},{key:C.read,value:function(A){var R=A==null?null:this[de][Ve](A);return R instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[de][Le]()+" type"):R}}]),_}(Qe),I=function(p){var _=Y(p);if(_===x)throw TypeError(p+" is not a valid type");return _[Te]||(_[Te]=new E(_))};L.Maybe=I,I.Type=E;var b=function(p){function _(A){U(this,_),ae(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[de]=A}return ne(_,p),Q(_,[{key:C.typeName,value:function(){return"Union("+this[de].map(pe).join(", ")+")"}},{key:C.read,value:function(A){for(var R,q=this[de],H=q.length,re=0;re<H;){if(R=q[re],A instanceof R.constructor)return A;++re}for(re=0;re<H;){var oe=q[re][Ve](A);if(!(oe instanceof TypeError))return oe;++re}return TypeError('"'+A+'" does not satisfy '+this[Le]()+" type")}}]),_}(Qe),M=function(p,_){return p.filter(function(A){return 0>_.indexOf(A)})},F=function(p,_){if(p.length>_.length){var A=M(_,p);return A.length===0?p:p.concat(A)}var A=M(p,_);return A.length===0?_:A.concat(_)},S=function(){for(var p=arguments.length,_=Array(p),A=0;A<p;A++)_[A]=arguments[A];var R=_.length;if(R===0)throw TypeError("Union must be of at at least one type");for(var q=null,H=null,re=0;re<R;){var oe=Y(_[re]);if(oe===x)return x;if(!q)H=oe,q=H instanceof b?H[de]:[oe];else if(0>q.indexOf(oe))if(oe instanceof b){var Me=F(q,oe[de]);Me===oe[de]?(H=oe,q=Me):Me!==q&&(H=null,q=Me)}else H=null,q.push(oe);++re}return H||new b(q)};L.Union=S,S.Type=b,C.Number.Range=function(p,_,A){return _===void 0&&(_=1/0),C("Typed.Number.Range("+p+".."+_+")",function(R){return typeof R=="number"?R>=p&&R<=_?R:TypeError('"'+R+`" isn't in the range of `+p+".."+_):TypeError('"'+R+'" is not a number')},A)}})}),X=i(function(y,T){(function(L,w){w(T,W,z)})(t,function(L,w,U){"use strict";function ne(Y,x){for(var E=Object.getOwnPropertyNames(x),I=0;I<E.length;I++){var b=E[I],M=Object.getOwnPropertyDescriptor(x,b);M&&M.configurable&&Y[b]===void 0&&Object.defineProperty(Y,b,M)}return Y}function K(Y,x,E){return x in Y?Object.defineProperty(Y,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):Y[x]=E,Y}function Q(Y,x){if(!(Y instanceof x))throw new TypeError("Cannot call a class as a function")}function ae(Y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof x>"u"?"undefined":s(x)));Y.prototype=Object.create(x&&x.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,x):ne(Y,x))}var ce=function(){function Y(x,E){var I,b=[],M=!0,F=!1;try{for(var S,p=x[Symbol.iterator]();!(M=(S=p.next()).done)&&(b.push(S.value),!(E&&b.length===E));M=!0);}catch(_){F=!0,I=_}finally{try{!M&&p.return&&p.return()}finally{if(F)throw I}}return b}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return Y(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),de=function(){function Y(x,E){for(var I,b=0;b<E.length;b++)I=E[b],I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}return function(x,E,I){return E&&Y(x.prototype,E),I&&Y(x,I),x}}(),We=function(Y,x,E){var I=!0;e:for(;I;){var b=Y,M=x,F=E;I=!1,b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,M);if(S===void 0){var p=Object.getPrototypeOf(b);if(p===null)return;Y=p,x=M,E=F,I=!0,S=p=void 0;continue e}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(F)}}},_e=U.Iterable.Keyed,Te=function(Y){return function(){return this.get(Y)}},ie=function(Y){return function(x){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(Y,x)}},$=w.Typed.store,te=w.Typed.type,Pe=w.Typed.step,at=w.Typed.init,Ve=w.Typed.result,$e=w.Typed.read,Le=w.Typed.label,J=w.Typed.empty,C=w.Typed.typeName,pe=w.Typed.typeSignature,Qe=function(){};Qe.prototype=U.Iterable.Keyed.prototype;var je=function(Y){function x(){Q(this,x),We(Object.getPrototypeOf(x.prototype),"constructor",this).call(this)}return ae(x,Y),de(x,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(E){return E.asImmutable()}},{key:w.Typed.read,value:function(E){var I=this.constructor;if(E&&E instanceof I)return E;if(E===null||E&&(typeof E>"u"?"undefined":s(E))!=="object")return TypeError('Invalid data structure "'+E+'" was passed to '+this[C]());var b=(0,U.Seq)(E),M=this[te],F=b.size===0;if(F&&this[J])return this[J];var S;for(var p in M){var _=M[p],A=b.has(p)?b.get(p):this.get(p),R=_[$e](A);if(R instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+R.message);S=this[Pe](S||this[at](),[p,R])}return S=this[Ve](S),F&&(this[J]=S),S}},{key:w.Typed.step,value:function(E,I){var b=ce(I,2),M=b[0],F=b[1],S=E[$]?E[$].set(M,F):new U.Map([[M,F]]);if(E[$]===S)return E;var p=E.__ownerID?E:(0,w.construct)(E);return p[$]=S,p}},{key:w.Typed.typeSignature,value:function(){var E=this[te],I=[];for(var b in E)I.push(b+": "+E[b][C]());return"Typed.Record({"+I.join(", ")+"})"}},{key:w.Typed.typeName,value:function(){return this[Le]||this[pe]()}},{key:"toString",value:function(){return this.__toString(this[C]()+"({","})")}},{key:"has",value:function(E){return!!this[te][E]}},{key:"get",value:function(E,I){return this[te][E]&&this[$]?this[$].get(E,I):I}},{key:"clear",value:function(){return this.__ownerID?(this[$]&&this[$].clear(),this):this[J]||(this[J]=new this.constructor)}},{key:"remove",value:function(E){return this[te][E]?this.set(E,void 0):this}},{key:"set",value:function(E,I){var b=this[te][E];if(!b)throw TypeError('Cannot set unknown field "'+E+'" on "'+this[C]()+'"');var M=b[$e](I);if(M instanceof TypeError)throw TypeError("Invalid value for "+E+" field: "+M.message);return this[Pe](this,[E,M])}},{key:"__iterator",value:function(E,I){var b=this;return _e(this[te]).map(function(M,F){return b.get(F)}).__iterator(E,I)}},{key:"__iterate",value:function(E,I){var b=this;return _e(this[te]).map(function(M,F){return b.get(F)}).__iterate(E,I)}},{key:"__ensureOwner",value:function(E){if(E===this.__ownerID)return this;var I=this[$]&&this[$].__ensureOwner(E),b=E?(0,w.construct)(this):this;return b.__ownerID=E,b[$]=I,b}},{key:"wasAltered",value:function(){return this[$].wasAltered()}}]),x}(Qe),et=function(Y,x){if(Y&&(typeof Y>"u"?"undefined":s(Y))==="object"){var E=Object.create(null),I=Object.keys(Y),b=I.length;if(0<b){var M,F=function(){for(var S=(M={size:{value:b}},K(M,te,{value:E}),K(M,Le,{value:x}),M),p=0;p<b;){var _=I[p],A=(0,w.typeOf)(Y[_]);if(A)E[_]=A,S[_]={get:Te(_),set:ie(_),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+_+'" field');++p}var R=function q(H){var re=this instanceof q,oe=re?this.constructor:q;if(H instanceof oe)return H;var Me=oe.prototype,St=Me[$e](H);if(St instanceof TypeError)throw St;return re?void(this[$]=St[$]):St};return S.constructor={value:R},R.prototype=Object.create(B,S),R.prototype,{v:R}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=et,et.Type=je,et.prototype=je.prototype;var B=je.prototype;B[w.Typed.DELETE]=B.remove,B.deleteIn=U.Map.prototype.deleteIn,B.removeIn=U.Map.prototype.removeIn,B.merge=U.Map.prototype.merge,B.mergeWith=U.Map.prototype.mergeWith,B.mergeIn=U.Map.prototype.mergeIn,B.mergeDeep=U.Map.prototype.mergeDeep,B.mergeDeepWith=U.Map.prototype.mergeDeepWith,B.mergeDeepIn=U.Map.prototype.mergeDeepIn,B.setIn=U.Map.prototype.setIn,B.update=U.Map.prototype.update,B.updateIn=U.Map.prototype.updateIn,B.withMutations=U.Map.prototype.withMutations,B.asMutable=U.Map.prototype.asMutable,B.asImmutable=U.Map.prototype.asImmutable,B.map=void 0,B.filter=void 0,B.filterNot=void 0,B.flip=void 0,B.mapKeys=void 0,B.mapEntries=void 0,B.sort=void 0,B.sortBy=void 0,B.reverse=void 0,B.slice=void 0,B.butLast=void 0,B.flatMap=void 0,B.flatten=void 0,B.rest=void 0,B.skip=void 0,B.skipLast=void 0,B.skipWhile=void 0,B.skipUntil=void 0,B.sortBy=void 0,B.take=void 0,B.takeLast=void 0,B.takeWhile=void 0,B.takeUntil=void 0})}),V=i(function(y,T){(function(L,w){w(T,W,z)})(t,function(L,w,U){"use strict";function ne(M,F){for(var S=Object.getOwnPropertyNames(F),p=0;p<S.length;p++){var _=S[p],A=Object.getOwnPropertyDescriptor(F,_);A&&A.configurable&&M[_]===void 0&&Object.defineProperty(M,_,A)}return M}function K(M,F,S){return F in M?Object.defineProperty(M,F,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[F]=S,M}function Q(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function ae(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):ne(M,F))}function ce(){}var de=function(){function M(F,S){var p,_=[],A=!0,R=!1;try{for(var q,H=F[Symbol.iterator]();!(A=(q=H.next()).done)&&(_.push(q.value),!(S&&_.length===S));A=!0);}catch(re){R=!0,p=re}finally{try{!A&&H.return&&H.return()}finally{if(R)throw p}}return _}return function(F,S){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return M(F,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),We=function(){function M(F,S){for(var p,_=0;_<S.length;_++)p=S[_],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,S,p){return S&&M(F.prototype,S),p&&M(F,p),F}}(),_e=function(M,F,S){var p=!0;e:for(;p;){var _=M,A=F,R=S;p=!1,_===null&&(_=Function.prototype);var q=Object.getOwnPropertyDescriptor(_,A);if(q===void 0){var H=Object.getPrototypeOf(_);if(H===null)return;M=H,F=A,S=R,p=!0,q=H=void 0;continue e}else{if("value"in q)return q.value;var re=q.get;return re===void 0?void 0:re.call(R)}}},Te=U.List,ie=U.Iterable.Indexed,$=w.Typed.store,te=w.Typed.type,Pe=w.Typed.read,at=w.Typed.step,Ve=w.Typed.init,$e=w.Typed.result,Le=w.Typed.label,J=w.Typed.typeName,C=w.Typed.empty,pe=function(M,F){var S=F(M[$]);if(S===M[$])return M;var p=M.__ownerID?M:(0,w.construct)(M);return p[$]=S,p.size=S.size,p},Qe=function(M){return M.clear()},je=function(M){return M.pop()},et=function(M){return M.shift()},B=function(M){function F(){Q(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return ae(F,M),We(F,[{key:w.Typed.typeName,value:function(){return"TypeInferer"}},{key:w.Typed.read,value:function(S){var p=(0,w.typeOf)(S).constructor.prototype;return this.type=this.type?(0,w.Union)(this.type,p):p,S}}]),F}(w.Type);ce.prototype=Te.prototype;var Y=function(M){function F(S){return Q(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Pe](S)}return ae(F,M),We(F,null,[{key:"from",value:function(S){var p=(0,w.construct)(this.prototype);return p[$]=S[$],p.size=S.size,p}}]),We(F,[{key:w.Typed.init,value:function(){var S=(0,w.construct)(this).asMutable();return S[te]=new B,S}},{key:w.Typed.result,value:function(S){var p=S.asImmutable();return p[te]=S[te].type,p}},{key:w.Typed.read,value:function(S){var p=this.constructor;if(S==null){if(!this[C]){var _=(0,w.construct)(this);_[$]=Te(),_.size=0,this[C]=_}return this[C]}if(S instanceof p&&S&&S.constructor===p)return S;var A=ie(S),R=A.size===0;if(R&&this[C])return this[C];var q=this[Ve]();return q.size=A.size,A.forEach(function(H,re){q.set(re,H)}),q=this[$e](q),R&&(this[C]=q),q}},{key:w.Typed.step,value:function(S,p){var _=de(p,2),A=_[0],R=_[1];return pe(S,function(){var q=0>=arguments.length||arguments[0]===void 0?Te():arguments[0];return q.set(A,R)})}},{key:w.Typed.typeName,value:function(){return this[Le]||"Typed.List("+this[te][J]()+")"}},{key:"toString",value:function(){return this.__toString(this[J]()+"([","])")}},{key:"has",value:function(S){return this[$].has(S)}},{key:"get",value:function(S,p){return this[$]?this[$].get(parseInt(S),p):p}},{key:"clear",value:function(){return this.__ownerID?pe(this,Qe):this[C]||this[Pe]()}},{key:"insert",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[te][Pe](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return pe(this,function(A){return A.insert(S,p)})}},{key:"remove",value:function(S){return pe(this,function(p){return p&&p.remove(S)})}},{key:"set",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[te][Pe](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return this[at](this,[S,_])}},{key:"push",value:function(){for(var S=this[te],p=[],_=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];for(var q=A.length,H=0;H<q;){var re=A[H],oe=S[Pe](re);if(oe instanceof TypeError)throw TypeError("Invalid value: "+oe.message);p.push(oe),++H}return pe(this,function(Me){return Me?Me.push.apply(Me,p):Te.apply(void 0,p)})}},{key:"pop",value:function(){return pe(this,je)}},{key:"unshift",value:function(){for(var S=this[te],p=[],_=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];for(var q=A.length,H=0;H<q;){var re=A[H],oe=S[Pe](re);if(oe instanceof TypeError)throw TypeError("Invalid value: "+oe.message);p.push(oe),++H}return pe(this,function(Me){return Me?Me.unshift.apply(Me,p):Te.apply(void 0,p)})}},{key:"shift",value:function(){return pe(this,et)}},{key:"setSize",value:function(S){if(S>this.size)throw TypeError("setSize may only downsize");return pe(this,function(p){return p.setSize(S)})}},{key:"slice",value:function(S,p){return pe(this,function(_){return _&&_.slice(S,p)})}},{key:"wasAltered",value:function(){return this[$].wasAltered()}},{key:"__ensureOwner",value:function(S){var p=this.__ownerID===S?this:S?(0,w.construct)(this):this;return p.__ownerID=S,p[$]=this[$]?this[$].__ensureOwner(S):Te().__ensureOwner(S),p.size=p[$].size,p}},{key:"__iterator",value:function(S,p){var _=this;return ie(this[$]).map(function(A,R){return _.get(R)}).__iterator(S,p)}},{key:"__iterate",value:function(S,p){var _=this;return ie(this[$]).map(function(A,R){return _.get(R)}).__iterate(S,p)}}]),F}(ce);Y.prototype[w.Typed.DELETE]=Y.prototype.remove;var x=function(){};x.prototype=Y.prototype;var E=function(M){function F(){Q(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return ae(F,M),We(F,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(S){return S.asImmutable()}},{key:"map",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).map(S,p);if(this[$]===_[$])return this;if(_[te]===this[te]){var A=(0,w.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}},{key:"flatMap",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).flatMap(S,p);if(this[$]===_[$])return this;if(_[te]===this[te]){var A=(0,w.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}}]),F}(x),I=function(M,F){var S;if(M===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(M===w.Any)return U.List;var p=(0,w.typeOf)(M);if(p===w.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+M);var _=function A(R){var q=this instanceof A,H=q?this.constructor:A;if(R instanceof H)return R;var re=H.prototype[Pe](R);if(re instanceof TypeError)throw re;if(q&&!this[$])this[$]=re[$],this.size=re.size;else return re;return this};return _.of=Te.of,_.prototype=Object.create(b,(S={constructor:{value:_}},K(S,te,{value:p}),K(S,Le,{value:F}),S)),_};L.List=I,I.Type=E,I.prototype=E.prototype;var b=E.prototype})}),ve=i(function(y,T){(function(L,w){w(T,W,z)})(t,function(L,w,U){"use strict";function ne(x,E){for(var I=Object.getOwnPropertyNames(E),b=0;b<I.length;b++){var M=I[b],F=Object.getOwnPropertyDescriptor(E,M);F&&F.configurable&&x[M]===void 0&&Object.defineProperty(x,M,F)}return x}function K(x,E,I){return E in x?Object.defineProperty(x,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[E]=I,x}function Q(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function ae(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof E>"u"?"undefined":s(E)));x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):ne(x,E))}var ce=function(){function x(E,I){var b,M=[],F=!0,S=!1;try{for(var p,_=E[Symbol.iterator]();!(F=(p=_.next()).done)&&(M.push(p.value),!(I&&M.length===I));F=!0);}catch(A){S=!0,b=A}finally{try{!F&&_.return&&_.return()}finally{if(S)throw b}}return M}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return x(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),de=function(){function x(E,I){for(var b,M=0;M<I.length;M++)b=I[M],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}return function(E,I,b){return I&&x(E.prototype,I),b&&x(E,b),E}}(),We=function(x,E,I){var b=!0;e:for(;b;){var M=x,F=E,S=I;b=!1,M===null&&(M=Function.prototype);var p=Object.getOwnPropertyDescriptor(M,F);if(p===void 0){var _=Object.getPrototypeOf(M);if(_===null)return;x=_,E=F,I=S,b=!0,p=_=void 0;continue e}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(S)}}},_e=U.Map,Te=U.Iterable.Keyed,ie=w.Typed.store,$=w.Typed.type,te=w.Typed.read,Pe=w.Typed.step,at=w.Typed.init,Ve=w.Typed.result,$e=w.Typed.label,Le=w.Typed.typeName,J=w.Typed.empty,C=function(x){function E(I,b,M){Q(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),this.key=I,this.value=b,this.label=M}return ae(E,x),de(E,[{key:w.Typed.typeName,value:function(){return this.label||this.key[Le]()+", "+this.value[Le]()}},{key:w.Typed.read,value:function(I){function b(){return I.apply(this,arguments)}return b.toString=function(){return I.toString()},b}(function(I){var b=ce(I,2),M=b[0],F=b[1],S=this.key[te](M);if(S instanceof TypeError)return TypeError("Invalid key: "+S.message);var p=this.value[te](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[S,p]})}]),E}(w.Type),pe=function(x){function E(){Q(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,key,value)}return ae(E,x),de(E,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:w.Typed.typeName,value:function(){var I=this.key?this.key[Le]():"TypeInferred",b=this.value?this.value[Le]():"TypeInferred";return I+", "+b}},{key:w.Typed.read,value:function(I){var b=(0,w.typeOf)(I[0]).constructor.prototype;this.key=this.key?(0,w.Union)(this.key,b):b;var M=(0,w.typeOf)(I[1]).constructor.prototype;return this.value=this.value?(0,w.Union)(this.value,M):M,I}}]),E}(C),Qe=function(){};Qe.prototype=U.Map.prototype;var je=function(x){function E(I){return Q(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),E.prototype[te](I)}return ae(E,x),de(E,[{key:"advance",value:function(I){var b=I.__ownerID?this:(0,w.construct)(this);return b[ie]=I,b.size=I.size,b.__ownerID=I.__ownerID,b}},{key:w.Typed.init,value:function(){return this.advance(_e()).asMutable()}},{key:w.Typed.step,value:function(I,b){var M=this[$][te](b);if(M instanceof TypeError)throw M;var F=ce(M,2),S=F[0],p=F[1];return I.advance(I[ie].set(S,p))}},{key:w.Typed.result,value:function(I){return I.asImmutable()}},{key:w.Typed.read,value:function(I){var b=this.constructor;if(I==null)return this[J]||(this[J]=this.advance(_e())),this[J];var M=I instanceof b&&I.constructor===b;if(M)return I;for(var F=Te(I).entries(),S=this[$],p=this[at]();;){var _=F.next(),A=_.done,R=_.value;if(A)break;var q=S[te](R);if(q instanceof TypeError)return q;p=p[Pe](p,q)}return this[Ve](p)}},{key:w.Typed.typeName,value:function(){return this[$e]||"Typed.Map("+this[$][Le]()+")"}},{key:"toString",value:function(){return this.__toString(this[Le]()+"({","})")}},{key:"has",value:function(I){return this[ie].has(I)}},{key:"get",value:function(I,b){return this[ie].get(I,b)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[ie].clear()):this[J]||this[te]()}},{key:"remove",value:function(I){return this.advance(this[ie].remove(I))}},{key:"set",value:function(I,b){return this[Pe](this,[I,b])}},{key:"wasAltered",value:function(){return this[ie].wasAltered()}},{key:"__ensureOwner",value:function(I){var b=this.__ownerID===I?this:I?(0,w.construct)(this):this,M=this[ie].__ensureOwner(I);return b[ie]=M,b.size=M.size,b.__ownerID=I,b}},{key:"__iterator",value:function(I,b){return this[ie].__iterator(I,b)}},{key:"__iterate",value:function(I,b){return this[ie].__iterate(I,b)}}]),E}(Qe);je.prototype[w.Typed.DELETE]=je.prototype.remove;var et=function(x){function E(){Q(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this)}return ae(E,x),de(E,[{key:w.Typed.init,value:function(){var I=this.advance(_e()).asMutable();return I[$]=new pe,I}},{key:w.Typed.result,value:function(I){var b=I.asImmutable();return b[$]=I[$].toStatic(),b}}]),E}(je),B=function(x,E,I){var b;if(x===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(E===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(x===w.Any&&E===w.Any)return _e;var M=(0,w.typeOf)(x),F=(0,w.typeOf)(E);if(M===w.Any&&x!==w.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+x);if(F===w.Any&&E!==w.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+E);var S=new C(M,F,I),p=function _(A){var R=this instanceof _,q=R?this.constructor:_;if(A instanceof q)return A;var H=q.prototype[te](A);if(H instanceof TypeError)throw H;if(R&&!this[ie])this[ie]=H[ie],this.size=H.size;else return H;return this};return p.of=function(){for(var _=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];return p().withMutations(function(q){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);q.set(A[H],A[H+1])}})},p.prototype=Object.create(Y,(b={constructor:{value:p}},K(b,$,{value:S}),K(b,$e,{value:I}),b)),p};L.Map=B,B.Type=je,B.prototype=je.prototype;var Y=B.prototype})}),Se=i(function(y,T){(function(L,w){w(T,X,V,ve,W)})(t,function(L,w,U,ne,K){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return w.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return U.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return ne.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return K.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return K.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return K.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return K.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return K.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return K.Maybe}})})}),Ie=Se.Typed,be=Se.Record,Fe=Se.List,Vt=Se.Map,ot=Se.Any,Xe="[object Function]",Lr="[object GeneratorFunction]",Et=Object.prototype,er=Et.toString;function tr(y){var T=It(y)?er.call(y):"";return T==Xe||T==Lr}function It(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}var qt=tr;function ci(y){return y===null}var lr=ci;function kn(y){return y===void 0}var Gu=kn,fi=i(function(y,T){function L(Te){return!!Te&&(typeof Te>"u"?"undefined":s(Te))=="object"}var w=s(t)=="object"&&t&&t.Object===Object&&t,U=T&&!T.nodeType&&T,ne=U&&!0&&y&&!y.nodeType&&y,K=ne&&ne.exports===U,Q=K&&w.process,ae=function(){try{return Q&&Q.binding("util")}catch{}}(),ce=ae&&ae.isDate,de=Object.prototype,We=de.toString,_e=ce?function(Te){return function(ie){return Te(ie)}}(ce):function(Te){return L(Te)&&We.call(Te)=="[object Date]"};y.exports=_e}),hi=1/0,Yu=9007199254740991,Ju=17976931348623157e292,Ho=NaN,Ku="[object Symbol]",Xu=/^\s+|\s+$/g,Qu=/^[-+]0x[0-9a-f]+$/i,el=/^0b[01]+$/i,tl=/^0o[0-7]+$/i,Zo="\\ud800-\\udfff",rl="\\u0300-\\u036f\\ufe20-\\ufe23",nl="\\u20d0-\\u20f0",il="\\ufe0e\\ufe0f",ol="["+Zo+"]",di="["+rl+nl+"]",pi="\\ud83c[\\udffb-\\udfff]",sl="(?:"+di+"|"+pi+")",$o="[^"+Zo+"]",Bo="(?:\\ud83c[\\udde6-\\uddff]){2}",Go="[\\ud800-\\udbff][\\udc00-\\udfff]",al="\\u200d",Yo=sl+"?",Jo="["+il+"]?",ul="(?:"+al+"(?:"+[$o,Bo,Go].join("|")+")"+Jo+Yo+")*",ll=Jo+Yo+ul,cl="(?:"+[$o+di+"?",di,Bo,Go,ol].join("|")+")",mi=RegExp(pi+"(?="+pi+")|"+cl+ll,"g"),fl=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,hl=parseInt,dl=s(t)=="object"&&t&&t.Object===Object&&t,pl=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,ml=dl||pl||Function("return this")(),yl=gl("length");function vl(y){return y.split("")}function gl(y){return function(T){return T?.[y]}}function yi(y){return fl.test(y)}function Ko(y){return yi(y)?Tl(y):yl(y)}function _l(y){return yi(y)?wl(y):vl(y)}function Tl(y){for(var T=mi.lastIndex=0;mi.test(y);)T++;return T}function wl(y){return y.match(mi)||[]}var El=Object.prototype,Il=El.toString,Xo=ml.Symbol,Sl=Math.ceil,Ol=Math.floor,Qo=Xo?Xo.prototype:void 0,es=Qo?Qo.toString:void 0;function ts(y,T){var L="";if(!y||1>T||T>Yu)return L;do T%2&&(L+=y),T=Ol(T/2),T&&(y+=y);while(T);return L}function kl(y,T,L){var w=-1,U=y.length;0>T&&(T=-T>U?0:U+T),L=L>U?U:L,0>L&&(L+=U),U=T>L?0:L-T>>>0,T>>>=0;for(var ne=Array(U);++w<U;)ne[w]=y[w+T];return ne}function rs(y){if(typeof y=="string")return y;if(is(y))return es?es.call(y):"";var T=y+"";return T=="0"&&1/y==-hi?"-0":T}function Dl(y,T,L){var w=y.length;return L=L===void 0?w:L,!T&&L>=w?y:kl(y,T,L)}function bl(y,T){T=T===void 0?" ":rs(T);var L=T.length;if(2>L)return L?ts(T,y):T;var w=ts(T,Sl(y/Ko(T)));return yi(T)?Dl(_l(w),0,y).join(""):w.slice(0,y)}function ns(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}function Ml(y){return!!y&&(typeof y>"u"?"undefined":s(y))=="object"}function is(y){return(typeof y>"u"?"undefined":s(y))=="symbol"||Ml(y)&&Il.call(y)==Ku}function xl(y){if(!y)return y===0?y:0;if(y=Nl(y),y===hi||y===-hi){var T=0>y?-1:1;return T*Ju}return y===y?y:0}function Al(y){var T=xl(y),L=T%1;return T===T?L?T-L:T:0}function Nl(y){if(typeof y=="number")return y;if(is(y))return Ho;if(ns(y)){var T=typeof y.valueOf=="function"?y.valueOf():y;y=ns(T)?T+"":T}if(typeof y!="string")return y===0?y:+y;y=y.replace(Xu,"");var L=el.test(y);return L||tl.test(y)?hl(y.slice(2),L?2:8):Qu.test(y)?Ho:+y}function Fl(y){return y==null?"":rs(y)}function Ll(y,T,L){y=Fl(y),T=Al(T);var w=T?Ko(y):0;return T&&w<T?bl(T-w,L)+y:y}var zr=Ll,os=function(y){return y.getFullYear()+zr(y.getMonth()+1,2,0)+zr(y.getDate(),2,0)},ss=function(y){return zr(y.getHours(),2,0)+zr(y.getMinutes(),2,0)+zr(y.getSeconds(),2,0)},zl=function(y){return os(y)+"T"+ss(y)},as=function(y){var T=6e4*y.getTimezoneOffset();return new Date(y.getTime()+T)},Cl=function(y){return y?"TRUE":"FALSE"},Rl=function(y){return fi(y)?os(as(y)):y},Ul=function(y){return fi(y)?zl(y):y},us=function(y){return Number.parseFloat(y)},Wl=function(){return us.apply(void 0,arguments).toFixed(1)},jl=function(y){return Number.parseInt(y)},Pl=function(y){return y.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},Vl=function(y){return fi(y)?ss(as(y)):y},ql=Object.freeze({BOOLEAN:Cl,DATE:Rl,DATETIME:Ul,FLOAT:us,FLOAT__FIXED_1:Wl,INTEGER:jl,TEXT:Pl,TIME:Vl}),Hl=`\r
 `,Zl=`\r
`,ls=";",$l="=",Bl="VALUE",Gl=":",Yl=",",Jl=new RegExp(/[\s\S]{1,75}/g),Kl="BEGIN",Xl="END",we={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},Ql=we.TEXT,ec={ATTACH:we.URI,ATTENDEE:we.CALADDRESS,CREATED:we.DATETIME,DTSTART:we.DATETIME,DTEND:we.DATETIME,DTSTAMP:we.DATETIME,DUE:we.DATETIME,DURATION:we.DURATION,EXDATE:we.DATETIME,FREEBUSY:we.PERIOD,"LAST-MODIFIED":we.DATETIME,ORGANIZER:we.CALADDRESS,"PERCENT-COMPLETE":we.INTEGER,PRIORITY:we.INTEGER,RDATE:we.DATETIME,"RECURRENCE-ID":we.DATETIME,REPEAT:we.INTEGER,RRULE:we.RECUR,SEQUENCE:we.INTEGER,TRIGGER:we.DURATION,TZOFFSETFROM:we.UTCOFFSET,TZOFFSETTO:we.UTCOFFSET,TZURL:we.URI,URL:we.URI,VERSION:we.FLOAT+"__FIXED_1"},Dn=function(y){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,y),c(T,[{key:"getTransformedValue",value:function(){var w=this,U=we[this.parameters.get(Bl)]||ec[this.name]||Ql,ne=ql[U];return qt(ne)?Array.isArray(this.value)?this.value.map(function(K){return ne(K,w.parameters)}).join(Yl):ne(this.value,this.parameters):this.value}},{key:"toString",value:function(){var w=this.name;0<this.parameters.size&&(w+=ls+this.parameters.entrySeq().map(function(ne){var K=v(ne,2),Q=K[0],ae=K[1];return Q+$l+ae}).join(ls));var U=this.transform?this.getTransformedValue():this.value;return lr(U)||Gu(U)||(w+=Gl+U),w.match(Jl).join(Hl)}}]),T}(be({name:String,parameters:Vt(String,ot),transform:!0,value:ot}));Ie.Component=Ie("Component",function(y){return y instanceof cs?y:TypeError('"'+y+'" is not a Component')}),Ie.Property=Ie("Property",function(y){return y instanceof Dn?y:TypeError('"'+y+'" is not a Property')});var cs=function(y){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,y),c(T,[{key:"pushComponent",value:function(w){return this.update("components",function(U){return U.push(w)})}},{key:"pushProperty",value:function(w){return this.update("properties",function(U){return U.push(w)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new Dn({name:Kl,value:this.name})].concat(D(this.properties),D(this.components),[new Dn({name:Xl,value:this.name})]).join(Zl)}}]),T}(be({name:String,components:Fe(Ie.Component),properties:Fe(Ie.Property)}));n.Component=cs,n.Property=Dn,Object.defineProperty(n,"__esModule",{value:!0})})});var Vu=ha((Po,Vo)=>{(function(n,t){typeof define=="function"&&define.amd?define([],t):typeof Po<"u"?t():(t(),n.FileSaver={})})(Po,function(){"use strict";function n(m,v){return typeof v>"u"?v={autoBom:!1}:typeof v!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),v={autoBom:!v}),v.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function t(m,v,D){var z=new XMLHttpRequest;z.open("GET",m),z.responseType="blob",z.onload=function(){h(z.response,v,D)},z.onerror=function(){console.error("could not download file")},z.send()}function i(m){var v=new XMLHttpRequest;v.open("HEAD",m,!1);try{v.send()}catch{}return 200<=v.status&&299>=v.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(v)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(m,v,D){var z=l.URL||l.webkitURL,W=document.createElement("a");v=v||m.name||"download",W.download=v,W.rel="noopener",typeof m=="string"?(W.href=m,W.origin===location.origin?s(W):i(W.href)?t(m,v,D):s(W,W.target="_blank")):(W.href=z.createObjectURL(m),setTimeout(function(){z.revokeObjectURL(W.href)},4e4),setTimeout(function(){s(W)},0))}:"msSaveOrOpenBlob"in navigator?function(m,v,D){if(v=v||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,D),v);else if(i(m))t(m,v,D);else{var z=document.createElement("a");z.href=m,z.target="_blank",setTimeout(function(){s(z)})}}:function(m,v,D,z){if(z=z||open("","_blank"),z&&(z.document.title=z.document.body.innerText="downloading..."),typeof m=="string")return t(m,v,D);var W=m.type==="application/octet-stream",X=/constructor/i.test(l.HTMLElement)||l.safari,V=/CriOS\/[\d]+/.test(navigator.userAgent);if((V||W&&X||c)&&typeof FileReader<"u"){var ve=new FileReader;ve.onloadend=function(){var be=ve.result;be=V?be:be.replace(/^data:[^;]*;/,"data:attachment/file;"),z?z.location.href=be:location=be,z=null},ve.readAsDataURL(m)}else{var Se=l.URL||l.webkitURL,Ie=Se.createObjectURL(m);z?z.location=Ie:location.href=Ie,z=null,setTimeout(function(){Se.revokeObjectURL(Ie)},4e4)}});l.saveAs=h.saveAs=h,typeof Vo<"u"&&(Vo.exports=h)})});var Gh={};Lc(Gh,{gapiLoaded:()=>Ta,gisLoaded:()=>wa,hideOverlay:()=>Sn});var Cc="845509487647-5786nh91r45rsm485m2mb4cqcfmis94g.apps.googleusercontent.com",Rc=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],Uc="https://www.googleapis.com/auth/calendar",Wc=document.getElementById("authorize_button"),jc=document.getElementById("signout_button"),ma=document.getElementById("logged_in_section"),ya=document.getElementById("logged_out_section"),Yi,ga=!1,_a=!1;function $r(n){n?(ya.style.display="none",ma.style.display="block",Hc()):(ya.style.display="block",ma.style.display="none")}$r(!1);function Ta(){gapi.load("client",Pc)}async function Pc(){await gapi.client.init({discoveryDocs:Rc}),ga=!0,Ea()}function wa(){Yi=google.accounts.oauth2.initTokenClient({client_id:Cc,scope:Uc,callback:async n=>{if(console.log(n),n.error!==void 0)throw n;$r(!0)}}),_a=!0,Ea()}function Ea(){ga&&_a&&(Wc.onclick=Vc,jc.onclick=qc,console.log("Setting up Google section"),gapi.client.getToken()!==null?$r(!0):$r(!1))}function Vc(){gapi.client.getToken()===null?Yi.requestAccessToken({prompt:"consent"}):Yi.requestAccessToken({prompt:""})}function qc(){let n=gapi.client.getToken();n!==null&&(google.accounts.oauth2.revoke(n.access_token),gapi.client.setToken(""),$r(!1))}function Ia(n,t,i,s,l=0){s(t.length);let c=3;console.log(`Importing ${t.length} events`);let h=0,m=500*(l+1),v=t.map(D=>(h+=m,new Promise(z=>setTimeout(z,h)).then(()=>gapi.client.calendar.events.insert({calendarId:n,resource:D}))));Promise.allSettled(v).then(D=>{let z=[],W=[];D.forEach((X,V)=>{X.status==="rejected"&&(z.push(t[V]),W.push(V))}),console.log(`Number of failed imports: ${z.length}`),z.length===0?s(0):l<c?Ia(n,z,i,s,l+1):(console.error("Unable to import some events to Calendar",D[W[0]].reason),s(-1),i(D[W[0]].reason))})}function va(n,t,i,s){let l=[];n.forEach(function(c,h){let m={summary:c.summary,start:{dateTime:c.start.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},end:{dateTime:c.end.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},recurrence:[]};c.location!==void 0&&(m.location=c.location),c.description!==void 0&&(m.description=c.description),c.rrule!==void 0&&m.recurrence.push("RRULE:"+c.rrule),c.rdate!==void 0&&m.recurrence.push("RDATE:"+c.rdate),l.push(m)}),document.getElementById("importProgress").style.display="block",Ia(t,l,i,s)}function Hc(){return gapi.client.calendar.calendarList.list({minAccessRole:"writer"}).then(function(n){let t=document.getElementById("calendarId");n.result.items.forEach(function(s,l){/Polimi|Universit/i.test(s.summary)?t[l]=new Option(s.summary,s.id,!0,!0):t[l]=new Option(s.summary,s.id)})},function(n){console.error("Execute error",n)})}function Sa(n,t,i){let s=document.getElementById("newCalendar"),l=null,c=document.getElementById("calendarId");if(s.checked===!0||c.options.length===0){document.getElementById("creationProgress").style.display="block";let h=document.getElementById("newName").value;gapi.client.calendar.calendars.insert({resource:{summary:h,timeZone:"Europe/Rome"}}).then(function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationOk").style.display="block",setTimeout(function(){document.getElementById("creationOk").style.display="none"},3e3),l=m.result.id,va(n,l,t,i)},function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},5e3),console.error("Execute error",m),t(m.body)})}else l=c.options[c.selectedIndex].value,va(n,l,t,i)}var Br={en:{text:{title:"PoliMi schedule converter",inputLabel:"Paste lessons copied from the text timetable",saveFile:" Save to file",importToGcal:" Import to Google Calendar",error:"Error! Unable to generate the calendar",selectCalText:"Choose which calendar to add the events to",calendarIdLabel:"Choose an existing calendar",orSelect:"or",newCalendarLabel:" Create new calendar",newNameLabel:"Name:",importButtonText:"Import",creationProgress:"Creating calendar...",creationOk:"Calendar created",creationFail:"Unable to create calendar",homeOverview:"Convert the timetable of the Politecnico di Milano courses into an iCalendar file or import it into Google Calendar",homeInfo:"PoliMi doesn't have any way to import the courses schedule into external calendars. With this converter you can transform the text timetable into a standard calendar format, iCalendar. Events in this format can be imported easily into most of calendar services and applications. In the following links you can see how to import them on some popular services:",homeImportGoogle:"Import to Google Calendar",homeImportOutlook:"Import to Outlook",homeDetails:"With this tool you can also import events directly to Google Calendar, without having to download any iCalendar file.<br>The tool is available at:",homeUserscriptInfo:"The converter can be used from the PoliMi website as a Userscript, installed by clicking <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>here</a>. In this case you need to have an Userscript manager, such as Greasemonkey or Tampermonkey. Quick import to Google Calendar isn't available in this mode.",repoInfo:"You can read the converter code on its <a href='https://github.com/bebora/polimi-schedule-js'>Github repository</a>.",howToUseHead:"How to use?",howToUseContent:`Go to the timetable page you want to convert. You can use both the one from <a href='https://www.polimi.it/en/online-services/'>Online services</a> and the one from <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In the latter case, make sure to enable the customized time schedule and choose some courses, then go to "View the schedule".<br>Click on "Text timetable" and select the courses with your mouse, then copy them with a right click or by pressing Ctrl+C (\u2318+C on Mac).`,howToUseEnd:"Go to the converter page and paste the text with a right click or by pressing Ctrl+V (\u2318+V on Mac). Click on the appropriate button to download the events or to import them to Google Calendar.",gcalendarHead:"Google Calendar integration",gcalendarText:"The app can directly insert events Google Calendar to simplify the import, without having to download any file.<br>In order to do so, it explicitly requests user consent to connect to their Google account. Specifically, the app needs to read the names of existing calendars to list them when the user chooses where to import the events. The user may want to create a new calendar for the events, so the app also needs write access on Google Calendar. Full access permissions(read+write) are then needed for the correct app operations, but it doesn't and will never use them for purposes other than those described here.<br>You can read the complete privacy policy by clicking on the link at the bottom of the page.",homepageFooter:"Home + How to use",howToLink:"How to use",importProgressPre:"Importing",importProgressPost:"events...",importOk:"Events imported \u2705",importFail:"Unable to import the events",zeroEvents:"No events to import",errorTitle:"Oops! Something went wrong",genericError:"The text you pasted isn't valid or it is in a new unsupported format.",googleErrorSuggestion:"If you are using Google Calendar, check that your connection works and that you gave the required permissions to the application.",errorContact:"The problem may happen to other users! You can report it on Telegram or GitHub.",telegramGroup:"Telegram group",githubIssue:"Open Issue",manualErrorPopup:"Not working?"},placeholder:{input:"Paste lessons copied from the text timetable"}},it:{text:{title:"Convertitore orario PoliMi",inputLabel:"Incolla le lezioni copiate dall'orario testuale",saveFile:" Salva su file",importToGcal:" Importa su Google Calendar",error:"Errore! Non riesco a generare il calendario",selectCalText:"Seleziona il calendario dove importare gli eventi",calendarIdLabel:"Scegli un calendario esistente",orSelect:"oppure",newCalendarLabel:" Crea nuovo calendario",newNameLabel:"Nome:",importButtonText:"Importa",creationProgress:"Creando il calendario...",creationOk:"Calendario creato",creationFail:"Creazione calendario fallita",homeOverview:"Converti le lezioni del Politecnico di Milano in un file iCalendar o importale su Google Calendar",homeInfo:"Il PoliMi non consente normalmente di importare gli orari delle lezioni su calendari esterni. Con questo convertitore \xE8 possibile trasformare l'orario testuale dei Servizi Online in un calendario in formato standard, ovvero iCalendar. Gli orari in formato iCalendar possono essere importati facilmente nella maggior parte delle applicazioni o servizi di calendario. Per esempio, nelle seguenti pagine \xE8 descritto come importare file iCalendar su alcuni servizi popolari:",homeImportGoogle:"Importazione su Google Calendar",homeImportOutlook:"Importazione su Outlook",homeDetails:"Con questo tool \xE8 inoltre possibile importare gli eventi direttamente su Google Calendar, senza dover scaricare il file iCalendar, per rendere l'importazione ancora pi\xF9 semplice.<br>Il tool \xE8 disponibile al seguente link:",homeUserscriptInfo:"Il convertitore pu\xF2 essere usato dal sito del PoliMi se installato come Userscript, cliccando <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>qui</a>. In tal caso \xE8 necessario avere un Userscript manager, come Greasemonkey o Tampermonkey. Con questa modalit\xE0 non \xE8 integrata l'importazione veloce su Google Calendar.",repoInfo:"\xC8 possibile consultare il codice del tool nella sua <a href='https://github.com/bebora/polimi-schedule-js'>repository Github</a>.",howToUseHead:"Come si usa?",howToUseContent:`Vai sulla pagina degli orari che vuoi convertire. Puoi usare sia quella dei <a href='https://www.polimi.it/servizionline/'>Servizi Online</a> con gli orari dei tuoi corsi, sia quella del <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In quest'ultimo caso, assicurati di abilitare l'orario personalizzato e scegliere delle materie, poi clicca su "Visualizza l'orario".<br>Clicca quindi su "Orario testuale" e seleziona gli orari con il mouse, poi copiali con il tasto destro oppure premendo Ctrl+C (\u2318+C su Mac).`,howToUseEnd:"Vai sulla pagina del convertitore ed incolla il testo con il tasto destro o premendo Ctrl+V (\u2318+V su Mac). Clicca sul bottone opportuno per scaricare il calendario o per importarlo su Google Calendar.",gcalendarHead:"Integrazione con Google Calendar",gcalendarText:"L'app pu\xF2 inserire gli eventi su Google Calendar direttamente per semplificare il pi\xF9 possibile l'importazione, senza dover scaricare nessun file.<br>Per fare ci\xF2, richiede esplicitamente il consenso dell'utente per collegarsi all'account Google. In particolare, l'app ha bisogno di leggere i nomi dei calendari esistenti per poi proporli se l'utente vuole importare gli eventi in un calendario esistente. L'utente pu\xF2 voler creare un nuovo calendario per gli eventi, quindi l'app ha bisogno anche dei permessi in scrittura sul calendario Google. Sono necessari quindi permessi completi sul calendario, ma l'app non usa ora n\xE9 user\xE0 mai i permessi per scopi differenti da quelli qui descritti.<br>\xC8 possibile vedere la privacy policy completa cliccando sul link a fondo pagina.",homepageFooter:"Home + Istruzioni d'uso",howToLink:"Istruzioni",importProgressPre:"Importando",importProgressPost:"eventi...",importOk:"Eventi importati \u2705",importFail:"Impossibile importare gli eventi",zeroEvents:"Nessun evento da importare",errorTitle:"Ops! Qualcosa \xE8 andato storto",genericError:"Il testo che hai incollato non \xE8 valido oppure \xE8 in un nuovo formato non supportato.",googleErrorSuggestion:"Se stai usando Google Calendar, controlla di avere una connessione funzionante e di aver dato i permessi all'applicazione.",errorContact:"Il problema potrebbe capitare anche ad altri utenti! Puoi segnalarlo su Telegram o GitHub.",telegramGroup:"Gruppo Telegram",githubIssue:"Apri Issue",manualErrorPopup:"Qualcosa non va?"},placeholder:{input:"Incolla le lezioni copiate dall'orario testuale"}}};function jn(n){let t="en";n in Br&&(t=n);for(let[i,s]of Object.entries(Br[t].text)){let l=document.getElementById(i);l!==null&&(l.innerHTML=s)}for(let[i,s]of Object.entries(Br[t].placeholder)){let l=document.getElementById(i);l!==null&&(l.placeholder=s)}document.getElementById(t+"Flag").classList.remove("grayscale");for(let i of Object.keys(Br).filter(s=>s!==t))document.getElementById(i+"Flag").classList.add("grayscale");document.title=Br[t].text.title}var Ut=class extends Error{},Pn=class extends Ut{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},Vn=class extends Ut{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},qn=class extends Ut{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},Dt=class extends Ut{},Tr=class extends Ut{constructor(t){super(`Invalid unit ${t}`)}},Ue=class extends Ut{},bt=class extends Ut{constructor(){super("Zone is an abstract class")}};var j="numeric",Mt="short",ht="long",Bt={year:j,month:j,day:j},Gr={year:j,month:Mt,day:j},Ji={year:j,month:Mt,day:j,weekday:Mt},Yr={year:j,month:ht,day:j},Jr={year:j,month:ht,day:j,weekday:ht},Kr={hour:j,minute:j},Xr={hour:j,minute:j,second:j},Qr={hour:j,minute:j,second:j,timeZoneName:Mt},en={hour:j,minute:j,second:j,timeZoneName:ht},tn={hour:j,minute:j,hourCycle:"h23"},rn={hour:j,minute:j,second:j,hourCycle:"h23"},nn={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:Mt},on={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:ht},sn={year:j,month:j,day:j,hour:j,minute:j},an={year:j,month:j,day:j,hour:j,minute:j,second:j},un={year:j,month:Mt,day:j,hour:j,minute:j},ln={year:j,month:Mt,day:j,hour:j,minute:j,second:j},Ki={year:j,month:Mt,day:j,weekday:Mt,hour:j,minute:j},cn={year:j,month:ht,day:j,hour:j,minute:j,timeZoneName:Mt},fn={year:j,month:ht,day:j,hour:j,minute:j,second:j,timeZoneName:Mt},hn={year:j,month:ht,day:j,weekday:ht,hour:j,minute:j,timeZoneName:ht},dn={year:j,month:ht,day:j,weekday:ht,hour:j,minute:j,second:j,timeZoneName:ht};var st=class{get type(){throw new bt}get name(){throw new bt}get ianaName(){return this.name}get isUniversal(){throw new bt}offsetName(t,i){throw new bt}formatOffset(t,i){throw new bt}offset(t){throw new bt}equals(t){throw new bt}get isValid(){throw new bt}};var Xi=null,Gt=class n extends st{static get instance(){return Xi===null&&(Xi=new n),Xi}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Zn(t,i,s)}formatOffset(t,i){return Yt(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}};var Bn={};function Zc(n){return Bn[n]||(Bn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Bn[n]}var $c={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Bc(n,t){let i=n.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,l,c,h,m,v,D,z]=s;return[h,l,c,m,v,D,z]}function Gc(n,t){let i=n.formatToParts(t),s=[];for(let l=0;l<i.length;l++){let{type:c,value:h}=i[l],m=$c[c];c==="era"?s[m]=h:G(m)||(s[m]=parseInt(h,10))}return s}var $n={},Ke=class n extends st{static create(t){return $n[t]||($n[t]=new n(t)),$n[t]}static resetCache(){$n={},Bn={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=n.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Zn(t,i,s,this.name)}formatOffset(t,i){return Yt(this.offset(t),i)}offset(t){let i=new Date(t);if(isNaN(i))return NaN;let s=Zc(this.name),[l,c,h,m,v,D,z]=s.formatToParts?Gc(s,i):Bc(s,i);m==="BC"&&(l=-Math.abs(l)+1);let X=wr({year:l,month:c,day:h,hour:v===24?0:v,minute:D,second:z,millisecond:0}),V=+i,ve=V%1e3;return V-=ve>=0?ve:1e3+ve,(X-V)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}};var Oa={};function Yc(n,t={}){let i=JSON.stringify([n,t]),s=Oa[i];return s||(s=new Intl.ListFormat(n,t),Oa[i]=s),s}var Qi={};function eo(n,t={}){let i=JSON.stringify([n,t]),s=Qi[i];return s||(s=new Intl.DateTimeFormat(n,t),Qi[i]=s),s}var to={};function Jc(n,t={}){let i=JSON.stringify([n,t]),s=to[i];return s||(s=new Intl.NumberFormat(n,t),to[i]=s),s}var ro={};function Kc(n,t={}){let{base:i,...s}=t,l=JSON.stringify([n,s]),c=ro[l];return c||(c=new Intl.RelativeTimeFormat(n,t),ro[l]=c),c}var pn=null;function Xc(){return pn||(pn=new Intl.DateTimeFormat().resolvedOptions().locale,pn)}var ka={};function Qc(n){let t=ka[n];if(!t){let i=new Intl.Locale(n);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,ka[n]=t}return t}function ef(n){let t=n.indexOf("-x-");t!==-1&&(n=n.substring(0,t));let i=n.indexOf("-u-");if(i===-1)return[n];{let s,l;try{s=eo(n).resolvedOptions(),l=n}catch{let v=n.substring(0,i);s=eo(v).resolvedOptions(),l=v}let{numberingSystem:c,calendar:h}=s;return[l,c,h]}}function tf(n,t,i){return(i||t)&&(n.includes("-u-")||(n+="-u"),i&&(n+=`-ca-${i}`),t&&(n+=`-nu-${t}`)),n}function rf(n){let t=[];for(let i=1;i<=12;i++){let s=he.utc(2009,i,1);t.push(n(s))}return t}function nf(n){let t=[];for(let i=1;i<=7;i++){let s=he.utc(2016,11,13+i);t.push(n(s))}return t}function Gn(n,t,i,s){let l=n.listingMode();return l==="error"?null:l==="en"?i(t):s(t)}function of(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var no=class{constructor(t,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:l,floor:c,...h}=s;if(!i||Object.keys(h).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=Jc(t,m)}}format(t){if(this.inf){let i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{let i=this.floor?Math.floor(t):Er(t,3);return Ae(i,this.padTo)}}},io=class{constructor(t,i,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let h=-1*(t.offset/60),m=h>=0?`Etc/GMT+${h}`:`Etc/GMT${h}`;t.offset!==0&&Ke.create(m).valid?(l=m,this.dt=t):(l="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,l=t.zone.name):(l="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=eo(i,c)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){let s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:s}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},oo=class{constructor(t,i,s){this.opts={style:"long",...s},!i&&Yn()&&(this.rtf=Kc(t,s))}format(t,i){return this.rtf?this.rtf.format(t,i):Da(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}},sf={firstDay:1,minimalDays:4,weekend:[6,7]},ge=class n{static fromOpts(t){return n.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,s,l,c=!1){let h=t||me.defaultLocale,m=h||(c?"en-US":Xc()),v=i||me.defaultNumberingSystem,D=s||me.defaultOutputCalendar,z=mn(l)||me.defaultWeekSettings;return new n(m,v,D,z,h)}static resetCache(){pn=null,Qi={},to={},ro={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:s,weekSettings:l}={}){return n.create(t,i,s,l)}constructor(t,i,s,l,c){let[h,m,v]=ef(t);this.locale=h,this.numberingSystem=i||m||null,this.outputCalendar=s||v||null,this.weekSettings=l,this.intl=tf(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=of(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:n.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,mn(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return Gn(this,t,so,()=>{let s=i?{month:t,day:"numeric"}:{month:t},l=i?"format":"standalone";return this.monthsCache[l][t]||(this.monthsCache[l][t]=rf(c=>this.extract(c,s,"month"))),this.monthsCache[l][t]})}weekdays(t,i=!1){return Gn(this,t,ao,()=>{let s=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},l=i?"format":"standalone";return this.weekdaysCache[l][t]||(this.weekdaysCache[l][t]=nf(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][t]})}meridiems(){return Gn(this,void 0,()=>uo,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Gn(this,t,lo,()=>{let i={era:t};return this.eraCache[t]||(this.eraCache[t]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[t]})}extract(t,i,s){let l=this.dtFormatter(t,i),c=l.formatToParts(),h=c.find(m=>m.type.toLowerCase()===s);return h?h.value:null}numberFormatter(t={}){return new no(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new io(t,this.intl,i)}relFormatter(t={}){return new oo(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Yc(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Jn()?Qc(this.locale):sf}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}};var fo=null,qe=class n extends st{static get utcInstance(){return fo===null&&(fo=new n(0)),fo}static instance(t){return t===0?n.utcInstance:new n(t)}static parseSpecifier(t){if(t){let i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new n(ir(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Yt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Yt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Yt(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}};var Ir=class extends st{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function xt(n,t){let i;if(G(n)||n===null)return t;if(n instanceof st)return n;if(ba(n)){let s=n.toLowerCase();return s==="default"?t:s==="local"||s==="system"?Gt.instance:s==="utc"||s==="gmt"?qe.utcInstance:qe.parseSpecifier(s)||Ke.create(n)}else return Ct(n)?qe.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Ir(n)}var Ma=()=>Date.now(),xa="system",Aa=null,Na=null,Fa=null,La=60,za,Ca=null,me=class{static get now(){return Ma}static set now(t){Ma=t}static set defaultZone(t){xa=t}static get defaultZone(){return xt(xa,Gt.instance)}static get defaultLocale(){return Aa}static set defaultLocale(t){Aa=t}static get defaultNumberingSystem(){return Na}static set defaultNumberingSystem(t){Na=t}static get defaultOutputCalendar(){return Fa}static set defaultOutputCalendar(t){Fa=t}static get defaultWeekSettings(){return Ca}static set defaultWeekSettings(t){Ca=mn(t)}static get twoDigitCutoffYear(){return La}static set twoDigitCutoffYear(t){La=t%100}static get throwOnInvalid(){return za}static set throwOnInvalid(t){za=t}static resetCaches(){ge.resetCache(),Ke.resetCache()}};var He=class{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var Ra=[0,31,59,90,120,151,181,212,243,273,304,334],Ua=[0,31,60,91,121,152,182,213,244,274,305,335];function _t(n,t){return new He("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function Kn(n,t,i){let s=new Date(Date.UTC(n,t-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let l=s.getUTCDay();return l===0?7:l}function Wa(n,t,i){return i+(sr(n)?Ua:Ra)[t-1]}function ja(n,t){let i=sr(n)?Ua:Ra,s=i.findIndex(c=>c<t),l=t-i[s];return{month:s+1,day:l}}function Xn(n,t){return(n-t+7)%7+1}function yn(n,t=4,i=1){let{year:s,month:l,day:c}=n,h=Wa(s,l,c),m=Xn(Kn(s,l,c),i),v=Math.floor((h-m+14-t)/7),D;return v<1?(D=s-1,v=or(D,t,i)):v>or(s,t,i)?(D=s+1,v=1):D=s,{weekYear:D,weekNumber:v,weekday:m,...gn(n)}}function ho(n,t=4,i=1){let{weekYear:s,weekNumber:l,weekday:c}=n,h=Xn(Kn(s,1,t),i),m=Jt(s),v=l*7+c-h-7+t,D;v<1?(D=s-1,v+=Jt(D)):v>m?(D=s+1,v-=Jt(s)):D=s;let{month:z,day:W}=ja(D,v);return{year:D,month:z,day:W,...gn(n)}}function Qn(n){let{year:t,month:i,day:s}=n,l=Wa(t,i,s);return{year:t,ordinal:l,...gn(n)}}function po(n){let{year:t,ordinal:i}=n,{month:s,day:l}=ja(t,i);return{year:t,month:s,day:l,...gn(n)}}function mo(n,t){if(!G(n.localWeekday)||!G(n.localWeekNumber)||!G(n.localWeekYear)){if(!G(n.weekday)||!G(n.weekNumber)||!G(n.weekYear))throw new Dt("Cannot mix locale-based week fields with ISO-based week fields");return G(n.localWeekday)||(n.weekday=n.localWeekday),G(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),G(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Pa(n,t=4,i=1){let s=vn(n.weekYear),l=dt(n.weekNumber,1,or(n.weekYear,t,i)),c=dt(n.weekday,1,7);return s?l?c?!1:_t("weekday",n.weekday):_t("week",n.weekNumber):_t("weekYear",n.weekYear)}function Va(n){let t=vn(n.year),i=dt(n.ordinal,1,Jt(n.year));return t?i?!1:_t("ordinal",n.ordinal):_t("year",n.year)}function yo(n){let t=vn(n.year),i=dt(n.month,1,12),s=dt(n.day,1,Sr(n.year,n.month));return t?i?s?!1:_t("day",n.day):_t("month",n.month):_t("year",n.year)}function vo(n){let{hour:t,minute:i,second:s,millisecond:l}=n,c=dt(t,0,23)||t===24&&i===0&&s===0&&l===0,h=dt(i,0,59),m=dt(s,0,59),v=dt(l,0,999);return c?h?m?v?!1:_t("millisecond",l):_t("second",s):_t("minute",i):_t("hour",t)}function G(n){return typeof n>"u"}function Ct(n){return typeof n=="number"}function vn(n){return typeof n=="number"&&n%1===0}function ba(n){return typeof n=="string"}function Ha(n){return Object.prototype.toString.call(n)==="[object Date]"}function Yn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Jn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Za(n){return Array.isArray(n)?n:[n]}function go(n,t,i){if(n.length!==0)return n.reduce((s,l)=>{let c=[t(l),l];return s&&i(s[0],c[0])===s[0]?s:c},null)[1]}function $a(n,t){return t.reduce((i,s)=>(i[s]=n[s],i),{})}function Kt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function mn(n){if(n==null)return null;if(typeof n!="object")throw new Ue("Week settings must be an object");if(!dt(n.firstDay,1,7)||!dt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(t=>!dt(t,1,7)))throw new Ue("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function dt(n,t,i){return vn(n)&&n>=t&&n<=i}function af(n,t){return n-t*Math.floor(n/t)}function Ae(n,t=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(t,"0"):s=(""+n).padStart(t,"0"),s}function Wt(n){if(!(G(n)||n===null||n===""))return parseInt(n,10)}function Xt(n){if(!(G(n)||n===null||n===""))return parseFloat(n)}function _n(n){if(!(G(n)||n===null||n==="")){let t=parseFloat("0."+n)*1e3;return Math.floor(t)}}function Er(n,t,i=!1){let s=10**t;return(i?Math.trunc:Math.round)(n*s)/s}function sr(n){return n%4===0&&(n%100!==0||n%400===0)}function Jt(n){return sr(n)?366:365}function Sr(n,t){let i=af(t-1,12)+1,s=n+(t-i)/12;return i===2?sr(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function wr(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(n.year,n.month-1,n.day)),+t}function qa(n,t,i){return-Xn(Kn(n,1,t),i)+t-1}function or(n,t=4,i=1){let s=qa(n,t,i),l=qa(n+1,t,i);return(Jt(n)-s+l)/7}function Tn(n){return n>99?n:n>me.twoDigitCutoffYear?1900+n:2e3+n}function Zn(n,t,i,s=null){let l=new Date(n),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);let h={timeZoneName:t,...c},m=new Intl.DateTimeFormat(i,h).formatToParts(l).find(v=>v.type.toLowerCase()==="timezonename");return m?m.value:null}function ir(n,t){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(t,10)||0,l=i<0||Object.is(i,-0)?-s:s;return i*60+l}function _o(n){let t=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(t))throw new Ue(`Invalid unit value ${n}`);return t}function Or(n,t){let i={};for(let s in n)if(Kt(n,s)){let l=n[s];if(l==null)continue;i[t(s)]=_o(l)}return i}function Yt(n,t){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),l=n>=0?"+":"-";switch(t){case"short":return`${l}${Ae(i,2)}:${Ae(s,2)}`;case"narrow":return`${l}${i}${s>0?`:${s}`:""}`;case"techie":return`${l}${Ae(i,2)}${Ae(s,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function gn(n){return $a(n,["hour","minute","second","millisecond"])}var uf=["January","February","March","April","May","June","July","August","September","October","November","December"],To=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lf=["J","F","M","A","M","J","J","A","S","O","N","D"];function so(n){switch(n){case"narrow":return[...lf];case"short":return[...To];case"long":return[...uf];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var wo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Eo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],cf=["M","T","W","T","F","S","S"];function ao(n){switch(n){case"narrow":return[...cf];case"short":return[...Eo];case"long":return[...wo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var uo=["AM","PM"],ff=["Before Christ","Anno Domini"],hf=["BC","AD"],df=["B","A"];function lo(n){switch(n){case"narrow":return[...df];case"short":return[...hf];case"long":return[...ff];default:return null}}function Ba(n){return uo[n.hour<12?0:1]}function Ga(n,t){return ao(t)[n.weekday-1]}function Ya(n,t){return so(t)[n.month-1]}function Ja(n,t){return lo(t)[n.year<0?0:1]}function Da(n,t,i="always",s=!1){let l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&c){let W=n==="days";switch(t){case 1:return W?"tomorrow":`next ${l[n][0]}`;case-1:return W?"yesterday":`last ${l[n][0]}`;case 0:return W?"today":`this ${l[n][0]}`;default:}}let h=Object.is(t,-0)||t<0,m=Math.abs(t),v=m===1,D=l[n],z=s?v?D[1]:D[2]||D[1]:v?l[n][0]:n;return h?`${m} ${z} ago`:`in ${m} ${z}`}function Ka(n,t){let i="";for(let s of n)s.literal?i+=s.val:i+=t(s.val);return i}var pf={D:Bt,DD:Gr,DDD:Yr,DDDD:Jr,t:Kr,tt:Xr,ttt:Qr,tttt:en,T:tn,TT:rn,TTT:nn,TTTT:on,f:sn,ff:un,fff:cn,ffff:hn,F:an,FF:ln,FFF:fn,FFFF:dn},Ze=class n{static create(t,i={}){return new n(t,i)}static parseFormat(t){let i=null,s="",l=!1,c=[];for(let h=0;h<t.length;h++){let m=t.charAt(h);m==="'"?(s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),i=null,s="",l=!l):l||m===i?s+=m:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=m,i=m)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(t){return pf[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ae(t,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,i){let s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(V,ve)=>this.loc.extract(t,V,ve),h=V=>t.isOffsetFixed&&t.offset===0&&V.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,V.format):"",m=()=>s?Ba(t):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),v=(V,ve)=>s?Ya(t,V):c(ve?{month:V}:{month:V,day:"numeric"},"month"),D=(V,ve)=>s?Ga(t,V):c(ve?{weekday:V}:{weekday:V,month:"long",day:"numeric"},"weekday"),z=V=>{let ve=n.macroTokenToFormatOpts(V);return ve?this.formatWithSystemDefault(t,ve):V},W=V=>s?Ja(t,V):c({era:V},"era"),X=V=>{switch(V){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return h({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return h({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return h({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return m();case"d":return l?c({day:"numeric"},"day"):this.num(t.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return D("short",!0);case"cccc":return D("long",!0);case"ccccc":return D("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return D("short",!1);case"EEEE":return D("long",!1);case"EEEEE":return D("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return v("short",!0);case"LLLL":return v("long",!0);case"LLLLL":return v("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(t.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return v("short",!1);case"MMMM":return v("long",!1);case"MMMMM":return v("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(t.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(t.year,6);case"G":return W("short");case"GG":return W("long");case"GGGGG":return W("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return z(V)}};return Ka(n.parseFormat(i),X)}formatDurationFromString(t,i){let s=v=>{switch(v[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},l=v=>D=>{let z=s(D);return z?this.num(v.get(z),D.length):D},c=n.parseFormat(i),h=c.reduce((v,{literal:D,val:z})=>D?v:v.concat(z),[]),m=t.shiftTo(...h.map(s).filter(v=>v));return Ka(c,l(m))}};var Qa=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Dr(...n){let t=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${t}$`)}function br(...n){return t=>n.reduce(([i,s,l],c)=>{let[h,m,v]=c(t,l);return[{...i,...h},m||s,v]},[{},null,1]).slice(0,2)}function Mr(n,...t){if(n==null)return[null,null];for(let[i,s]of t){let l=i.exec(n);if(l)return s(l)}return[null,null]}function eu(...n){return(t,i)=>{let s={},l;for(l=0;l<n.length;l++)s[n[l]]=Wt(t[i+l]);return[s,null,i+l]}}var tu=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,mf=`(?:${tu.source}?(?:\\[(${Qa.source})\\])?)?`,Io=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ru=RegExp(`${Io.source}${mf}`),So=RegExp(`(?:T${ru.source})?`),yf=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vf=/(\d{4})-?W(\d\d)(?:-?(\d))?/,gf=/(\d{4})-?(\d{3})/,_f=eu("weekYear","weekNumber","weekDay"),Tf=eu("year","ordinal"),wf=/(\d{4})-(\d\d)-(\d\d)/,nu=RegExp(`${Io.source} ?(?:${tu.source}|(${Qa.source}))?`),Ef=RegExp(`(?: ${nu.source})?`);function kr(n,t,i){let s=n[t];return G(s)?i:Wt(s)}function If(n,t){return[{year:kr(n,t),month:kr(n,t+1,1),day:kr(n,t+2,1)},null,t+3]}function xr(n,t){return[{hours:kr(n,t,0),minutes:kr(n,t+1,0),seconds:kr(n,t+2,0),milliseconds:_n(n[t+3])},null,t+4]}function wn(n,t){let i=!n[t]&&!n[t+1],s=ir(n[t+1],n[t+2]),l=i?null:qe.instance(s);return[{},l,t+3]}function En(n,t){let i=n[t]?Ke.create(n[t]):null;return[{},i,t+1]}var Sf=RegExp(`^T?${Io.source}$`),Of=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function kf(n){let[t,i,s,l,c,h,m,v,D]=n,z=t[0]==="-",W=v&&v[0]==="-",X=(V,ve=!1)=>V!==void 0&&(ve||V&&z)?-V:V;return[{years:X(Xt(i)),months:X(Xt(s)),weeks:X(Xt(l)),days:X(Xt(c)),hours:X(Xt(h)),minutes:X(Xt(m)),seconds:X(Xt(v),v==="-0"),milliseconds:X(_n(D),W)}]}var Df={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Oo(n,t,i,s,l,c,h){let m={year:t.length===2?Tn(Wt(t)):Wt(t),month:To.indexOf(i)+1,day:Wt(s),hour:Wt(l),minute:Wt(c)};return h&&(m.second=Wt(h)),n&&(m.weekday=n.length>3?wo.indexOf(n)+1:Eo.indexOf(n)+1),m}var bf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Mf(n){let[,t,i,s,l,c,h,m,v,D,z,W]=n,X=Oo(t,l,s,i,c,h,m),V;return v?V=Df[v]:D?V=0:V=ir(z,W),[X,new qe(V)]}function xf(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Af=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Nf=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Ff=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Xa(n){let[,t,i,s,l,c,h,m]=n;return[Oo(t,l,s,i,c,h,m),qe.utcInstance]}function Lf(n){let[,t,i,s,l,c,h,m]=n;return[Oo(t,m,i,s,l,c,h),qe.utcInstance]}var zf=Dr(yf,So),Cf=Dr(vf,So),Rf=Dr(gf,So),Uf=Dr(ru),iu=br(If,xr,wn,En),Wf=br(_f,xr,wn,En),jf=br(Tf,xr,wn,En),Pf=br(xr,wn,En);function ou(n){return Mr(n,[zf,iu],[Cf,Wf],[Rf,jf],[Uf,Pf])}function su(n){return Mr(xf(n),[bf,Mf])}function au(n){return Mr(n,[Af,Xa],[Nf,Xa],[Ff,Lf])}function uu(n){return Mr(n,[Of,kf])}var Vf=br(xr);function lu(n){return Mr(n,[Sf,Vf])}var qf=Dr(wf,Ef),Hf=Dr(nu),Zf=br(xr,wn,En);function cu(n){return Mr(n,[qf,iu],[Hf,Zf])}var fu="Invalid Duration",du={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},$f={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...du},Tt=146097/400,Ar=146097/4800,Bf={years:{quarters:4,months:12,weeks:Tt/7,days:Tt,hours:Tt*24,minutes:Tt*24*60,seconds:Tt*24*60*60,milliseconds:Tt*24*60*60*1e3},quarters:{months:3,weeks:Tt/28,days:Tt/4,hours:Tt*24/4,minutes:Tt*24*60/4,seconds:Tt*24*60*60/4,milliseconds:Tt*24*60*60*1e3/4},months:{weeks:Ar/7,days:Ar,hours:Ar*24,minutes:Ar*24*60,seconds:Ar*24*60*60,milliseconds:Ar*24*60*60*1e3},...du},ar=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Gf=ar.slice(0).reverse();function Qt(n,t,i=!1){let s={values:i?t.values:{...n.values,...t.values||{}},loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy,matrix:t.matrix||n.matrix};return new Ne(s)}function pu(n,t){let i=t.milliseconds??0;for(let s of Gf.slice(1))t[s]&&(i+=t[s]*n[s].milliseconds);return i}function hu(n,t){let i=pu(n,t)<0?-1:1;ar.reduceRight((s,l)=>{if(G(t[l]))return s;if(s){let c=t[s]*i,h=n[l][s],m=Math.floor(c/h);t[l]+=m*i,t[s]-=m*h*i}return l},null),ar.reduce((s,l)=>{if(G(t[l]))return s;if(s){let c=t[s]%1;t[s]-=c,t[l]+=c*n[s][l]}return l},null)}function Yf(n){let t={};for(let[i,s]of Object.entries(n))s!==0&&(t[i]=s);return t}var Ne=class n{constructor(t){let i=t.conversionAccuracy==="longterm"||!1,s=i?Bf:$f;t.matrix&&(s=t.matrix),this.values=t.values,this.loc=t.loc||ge.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(t,i){return n.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Ue(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new n({values:Or(t,n.normalizeUnit),loc:ge.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(Ct(t))return n.fromMillis(t);if(n.isDuration(t))return t;if(typeof t=="object")return n.fromObject(t);throw new Ue(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){let[s]=uu(t);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){let[s]=lu(t);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Ue("need to specify a reason the Duration is invalid");let s=t instanceof He?t:new He(t,i);if(me.throwOnInvalid)throw new qn(s);return new n({invalid:s})}static normalizeUnit(t){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new Tr(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Ze.create(this.loc,s).formatDurationFromString(this,t):fu}toHuman(t={}){if(!this.isValid)return fu;let i=ar.map(s=>{let l=this.values[s];return G(l)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(l)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Er(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},he.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?pu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let i=n.fromDurationLike(t),s={};for(let l of ar)(Kt(i.values,l)||Kt(this.values,l))&&(s[l]=i.get(l)+this.get(l));return Qt(this,{values:s},!0)}minus(t){if(!this.isValid)return this;let i=n.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=_o(t(this.values[s],s));return Qt(this,{values:i},!0)}get(t){return this[n.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let i={...this.values,...Or(t,n.normalizeUnit)};return Qt(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:s,matrix:l}={}){let h={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:l,conversionAccuracy:s};return Qt(this,h)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return hu(this.matrix,t),Qt(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=Yf(this.normalize().shiftToAll().toObject());return Qt(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(h=>n.normalizeUnit(h));let i={},s={},l=this.toObject(),c;for(let h of ar)if(t.indexOf(h)>=0){c=h;let m=0;for(let D in s)m+=this.matrix[D][h]*s[D],s[D]=0;Ct(l[h])&&(m+=l[h]);let v=Math.trunc(m);i[h]=v,s[h]=(m*1e3-v*1e3)/1e3}else Ct(l[h])&&(s[h]=l[h]);for(let h in s)s[h]!==0&&(i[c]+=h===c?s[h]:s[h]/this.matrix[c][h]);return hu(this.matrix,i),Qt(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return Qt(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(let s of ar)if(!i(this.values[s],t.values[s]))return!1;return!0}};var Nr="Invalid Interval";function Jf(n,t){return!n||!n.isValid?jt.invalid("missing or invalid start"):!t||!t.isValid?jt.invalid("missing or invalid end"):t<n?jt.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${t.toISO()}`):null}var jt=class n{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Ue("need to specify a reason the Interval is invalid");let s=t instanceof He?t:new He(t,i);if(me.throwOnInvalid)throw new Vn(s);return new n({invalid:s})}static fromDateTimes(t,i){let s=Fr(t),l=Fr(i),c=Jf(s,l);return c??new n({start:s,end:l})}static after(t,i){let s=Ne.fromDurationLike(i),l=Fr(t);return n.fromDateTimes(l,l.plus(s))}static before(t,i){let s=Ne.fromDurationLike(i),l=Fr(t);return n.fromDateTimes(l.minus(s),l)}static fromISO(t,i){let[s,l]=(t||"").split("/",2);if(s&&l){let c,h;try{c=he.fromISO(s,i),h=c.isValid}catch{h=!1}let m,v;try{m=he.fromISO(l,i),v=m.isValid}catch{v=!1}if(h&&v)return n.fromDateTimes(c,m);if(h){let D=Ne.fromISO(l,i);if(D.isValid)return n.after(c,D)}else if(v){let D=Ne.fromISO(s,i);if(D.isValid)return n.before(m,D)}}return n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;let s=this.start.startOf(t,i),l;return i?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(t,i),Math.floor(l.diff(s,t).get(t))+(l.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?n.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];let i=t.map(Fr).filter(h=>this.contains(h)).sort((h,m)=>h.toMillis()-m.toMillis()),s=[],{s:l}=this,c=0;for(;l<this.e;){let h=i[c]||this.e,m=+h>+this.e?this.e:h;s.push(n.fromDateTimes(l,m)),l=m,c+=1}return s}splitBy(t){let i=Ne.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,l=1,c,h=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(v=>v*l));c=+m>+this.e?this.e:m,h.push(n.fromDateTimes(s,c)),s=c,l+=1}return h}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let i=this.s>t.s?this.s:t.s,s=this.e<t.e?this.e:t.e;return i>=s?null:n.fromDateTimes(i,s)}union(t){if(!this.isValid)return this;let i=this.s<t.s?this.s:t.s,s=this.e>t.e?this.e:t.e;return n.fromDateTimes(i,s)}static merge(t){let[i,s]=t.sort((l,c)=>l.s-c.s).reduce(([l,c],h)=>c?c.overlaps(h)||c.abutsStart(h)?[l,c.union(h)]:[l.concat([c]),h]:[l,h],[[],null]);return s&&i.push(s),i}static xor(t){let i=null,s=0,l=[],c=t.map(v=>[{time:v.s,type:"s"},{time:v.e,type:"e"}]),h=Array.prototype.concat(...c),m=h.sort((v,D)=>v.time-D.time);for(let v of m)s+=v.type==="s"?1:-1,s===1?i=v.time:(i&&+i!=+v.time&&l.push(n.fromDateTimes(i,v.time)),i=null);return n.merge(l)}difference(...t){return n.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Nr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Bt,i={}){return this.isValid?Ze.create(this.s.loc.clone(i),t).formatInterval(this):Nr}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Nr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nr}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Nr}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Nr}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):Ne.invalid(this.invalidReason)}mapEndpoints(t){return n.fromDateTimes(t(this.s),t(this.e))}};var Pt=class{static hasDST(t=me.defaultZone){let i=he.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Ke.isValidZone(t)}static normalizeZone(t){return xt(t,me.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||ge.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||ge.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||ge.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||ge.create(i,s,c)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||ge.create(i,s,c)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||ge.create(i,s,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||ge.create(i,s,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return ge.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return ge.create(i,null,"gregory").eras(t)}static features(){return{relative:Yn(),localeWeek:Jn()}}};function mu(n,t){let i=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(t)-i(n);return Math.floor(Ne.fromMillis(s).as("days"))}function Kf(n,t,i){let s=[["years",(v,D)=>D.year-v.year],["quarters",(v,D)=>D.quarter-v.quarter+(D.year-v.year)*4],["months",(v,D)=>D.month-v.month+(D.year-v.year)*12],["weeks",(v,D)=>{let z=mu(v,D);return(z-z%7)/7}],["days",mu]],l={},c=n,h,m;for(let[v,D]of s)i.indexOf(v)>=0&&(h=v,l[v]=D(n,t),m=c.plus(l),m>t?(l[v]--,n=c.plus(l),n>t&&(m=n,l[v]--,n=c.plus(l))):n=m);return[n,l,m,h]}function yu(n,t,i,s){let[l,c,h,m]=Kf(n,t,i),v=t-l,D=i.filter(W=>["hours","minutes","seconds","milliseconds"].indexOf(W)>=0);D.length===0&&(h<t&&(h=l.plus({[m]:1})),h!==l&&(c[m]=(c[m]||0)+v/(h-l)));let z=Ne.fromObject(c,s);return D.length>0?Ne.fromMillis(v,s).shiftTo(...D).plus(z):z}var ko={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},vu={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Xf=ko.hanidec.replace(/[\[|\]]/g,"").split("");function gu(n){let t=parseInt(n,10);if(isNaN(t)){t="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(ko.hanidec)!==-1)t+=Xf.indexOf(n[i]);else for(let l in vu){let[c,h]=vu[l];s>=c&&s<=h&&(t+=s-c)}}return parseInt(t,10)}else return t}function wt({numberingSystem:n},t=""){return new RegExp(`${ko[n||"latn"]}${t}`)}var Qf="missing Intl.DateTimeFormat.formatToParts support";function ye(n,t=i=>i){return{regex:n,deser:([i])=>t(gu(i))}}var eh="\xA0",wu=`[ ${eh}]`,Eu=new RegExp(wu,"g");function th(n){return n.replace(/\./g,"\\.?").replace(Eu,wu)}function _u(n){return n.replace(/\./g,"").replace(Eu," ").toLowerCase()}function At(n,t){return n===null?null:{regex:RegExp(n.map(th).join("|")),deser:([i])=>n.findIndex(s=>_u(i)===_u(s))+t}}function Tu(n,t){return{regex:n,deser:([,i,s])=>ir(i,s),groups:t}}function ei(n){return{regex:n,deser:([t])=>t}}function rh(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function nh(n,t){let i=wt(t),s=wt(t,"{2}"),l=wt(t,"{3}"),c=wt(t,"{4}"),h=wt(t,"{6}"),m=wt(t,"{1,2}"),v=wt(t,"{1,3}"),D=wt(t,"{1,6}"),z=wt(t,"{1,9}"),W=wt(t,"{2,4}"),X=wt(t,"{4,6}"),V=Ie=>({regex:RegExp(rh(Ie.val)),deser:([be])=>be,literal:!0}),Se=(Ie=>{if(n.literal)return V(Ie);switch(Ie.val){case"G":return At(t.eras("short"),0);case"GG":return At(t.eras("long"),0);case"y":return ye(D);case"yy":return ye(W,Tn);case"yyyy":return ye(c);case"yyyyy":return ye(X);case"yyyyyy":return ye(h);case"M":return ye(m);case"MM":return ye(s);case"MMM":return At(t.months("short",!0),1);case"MMMM":return At(t.months("long",!0),1);case"L":return ye(m);case"LL":return ye(s);case"LLL":return At(t.months("short",!1),1);case"LLLL":return At(t.months("long",!1),1);case"d":return ye(m);case"dd":return ye(s);case"o":return ye(v);case"ooo":return ye(l);case"HH":return ye(s);case"H":return ye(m);case"hh":return ye(s);case"h":return ye(m);case"mm":return ye(s);case"m":return ye(m);case"q":return ye(m);case"qq":return ye(s);case"s":return ye(m);case"ss":return ye(s);case"S":return ye(v);case"SSS":return ye(l);case"u":return ei(z);case"uu":return ei(m);case"uuu":return ye(i);case"a":return At(t.meridiems(),0);case"kkkk":return ye(c);case"kk":return ye(W,Tn);case"W":return ye(m);case"WW":return ye(s);case"E":case"c":return ye(i);case"EEE":return At(t.weekdays("short",!1),1);case"EEEE":return At(t.weekdays("long",!1),1);case"ccc":return At(t.weekdays("short",!0),1);case"cccc":return At(t.weekdays("long",!0),1);case"Z":case"ZZ":return Tu(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return Tu(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return ei(/[a-z_+-/]{1,256}?/i);case" ":return ei(/[^\S\n\r]/);default:return V(Ie)}})(n)||{invalidReason:Qf};return Se.token=n,Se}var ih={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function oh(n,t,i){let{type:s,value:l}=n;if(s==="literal"){let v=/^\s+$/.test(l);return{literal:!v,val:v?" ":l}}let c=t[s],h=s;s==="hour"&&(t.hour12!=null?h=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?h="hour12":h="hour24":h=i.hour12?"hour12":"hour24");let m=ih[h];if(typeof m=="object"&&(m=m[c]),m)return{literal:!1,val:m}}function sh(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function ah(n,t,i){let s=n.match(t);if(s){let l={},c=1;for(let h in i)if(Kt(i,h)){let m=i[h],v=m.groups?m.groups+1:1;!m.literal&&m.token&&(l[m.token.val[0]]=m.deser(s.slice(c,c+v))),c+=v}return[s,l]}else return[s,{}]}function uh(n){let t=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return G(n.z)||(i=Ke.create(n.z)),G(n.Z)||(i||(i=new qe(n.Z)),s=n.Z),G(n.q)||(n.M=(n.q-1)*3+1),G(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),G(n.u)||(n.S=_n(n.u)),[Object.keys(n).reduce((c,h)=>{let m=t(h);return m&&(c[m]=n[h]),c},{}),i,s]}var Do=null;function lh(){return Do||(Do=he.fromMillis(1555555555555)),Do}function ch(n,t){if(n.literal)return n;let i=Ze.macroTokenToFormatOpts(n.val),s=xo(i,t);return s==null||s.includes(void 0)?n:s}function bo(n,t){return Array.prototype.concat(...n.map(i=>ch(i,t)))}function Mo(n,t,i){let s=bo(Ze.parseFormat(i),n),l=s.map(h=>nh(h,n)),c=l.find(h=>h.invalidReason);if(c)return{input:t,tokens:s,invalidReason:c.invalidReason};{let[h,m]=sh(l),v=RegExp(h,"i"),[D,z]=ah(t,v,m),[W,X,V]=z?uh(z):[null,null,void 0];if(Kt(z,"a")&&Kt(z,"H"))throw new Dt("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:s,regex:v,rawMatches:D,matches:z,result:W,zone:X,specificOffset:V}}}function Iu(n,t,i){let{result:s,zone:l,specificOffset:c,invalidReason:h}=Mo(n,t,i);return[s,l,c,h]}function xo(n,t){if(!n)return null;let s=Ze.create(t,n).dtFormatter(lh()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(h=>oh(h,n,c))}var Ao="Invalid DateTime",Su=864e13;function ti(n){return new He("unsupported zone",`the zone "${n.name}" is not supported`)}function No(n){return n.weekData===null&&(n.weekData=yn(n.c)),n.weekData}function Fo(n){return n.localWeekData===null&&(n.localWeekData=yn(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function ur(n,t){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new he({...i,...t,old:i})}function Au(n,t,i){let s=n-t*60*1e3,l=i.offset(s);if(t===l)return[s,t];s-=(l-t)*60*1e3;let c=i.offset(s);return l===c?[s,l]:[n-Math.min(l,c)*60*1e3,Math.max(l,c)]}function ri(n,t){n+=t*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function ii(n,t,i){return Au(wr(n),t,i)}function Ou(n,t){let i=n.o,s=n.c.year+Math.trunc(t.years),l=n.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,c={...n.c,year:s,month:l,day:Math.min(n.c.day,Sr(s,l))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},h=Ne.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),m=wr(c),[v,D]=Au(m,i,n.zone);return h!==0&&(v+=h,D=n.zone.offset(v)),{ts:v,o:D}}function In(n,t,i,s,l,c){let{setZone:h,zone:m}=i;if(n&&Object.keys(n).length!==0||t){let v=t||m,D=he.fromObject(n,{...i,zone:v,specificOffset:c});return h?D:D.setZone(m)}else return he.invalid(new He("unparsable",`the input "${l}" can't be parsed as ${s}`))}function ni(n,t,i=!0){return n.isValid?Ze.create(ge.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,t):null}function Lo(n,t){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=Ae(n.c.year,i?6:4),t?(s+="-",s+=Ae(n.c.month),s+="-",s+=Ae(n.c.day)):(s+=Ae(n.c.month),s+=Ae(n.c.day)),s}function ku(n,t,i,s,l,c){let h=Ae(n.c.hour);return t?(h+=":",h+=Ae(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=":")):h+=Ae(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=Ae(n.c.second),(n.c.millisecond!==0||!s)&&(h+=".",h+=Ae(n.c.millisecond,3))),l&&(n.isOffsetFixed&&n.offset===0&&!c?h+="Z":n.o<0?(h+="-",h+=Ae(Math.trunc(-n.o/60)),h+=":",h+=Ae(Math.trunc(-n.o%60))):(h+="+",h+=Ae(Math.trunc(n.o/60)),h+=":",h+=Ae(Math.trunc(n.o%60)))),c&&(h+="["+n.zone.ianaName+"]"),h}var Nu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},fh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Fu=["year","month","day","hour","minute","second","millisecond"],dh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ph=["year","ordinal","hour","minute","second","millisecond"];function mh(n){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new Tr(n);return t}function Du(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return mh(n)}}function bu(n,t){let i=xt(t.zone,me.defaultZone),s=ge.fromObject(t),l=me.now(),c,h;if(G(n.year))c=l;else{for(let D of Fu)G(n[D])&&(n[D]=Nu[D]);let m=yo(n)||vo(n);if(m)return he.invalid(m);let v=i.offset(l);[c,h]=ii(n,v,i)}return new he({ts:c,zone:i,loc:s,o:h})}function Mu(n,t,i){let s=G(i.round)?!0:i.round,l=(h,m)=>(h=Er(h,s||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(h,m)),c=h=>i.calendary?t.hasSame(n,h)?0:t.startOf(h).diff(n.startOf(h),h).get(h):t.diff(n,h).get(h);if(i.unit)return l(c(i.unit),i.unit);for(let h of i.units){let m=c(h);if(Math.abs(m)>=1)return l(m,h)}return l(n>t?-0:0,i.units[i.units.length-1])}function xu(n){let t={},i;return n.length>0&&typeof n[n.length-1]=="object"?(t=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[t,i]}var he=class n{constructor(t){let i=t.zone||me.defaultZone,s=t.invalid||(Number.isNaN(t.ts)?new He("invalid input"):null)||(i.isValid?null:ti(i));this.ts=G(t.ts)?me.now():t.ts;let l=null,c=null;if(!s)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[l,c]=[t.old.c,t.old.o];else{let m=i.offset(this.ts);l=ri(this.ts,m),s=Number.isNaN(l.year)?new He("invalid input"):null,l=s?null:l,c=s?null:m}this._zone=i,this.loc=t.loc||ge.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new n({})}static local(){let[t,i]=xu(arguments),[s,l,c,h,m,v,D]=i;return bu({year:s,month:l,day:c,hour:h,minute:m,second:v,millisecond:D},t)}static utc(){let[t,i]=xu(arguments),[s,l,c,h,m,v,D]=i;return t.zone=qe.utcInstance,bu({year:s,month:l,day:c,hour:h,minute:m,second:v,millisecond:D},t)}static fromJSDate(t,i={}){let s=Ha(t)?t.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");let l=xt(i.zone,me.defaultZone);return l.isValid?new n({ts:s,zone:l,loc:ge.fromObject(i)}):n.invalid(ti(l))}static fromMillis(t,i={}){if(Ct(t))return t<-Su||t>Su?n.invalid("Timestamp out of range"):new n({ts:t,zone:xt(i.zone,me.defaultZone),loc:ge.fromObject(i)});throw new Ue(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(Ct(t))return new n({ts:t*1e3,zone:xt(i.zone,me.defaultZone),loc:ge.fromObject(i)});throw new Ue("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};let s=xt(i.zone,me.defaultZone);if(!s.isValid)return n.invalid(ti(s));let l=ge.fromObject(i),c=Or(t,Du),{minDaysInFirstWeek:h,startOfWeek:m}=mo(c,l),v=me.now(),D=G(i.specificOffset)?s.offset(v):i.specificOffset,z=!G(c.ordinal),W=!G(c.year),X=!G(c.month)||!G(c.day),V=W||X,ve=c.weekYear||c.weekNumber;if((V||z)&&ve)throw new Dt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(X&&z)throw new Dt("Can't mix ordinal dates with month/day");let Se=ve||c.weekday&&!V,Ie,be,Fe=ri(v,D);Se?(Ie=dh,be=fh,Fe=yn(Fe,h,m)):z?(Ie=ph,be=hh,Fe=Qn(Fe)):(Ie=Fu,be=Nu);let Vt=!1;for(let It of Ie){let qt=c[It];G(qt)?Vt?c[It]=be[It]:c[It]=Fe[It]:Vt=!0}let ot=Se?Pa(c,h,m):z?Va(c):yo(c),Xe=ot||vo(c);if(Xe)return n.invalid(Xe);let Lr=Se?ho(c,h,m):z?po(c):c,[Et,er]=ii(Lr,D,s),tr=new n({ts:Et,zone:s,o:er,loc:l});return c.weekday&&V&&t.weekday!==tr.weekday?n.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${tr.toISO()}`):tr}static fromISO(t,i={}){let[s,l]=ou(t);return In(s,l,i,"ISO 8601",t)}static fromRFC2822(t,i={}){let[s,l]=su(t);return In(s,l,i,"RFC 2822",t)}static fromHTTP(t,i={}){let[s,l]=au(t);return In(s,l,i,"HTTP",i)}static fromFormat(t,i,s={}){if(G(t)||G(i))throw new Ue("fromFormat requires an input string and a format");let{locale:l=null,numberingSystem:c=null}=s,h=ge.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[m,v,D,z]=Iu(h,t,i);return z?n.invalid(z):In(m,v,s,`format ${i}`,t,D)}static fromString(t,i,s={}){return n.fromFormat(t,i,s)}static fromSQL(t,i={}){let[s,l]=cu(t);return In(s,l,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Ue("need to specify a reason the DateTime is invalid");let s=t instanceof He?t:new He(t,i);if(me.throwOnInvalid)throw new Pn(s);return new n({invalid:s})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){let s=xo(t,ge.fromObject(i));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(t,i={}){return bo(Ze.parseFormat(t),ge.fromObject(i)).map(l=>l.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?No(this).weekYear:NaN}get weekNumber(){return this.isValid?No(this).weekNumber:NaN}get weekday(){return this.isValid?No(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Fo(this).weekday:NaN}get localWeekNumber(){return this.isValid?Fo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Fo(this).weekYear:NaN}get ordinal(){return this.isValid?Qn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,i=6e4,s=wr(this.c),l=this.zone.offset(s-t),c=this.zone.offset(s+t),h=this.zone.offset(s-l*i),m=this.zone.offset(s-c*i);if(h===m)return[this];let v=s-h*i,D=s-m*i,z=ri(v,h),W=ri(D,m);return z.hour===W.hour&&z.minute===W.minute&&z.second===W.second&&z.millisecond===W.millisecond?[ur(this,{ts:v}),ur(this,{ts:D})]:[this]}get isInLeapYear(){return sr(this.year)}get daysInMonth(){return Sr(this.year,this.month)}get daysInYear(){return this.isValid?Jt(this.year):NaN}get weeksInWeekYear(){return this.isValid?or(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?or(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:i,numberingSystem:s,calendar:l}=Ze.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:l}}toUTC(t=0,i={}){return this.setZone(qe.instance(t),i)}toLocal(){return this.setZone(me.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(t=xt(t,me.defaultZone),t.equals(this.zone))return this;if(t.isValid){let l=this.ts;if(i||s){let c=t.offset(this.ts),h=this.toObject();[l]=ii(h,c,t)}return ur(this,{ts:l,zone:t})}else return n.invalid(ti(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:s}={}){let l=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:s});return ur(this,{loc:l})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let i=Or(t,Du),{minDaysInFirstWeek:s,startOfWeek:l}=mo(i,this.loc),c=!G(i.weekYear)||!G(i.weekNumber)||!G(i.weekday),h=!G(i.ordinal),m=!G(i.year),v=!G(i.month)||!G(i.day),D=m||v,z=i.weekYear||i.weekNumber;if((D||h)&&z)throw new Dt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&h)throw new Dt("Can't mix ordinal dates with month/day");let W;c?W=ho({...yn(this.c,s,l),...i},s,l):G(i.ordinal)?(W={...this.toObject(),...i},G(i.day)&&(W.day=Math.min(Sr(W.year,W.month),W.day))):W=po({...Qn(this.c),...i});let[X,V]=ii(W,this.o,this.zone);return ur(this,{ts:X,o:V})}plus(t){if(!this.isValid)return this;let i=Ne.fromDurationLike(t);return ur(this,Ou(this,i))}minus(t){if(!this.isValid)return this;let i=Ne.fromDurationLike(t).negate();return ur(this,Ou(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;let s={},l=Ne.normalizeUnit(t);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break;case"milliseconds":break}if(l==="weeks")if(i){let c=this.loc.getStartOfWeek(),{weekday:h}=this;h<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){let c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?Ze.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):Ao}toLocaleString(t=Bt,i={}){return this.isValid?Ze.create(this.loc.clone(i),t).formatDateTime(this):Ao}toLocaleParts(t={}){return this.isValid?Ze.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1}={}){if(!this.isValid)return null;let h=t==="extended",m=Lo(this,h);return m+="T",m+=ku(this,h,i,s,l,c),m}toISODate({format:t="extended"}={}){return this.isValid?Lo(this,t==="extended"):null}toISOWeekDate(){return ni(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:h="extended"}={}){return this.isValid?(l?"T":"")+ku(this,h==="extended",i,t,s,c):null}toRFC2822(){return ni(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return ni(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Lo(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(i||t)&&(s&&(l+=" "),i?l+="z":t&&(l+="ZZ")),ni(this,l,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Ao}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",s={}){if(!this.isValid||!t.isValid)return Ne.invalid("created by diffing an invalid DateTime");let l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=Za(i).map(Ne.normalizeUnit),h=t.valueOf()>this.valueOf(),m=h?this:t,v=h?t:this,D=yu(m,v,c,l);return h?D.negate():D}diffNow(t="milliseconds",i={}){return this.diff(n.now(),t,i)}until(t){return this.isValid?jt.fromDateTimes(this,t):this}hasSame(t,i,s){if(!this.isValid)return!1;let l=t.valueOf(),c=this.setZone(t.zone,{keepLocalTime:!0});return c.startOf(i,s)<=l&&l<=c.endOf(i,s)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let i=t.base||n.fromObject({},{zone:this.zone}),s=t.padding?this<i?-t.padding:t.padding:0,l=["years","months","days","hours","minutes","seconds"],c=t.unit;return Array.isArray(t.unit)&&(l=t.unit,c=void 0),Mu(i,this.plus(s),{...t,numeric:"always",units:l,unit:c})}toRelativeCalendar(t={}){return this.isValid?Mu(t.base||n.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(n.isDateTime))throw new Ue("min requires all arguments be DateTimes");return go(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(n.isDateTime))throw new Ue("max requires all arguments be DateTimes");return go(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,s={}){let{locale:l=null,numberingSystem:c=null}=s,h=ge.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Mo(h,t,i)}static fromStringExplain(t,i,s={}){return n.fromFormatExplain(t,i,s)}static get DATE_SHORT(){return Bt}static get DATE_MED(){return Gr}static get DATE_MED_WITH_WEEKDAY(){return Ji}static get DATE_FULL(){return Yr}static get DATE_HUGE(){return Jr}static get TIME_SIMPLE(){return Kr}static get TIME_WITH_SECONDS(){return Xr}static get TIME_WITH_SHORT_OFFSET(){return Qr}static get TIME_WITH_LONG_OFFSET(){return en}static get TIME_24_SIMPLE(){return tn}static get TIME_24_WITH_SECONDS(){return rn}static get TIME_24_WITH_SHORT_OFFSET(){return nn}static get TIME_24_WITH_LONG_OFFSET(){return on}static get DATETIME_SHORT(){return sn}static get DATETIME_SHORT_WITH_SECONDS(){return an}static get DATETIME_MED(){return un}static get DATETIME_MED_WITH_SECONDS(){return ln}static get DATETIME_MED_WITH_WEEKDAY(){return Ki}static get DATETIME_FULL(){return cn}static get DATETIME_FULL_WITH_SECONDS(){return fn}static get DATETIME_HUGE(){return hn}static get DATETIME_HUGE_WITH_SECONDS(){return dn}};function Fr(n){if(he.isDateTime(n))return n;if(n&&n.valueOf&&Ct(n.valueOf()))return he.fromJSDate(n);if(n&&typeof n=="object")return he.fromObject(n);throw new Ue(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var it=pa(zu(),1);var si,yh=new Uint8Array(16);function zo(){if(!si&&(si=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!si))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return si(yh)}var Ye=[];for(let n=0;n<256;++n)Ye.push((n+256).toString(16).slice(1));function Cu(n,t=0){return Ye[n[t+0]]+Ye[n[t+1]]+Ye[n[t+2]]+Ye[n[t+3]]+"-"+Ye[n[t+4]]+Ye[n[t+5]]+"-"+Ye[n[t+6]]+Ye[n[t+7]]+"-"+Ye[n[t+8]]+Ye[n[t+9]]+"-"+Ye[n[t+10]]+Ye[n[t+11]]+Ye[n[t+12]]+Ye[n[t+13]]+Ye[n[t+14]]+Ye[n[t+15]]}var vh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Co={randomUUID:vh};function gh(n,t,i){if(Co.randomUUID&&!t&&!n)return Co.randomUUID();n=n||{};let s=n.random||(n.rng||zo)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){i=i||0;for(let l=0;l<16;++l)t[i+l]=s[l];return t}return Cu(s)}var Ro=gh;var _h=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),Uo={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},Th={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},wh=[2,3,4,9,10,11],Eh=[4,5,6,10,11,12,1],Ih={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},Sh={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function Oh(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,_h)}function Ru(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function Wo(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function kh(n){return t=>t.set({hour:n.hour,minute:n.minute})}var jo=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,Dh=new RegExp(jo);function bh(n){return Dh.test(n)}var Mh=`${Object.keys(Uo).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${jo}|\\(|\\)`;function xh(n,t){let i=!0,s=parseInt(n[2]),l=parseInt(t[2]),c=parseInt(n[3]+n[2]+n[1]),h=parseInt(t[3]+t[2]+t[1]);return(wh.indexOf(s)===-1||Eh.indexOf(l)===-1||s>12||l>12||c>h)&&(i=!1),i}function Uu(n){let t=n.split("-"),i=parseInt(t[2]),s=Th[t[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let l=parseInt(t[0]);return he.fromObject({year:i,month:s,day:l,hour:12,minute:0},{zone:"Europe/Rome"})}function Ah(n,t){let i=[];for(let c of t)c[3]!==void 0&&i.push(c[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,l=[...n.matchAll(s)];for(let c of l)i.push(c[1].trim());return i=[...new Set(i)],i}function Wu(n,t){let i=null,s=Sh[Ih[n]||"en"];t.length===1?i="one":t.length>1&&(i="many");let l="";return i!=null&&(l=s[i]),l}function Nh(n,t,i){let s=[],l=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2}), (.+?(?=\sin\s|\sClassroom\s|\sAula\s))(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,c=[...n.split(l)];c.splice(0,1);let h=8,m=c.length/h;for(let v=0;v<m;v++){let D=c[v*h+1],z=c[v*h+2],W=c[v*h+3],X=c[v*h+4],V=c[v*h+5];V=V[0].toUpperCase()+V.substring(1);let ve=c[v*h+6],Se=c[v*h+7].split(`

`)[0].trim().split(`
`);Se=Se.filter(bh);let Ie=Uu(Se.splice(0,1)[0]),be=Ie.set({hour:D,minute:z}),Fe=Ie.set({hour:W,minute:X}),Vt=Wu(V,t),ot={summary:i,start:be,end:Fe,dtstamp:he.now(),location:ve,description:V+`
`+Vt+`
`+t.join(`
`)};Se.length>0&&(ot.rdate=Se.map(Uu).map(kh(be)).map(Wo).join(",")),s.push(ot)}return{data:s,error:null}}function Fh(n,t,i,s,l){t.lastIndex=0;let c=[...n.matchAll(t)];if(c.length>1){let h=!1,m=[],v="";for(let W of n.split(`
`))i.test(W)?(v=v.trim(),v!==""&&m.push(v),v=W,h=!1):t.test(W)?h||(h=!0,v+=`
`+W):v+=`
`+W;v=v.trim(),v!==""&&m.push(v);let D=ui(m[0],s),z=ui(m.slice(1).join(`
`),s);return{data:[...D.data,...z.data],error:D.error||z.error}}else if(c.length===1){let h=c[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,v=m.exec(h[2]),D=m.exec(h[3]),W=xh(v,D)?"dd/MM/yyyy":"MM/dd/yyyy",X=he.fromFormat(h[2],W,{zone:"Europe/Rome"}),V=he.fromFormat(h[3],W,{zone:"Europe/Rome"});if(X.invalid!==null||V.invalid!=null)return{data:[],error:X.invalid||V.invalid};if(X.valueOf()>V.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${X} > ${V})`};let ve=[],Se=/\n[^\n]+\n?([\s\S]*)/.exec(n);if(Se!==null&&Se[1]!==""){let Ie=Se[1].trim().split(`

`)[0].split(`
`);for(let be of Ie){let Fe=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(be);if(Fe===null)continue;let Vt=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,ot=Uo[Fe[1]],Xe=X;ot<X.weekday?Xe=X.set({day:X.day-X.weekday+7+ot}):Xe=X.set({day:X.day-X.weekday+ot});let Lr=Fe.groups.startMidday!==void 0&&Fe.groups.startMidday[0]==="p"?12:0;Xe=Xe.set({hour:parseInt(Fe[2])+Lr,minute:parseInt(Fe[3])});let Et=V;if(ot<=V.weekday?Et=V.set({day:V.day-V.weekday+ot}):Et=V.set({day:V.day-V.weekday-7+ot}),Et=Et.set({hour:Xe.hour,minute:Xe.minute}),Xe.valueOf()>Et.valueOf())return{data:ve,error:`First day is unexpectedly greater than Last day (${Xe} > ${Et})`};let er=Xe,tr=Fe.groups.endMidday!==void 0&&Fe.groups.endMidday[0]==="p"?12:0;er=er.set({hour:parseInt(Fe[5])+tr,minute:parseInt(Fe[6])});let It=null,qt=null;if(!Vt.test(be)){let lr=/,\s*(.+)\s+in\s+(?:.*?)(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(be);if(lr===null){let kn=/,\s*(?:classroom lesson)?\s*(.*)/.exec(be);kn!==null&&(qt="Lesson",It=kn[1])}else qt=lr[1][0].toUpperCase()+lr[1].substring(1),It=lr[2]}let ci=Wu(qt,s);ve.push({summary:l,start:Xe,end:er,dtstamp:he.now(),location:It,rrule:"FREQ=WEEKLY;UNTIL="+Wo(Et),description:qt+`
`+ci+`
`+s.join(`
`)})}}return{data:ve,error:null}}}var ai=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${Mh})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function ui(n,t=null,i=null){let s=[...n.matchAll(ai)];if(s.length===0)return{data:[],error:null};let l=Ah(n,s);if(l.length===0&&t!==null&&(l=t),i!==null&&s.length>1&&n.includes(i)){let D=[];for(let z of n.split(i)){let W=ui(z.trim(),l);if(D=[...D,...W.data],W.error!==null)return{data:D,error:W.error}}return{data:D,error:null}}let c=/\s*(?:L'orario non è stato definito|The schedule has not been defined)/,h=/\s*(?:Nessun orario definito|No timetable defined)/;if(c.test(n)||h.test(n))return{data:[],error:null};let m=s[s.length-1][2],v=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return v.test(n)?Fh(n,v,ai,l,m):Nh(n,l,m)}var Lh=Object.keys(Uo).join("|");function zh(n,t,i,s,l,c){let h=i.match(/.{11}/g);return`${t}
${h.join(`
`)}`}function Ch(n){let t=n.split(`
`),i=[],s="",l=0;for(let c of t){let h=(c.match(/\(/g)||[]).length,m=(c.match(/\)/g)||[]).length;l>0?(l+=h-m,s+=` ${c}`,l===0&&(i.push(s),s="")):(l+=h-m,l===0?i.push(c):s=c)}return s!==""&&i.push(`${s}${")".repeat(l)}`),i.join(`
`)}function ju(n,t=`

`){return n.match(t)===null?n.replace(ai,`
$&`):n}function Rh(n){let t=n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<auicDate>(${jo})+)`,"g"),zh).replace(new RegExp(`(\\S)(${Lh})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${ai.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`).trim(),i=Ch(t);return ju(i).trim()}function li(n,t=!0){try{let i=Rh(n),s=`


`;i.includes(`



`)&&(s=`



`);let l=i.split(s),c=[];for(let h of l){let m=ui(h.trim(),null,s.slice(0,-1));if(c=[...c,...m.data],m.error!==null)return{data:c,error:m.error}}return c.length===0&&i.length!==0?t?li(ju(i,`


`),!1):{data:[],error:"No courses detected"}:{data:c,error:null}}catch(i){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+i.message+")"),{data:[],error:i.message}}}function Pu(n){let t=new it.Property({name:"VERSION",value:2}),i=new it.Property({name:"PRODID",value:"bebora@github"}),s=new it.Component({name:"VCALENDAR",properties:[t,i]});for(let c of n.data){let h=new it.Component({name:"VEVENT",properties:[new it.Property({name:"SUMMARY",value:c.summary}),new it.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:Ru(c.start)}),new it.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:Ru(c.end)}),new it.Property({name:"DTSTAMP",value:Wo(c.dtstamp)}),new it.Property({name:"UID",value:Ro()})]});c.location!==void 0&&(h=h.pushProperty(new it.Property({name:"LOCATION",value:c.location}))),c.description!==void 0&&(h=h.pushProperty(new it.Property({name:"DESCRIPTION",value:c.description}))),c.rrule!==void 0&&(h=h.pushProperty(new it.Property({name:"RRULE",value:c.rrule}))),c.rdate!==void 0&&(h=h.pushProperty(new it.Property({name:"RDATE",value:c.rdate}))),s=s.pushComponent(h)}let l=s.toString();return{data:Oh(l),error:null}}var Zu=pa(Vu(),1);var Uh=["wwPttUUOIWAu_giTon7gdEXNXS0MWMrREnQw8CeZLpM","eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFobXBrdXNoa2tja29kbnFwYm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQwMTQ2OTQsImV4cCI6MTk3OTU5MDY5NH0","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"],qu=Uh.reverse().join("."),Wh="qhmpkushkkckodnqpbnz",jh=`https://${Wh}.supabase.co/rest/v1/error_logs`;function Hu(n,t,i){fetch(jh,{method:"POST",headers:{apikey:qu,Authorization:`Bearer ${qu}`,"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify({user_agent:n,lessons_timetable:t,exception:i})})}function Ph(n){n>0?document.getElementById("eventsCount").innerText=`${n}`:n===0?(document.getElementById("importProgress").style.display="none",document.getElementById("importOk").style.display="block",setTimeout(function(){document.getElementById("importOk").style.display="none"},5e3)):(document.getElementById("importProgress").style.display="none",document.getElementById("importFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},3e3))}document.getElementById("download").addEventListener("click",function(){let n=li(document.getElementById("input").value);if(n.error!==null)console.error("Unable to create iCalendar file! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),On(n.error);else if(n.data.length>0){let t=Pu(n);if(t.error!==null)document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),On(t.error);else{let i=new Blob([t.data],{type:"text/plain;charset=utf-8"});(0,Zu.saveAs)(i,"orarioPolimi.ics")}}else console.warn("No events detected")});document.getElementById("import_button").addEventListener("click",function(){let n=li(document.getElementById("input").value);n.error!==null?(document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),console.error("Unable to parse courses data! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),On(n.error)):n.data.length>0?Sa(n.data,On,Ph):(document.getElementById("zeroEvents").style.display="block",setTimeout(function(){document.getElementById("zeroEvents").style.display="none"},3e3))});document.getElementById("import-gcal").addEventListener("click",function(){$u("google-pop")});document.querySelectorAll(".pop-window").forEach(n=>n.addEventListener("click",t=>{t.stopPropagation()}));function Sn(n){document.getElementById(n).style.display="none"}function $u(n){document.getElementById(n).style.display="block"}function Bu(){let n=document.getElementById("newCalendar"),t=document.getElementById("inputElem");n.checked===!0?t.style.display="block":t.style.display="none"}var qo=null,Vh=atob("cG9saW1p"),qh=[..."troppus_sj_eludehcs"].reverse().join(""),Hh="https://github.com/bebora/polimi-schedule-js/issues/new";function Zh(n=null){qo===null&&(qo=`https://t.me/${Vh}_${qh}`,document.getElementById("telegram-link").href=qo);let t=document.getElementById("input").value,i=`<!-- Please add a title above and describe the problem on the next line -->



<details>
    <summary>Debug info</summary>

User agent: \`${navigator.userAgent}\`
Timetable input:
\`\`\`
${t}
\`\`\`
`;n!==null&&(i+=`Error info: \`${n}\`
`),i+="</details>",document.getElementById("github-link").href=`${Hh}?body=${encodeURIComponent(i)}`}function On(n=null){let t;typeof n=="string"||n instanceof String?t=n:t=JSON.stringify(n,null,0),Zh(t),$u("error-pop"),console.error("Error info:",t),window.localStorage.getItem("disable-reporting")===null&&Hu(navigator.userAgent,document.getElementById("input").value,t)}document.getElementById("manualErrorPopup").addEventListener("click",()=>{On()});function $h(){document.getElementById("google-pop").addEventListener("click",()=>{Sn("google-pop")}),document.getElementById("google-close-button").addEventListener("click",()=>{Sn("google-pop")}),document.getElementById("error-pop").addEventListener("click",()=>{Sn("error-pop")}),document.getElementById("error-close-button").addEventListener("click",()=>{Sn("error-pop")}),document.getElementById("itFlag").addEventListener("click",()=>{jn("it")}),document.getElementById("enFlag").addEventListener("click",()=>{jn("en")}),document.getElementById("newCalendar").addEventListener("click",Bu)}function Bh(){$h(),jn((navigator.language||navigator.userLanguage).slice(0,2)),Bu()}Bh();return zc(Gh);})();
//# sourceMappingURL=web-core-bundle.js.map
