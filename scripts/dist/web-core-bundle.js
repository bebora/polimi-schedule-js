var bundle=(()=>{var gc=Object.create;var Cn=Object.defineProperty;var _c=Object.getOwnPropertyDescriptor;var Tc=Object.getOwnPropertyNames;var Ec=Object.getPrototypeOf,wc=Object.prototype.hasOwnProperty;var ta=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Ic=(n,e)=>{for(var i in e)Cn(n,i,{get:e[i],enumerable:!0})},ea=(n,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Tc(e))!wc.call(n,l)&&l!==i&&Cn(n,l,{get:()=>e[l],enumerable:!(s=_c(e,l))||s.enumerable});return n};var ra=(n,e,i)=>(i=n!=null?gc(Ec(n)):{},ea(e||!n||!n.__esModule?Cn(i,"default",{value:n,enumerable:!0}):i,n)),Sc=n=>ea(Cn({},"__esModule",{value:!0}),n);var Eu=ta((Gn,Tu)=>{(function(n,e){typeof Gn=="object"&&typeof Tu<"u"?e(Gn):typeof define=="function"&&define.amd?define(["exports"],e):e(n["immutable-ics"]={})})(Gn,function(n){"use strict";var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(y,T){return T={exports:{}},y(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l=function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")},h=function(){function y(T,L){for(var E=0;E<L.length;E++){var U=L[E];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,L,E){return L&&y(T.prototype,L),E&&y(T,E),T}}(),f=function(y,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)},m=function(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:y},g=function(){function y(T,L){var E=[],U=!0,rt=!1,K=void 0;try{for(var X=T[Symbol.iterator](),lt;!(U=(lt=X.next()).done)&&(E.push(lt.value),!(L&&E.length===L));U=!0);}catch(ht){rt=!0,K=ht}finally{try{!U&&X.return&&X.return()}finally{if(rt)throw K}}return E}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return y(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(y){if(Array.isArray(y)){for(var T=0,L=Array(y.length);T<y.length;T++)L[T]=y[T];return L}else return Array.from(y)},R=i(function(y){(function(T,L){y.exports=L()})(e,function(){"use strict";function T(t,r){r&&(t.prototype=Object.create(r.prototype)),t.prototype.constructor=t}function L(t){return K(t)?t:x(t)}function E(t){return X(t)?t:w(t)}function U(t){return lt(t)?t:I(t)}function rt(t){return K(t)&&!ht(t)?t:k(t)}function K(t){return!!(t&&t[zs])}function X(t){return!!(t&&t[Cs])}function lt(t){return!!(t&&t[Rs])}function ht(t){return X(t)||lt(t)}function pt(t){return!!(t&&t[dr])}function jt(t){return t.value=!1,t}function _t(t){t&&(t.value=!0)}function Tt(){}function st(t,r){r=r||0;for(var o=Ye(0,t.length-r),a=Array(o),u=0;u<o;u++)a[u]=t[u+r];return a}function $(t){return t.size===void 0&&(t.size=t.__iterate(Vt)),t.size}function tt(t,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?$(t)+r:r}function Vt(){return!0}function ue(t,r,o){return(t===0||o!==void 0&&t<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Ht(t,r){return zt(t,r,0)}function Bt(t,r){return zt(t,r,r)}function zt(t,r,o){return t===void 0?o:0>t?Ye(0,r+t):r===void 0?t:Math.min(r,t)}function J(t){this.next=t}function z(t,r,o,a){var u=t===0?r:t===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function yt(){return{value:void 0,done:!0}}function Qt(t){return!!G(t)}function Pt(t){return t&&typeof t.next=="function"}function te(t){var r=G(t);return r&&r.call(t)}function G(t){var r=t&&(Di&&t[Di]||t[js]);if(typeof r=="function")return r}function Y(t){return t&&typeof t.length=="number"}function x(t){return t==null?A():K(t)?t.toSeq():H(t)}function w(t){return t==null?A().toKeyedSeq():K(t)?X(t)?t.toSeq():t.fromEntrySeq():C(t)}function I(t){return t==null?A():K(t)?X(t)?t.entrySeq():t.toIndexedSeq():q(t)}function k(t){return(t==null?A():K(t)?X(t)?t.entrySeq():t:q(t)).toSetSeq()}function M(t){this._array=t,this.size=t.length}function F(t){var r=Object.keys(t);this._object=t,this._keys=r,this.size=r.length}function S(t){this._iterable=t,this.size=t.length||t.size}function p(t){this._iterator=t,this._iteratorCache=[]}function _(t){return!!(t&&t[Ps])}function A(){return qs||(qs=new M([]))}function C(t){var r=Array.isArray(t)?new M(t).fromEntrySeq():Pt(t)?new p(t).fromEntrySeq():Qt(t)?new S(t).fromEntrySeq():(typeof t>"u"?"undefined":s(t))==="object"?new F(t):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return r}function q(t){var r=et(t);if(!r)throw new TypeError("Expected Array or iterable object of values: "+t);return r}function H(t){var r=et(t)||(typeof t>"u"?"undefined":s(t))==="object"&&new F(t);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return r}function et(t){return Y(t)?new M(t):Pt(t)?new p(t):Qt(t)?new S(t):void 0}function at(t,r,o,a){var u=t._cache;if(u){for(var c,d=u.length-1,v=0;v<=d;v++)if(c=u[o?d-v:v],r(c[1],a?c[0]:v,t)===!1)return v+1;return v}return t.__iterateUncached(r,o)}function xt(t,r,o,a){var u=t._cache;if(u){var c=u.length-1,d=0;return new J(function(){var v=u[o?c-d:d];return d++>c?yt():z(r,a?v[0]:d-1,v[1])})}return t.__iteratorUncached(r,o)}function Se(t,r){return r?si(r,t,"",{"":t}):ai(t)}function si(t,r,o,a){return Array.isArray(r)?t.call(a,o,I(r).map(function(u,c){return si(t,u,c,r)})):Qo(r)?t.call(a,o,w(r).map(function(u,c){return si(t,u,c,r)})):r}function ai(t){return Array.isArray(t)?I(t).map(ai).toList():Qo(t)?w(t).map(ai).toMap():t}function Qo(t){return t&&(t.constructor===Object||t.constructor===void 0)}function Rt(t,r){if(t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1;if(typeof t.valueOf=="function"&&typeof r.valueOf=="function"){if(t=t.valueOf(),r=r.valueOf(),t===r||t!==t&&r!==r)return!0;if(!t||!r)return!1}return typeof t.equals=="function"&&typeof r.equals=="function"&&t.equals(r)}function ui(t,r){if(t===r)return!0;if(!K(r)||t.size!==void 0&&r.size!==void 0&&t.size!==r.size||t.__hash!==void 0&&r.__hash!==void 0&&t.__hash!==r.__hash||X(t)!==X(r)||lt(t)!==lt(r)||pt(t)!==pt(r))return!1;if(t.size===0&&r.size===0)return!0;var o=!ht(t);if(pt(t)){var a=t.entries();return r.every(function(O,b){var N=a.next().value;return N&&Rt(N[1],O)&&(o||Rt(N[0],b))})&&a.next().done}var u=!1;if(t.size===void 0)if(r.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{u=!0;var c=t;t=r,r=c}var d=!0,v=r.__iterate(function(O,b){if(o?!t.has(O):u?!Rt(O,t.get(b,ct)):!Rt(t.get(b,ct),O))return d=!1,!1});return d&&t.size===v}function Xt(t,r){if(!(this instanceof Xt))return new Xt(t,r);if(this._value=t,this.size=r===void 0?1/0:Ye(0,r),this.size===0){if(Ai)return Ai;Ai=this}}function On(t,r){if(!t)throw new Error(r)}function Zt(t,r,o){if(!(this instanceof Zt))return new Zt(t,r,o);if(On(o!==0,"Cannot step a Range by 0"),t=t||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<t&&(o=-o),this._start=t,this._end=r,this._step=o,this.size=Ye(0,Math.ceil((r-t)/o-1)+1),this.size===0){if(Ni)return Ni;Ni=this}}function Pe(){throw TypeError("Abstract")}function Ar(){}function or(){}function bn(){}function li(t){return 1073741824&t>>>1|3221225471&t}function le(t){if(t===!1||t===null||t===void 0||typeof t.valueOf=="function"&&(t=t.valueOf(),t===!1||t===null||t===void 0))return 0;if(t===!0)return 1;var r=typeof t>"u"?"undefined":s(t);if(r==="number"){if(t!==t||t===1/0)return 0;var o=0|t;for(o!==t&&(o^=4294967295*t);4294967295<t;)t/=4294967295,o^=t;return li(o)}if(r==="string")return t.length>dc?Wl(t):ci(t);if(typeof t.hashCode=="function")return t.hashCode();if(r==="object")return $l(t);if(typeof t.toString=="function")return ci(t.toString());throw new Error("Value type "+r+" cannot be hashed.")}function Wl(t){var r=Ri[t];return r===void 0&&(r=ci(t),Ci===pc&&(Ci=0,Ri={}),Ci++,Ri[t]=r),r}function ci(t){for(var r=0,o=0;o<t.length;o++)r=0|31*r+t.charCodeAt(o);return li(r)}function $l(t){var r;if(Li&&(r=Fi.get(t),r!==void 0)||(r=t[Je],r!==void 0)||!Hs&&(r=t.propertyIsEnumerable&&t.propertyIsEnumerable[Je],r!==void 0||(r=Bl(t),r!==void 0)))return r;if(r=++zi,1073741824&zi&&(zi=0),Li)Fi.set(t,r);else{if(Vs!==void 0&&Vs(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Hs)Object.defineProperty(t,Je,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Je]=r;else if(t.nodeType!==void 0)t[Je]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function Bl(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function ce(t){On(t!==1/0,"Cannot perform this action with an infinite size.")}function dt(t){return t==null?Oe():fi(t)&&!pt(t)?t:Oe().withMutations(function(r){var o=E(t);ce(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function fi(t){return!!(t&&t[Ws])}function Nr(t,r){this.ownerID=t,this.entries=r}function sr(t,r,o){this.ownerID=t,this.bitmap=r,this.nodes=o}function Fr(t,r,o){this.ownerID=t,this.count=r,this.nodes=o}function ar(t,r,o){this.ownerID=t,this.keyHash=r,this.entries=o}function Re(t,r,o){this.ownerID=t,this.keyHash=r,this.entry=o}function hi(t,r,o){this._type=r,this._reverse=o,this._stack=t._root&&ts(t._root)}function di(t,r){return z(t,r[0],r[1])}function ts(t,r){return{node:t,index:0,__prev:r}}function pi(t,r,o,a){var u=Object.create(ut);return u.size=t,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Oe(){return $s||($s=pi(0))}function es(t,r,o){var a,u;if(t._root){var c=jt(hc),d=jt(Us);if(a=mi(t._root,t.__ownerID,0,void 0,r,o,c,d),!d.value)return t;u=t.size+(c.value?o===ct?-1:1:0)}else{if(o===ct)return t;u=1,a=new Nr(t.__ownerID,[[r,o]])}return t.__ownerID?(t.size=u,t._root=a,t.__hash=void 0,t.__altered=!0,t):a?pi(u,a):Oe()}function mi(t,r,o,a,u,c,d,v){return t?t.update(r,o,a,u,c,d,v):c===ct?t:(_t(v),_t(d),new Re(r,a,[u,c]))}function rs(t){return t.constructor===Re||t.constructor===ar}function yi(t,r,o,a,u){if(t.keyHash===a)return new ar(r,a,[t.entry,u]);var c,d=(o===0?t.keyHash:t.keyHash>>>o)&ee,v=(o===0?a:a>>>o)&ee,O=d==v?[yi(t,r,o+Mt,a,u)]:(c=new Re(r,a,u),d<v?[t,c]:[c,t]);return new sr(r,1<<d|1<<v,O)}function Zl(t,r,o,a){t||(t=new Tt);for(var u,c=new Re(t,le(o),[o,a]),d=0;d<r.length;d++)u=r[d],c=c.update(t,0,void 0,u[0],u[1]);return c}function Gl(t,r,o,a){for(var u,c=0,d=0,v=Array(o),O=0,b=1,N=r.length;O<N;O++,b<<=1)u=r[O],u!==void 0&&O!==a&&(c|=b,v[d++]=u);return new sr(t,c,v)}function Yl(t,r,o,a,u){for(var c=0,d=Array(ve),v=0;o!==0;v++,o>>>=1)d[v]=1&o?r[c++]:void 0;return d[a]=u,new Fr(t,c+1,d)}function kn(t,r,o){for(var a=[],u=0;u<o.length;u++){var c=o[u],d=E(c);K(c)||(d=d.map(function(v){return Se(v)})),a.push(d)}return os(t,r,a)}function ns(t,r){return t&&t.mergeDeep&&K(r)?t.mergeDeep(r):Rt(t,r)?t:r}function is(t){return function(r,o,a){if(r&&r.mergeDeepWith&&K(o))return r.mergeDeepWith(t,o);var u=t(r,o,a);return Rt(r,u)?r:u}}function os(t,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?t:t.size!==0||t.__ownerID||o.length!==1?t.withMutations(function(a){for(var u=r?function(d,v){a.update(v,ct,function(O){return O===ct?d:r(O,d,v)})}:function(d,v){a.set(v,d)},c=0;c<o.length;c++)o[c].forEach(u)}):t.constructor(o[0])}function ss(t,r,o,a){var u=t===ct,c=r.next();if(c.done){var d=u?o:t,v=a(d);return v===d?t:v}On(u||t&&t.set,"invalid keyPath");var O=c.value,b=u?ct:t.get(O,ct),N=ss(b,r,o,a);return N===b?t:N===ct?t.remove(O):(u?Oe():t).set(O,N)}function as(t){return t-=1431655765&t>>1,t=(858993459&t)+(858993459&t>>2),t=252645135&t+(t>>4),t+=t>>8,t+=t>>16,127&t}function us(t,r,o,a){var u=a?t:st(t);return u[r]=o,u}function Jl(t,r,o,a){var u=t.length+1;if(a&&r+1===u)return t[r]=o,t;for(var c=Array(u),d=0,v=0;v<u;v++)v===r?(c[v]=o,d=-1):c[v]=t[v+d];return c}function Kl(t,r,o){var a=t.length-1;if(o&&r===a)return t.pop(),t;for(var u=Array(a),c=0,d=0;d<a;d++)d===r&&(c=1),u[d]=t[d+c];return u}function kt(t){var r=vi();if(t==null)return r;if(ls(t))return t;var o=U(t),a=o.size;return a===0?r:(ce(a),0<a&&a<ve?Lr(0,a,Mt,null,new qe(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(c,d){return u.set(d,c)})}))}function ls(t){return!!(t&&t[Bs])}function qe(t,r){this.array=t,this.ownerID=r}function cs(t,r){function o(b,N,P){return N===0?a(b,P):u(b,N,P)}function a(b,N){var P=N===v?O&&O.array:b&&b.array,W=N>c?0:c-N,Q=d-N;return Q>ve&&(Q=ve),function(){if(W==Q)return Pr;var ft=r?--Q:W++;return P&&P[ft]}}function u(b,N,P){var W,Q=b&&b.array,ft=P>c?0:c-P>>N,At=(d-P>>N)+1;return At>ve&&(At=ve),function(){do{if(W){var _e=W();if(_e!==Pr)return _e;W=null}if(ft==At)return Pr;var be=r?--At:ft++;W=o(Q&&Q[be],N-Mt,P+(be<<N))}while(!0)}}var c=t._origin,d=t._capacity,v=zr(d),O=t._tail;return o(t._root,t._level,0)}function Lr(t,r,o,a,u,c,d){var v=Object.create(re);return v.size=r-t,v._origin=t,v._capacity=r,v._level=o,v._root=a,v._tail=u,v.__ownerID=c,v.__hash=d,v.__altered=!1,v}function vi(){return Zs||(Zs=Lr(0,0,Mt))}function Xl(t,r,o){if(r=tt(t,r),r!==r)return t;if(r>=t.size||0>r)return t.withMutations(function(d){0>r?Ve(d,r).set(0,o):Ve(d,0,r+1).set(r,o)});r+=t._origin;var a=t._tail,u=t._root,c=jt(Us);return r>=zr(t._capacity)?a=gi(a,t.__ownerID,0,r,o,c):u=gi(u,t.__ownerID,t._level,r,o,c),c.value?t.__ownerID?(t._root=u,t._tail=a,t.__hash=void 0,t.__altered=!0,t):Lr(t._origin,t._capacity,t._level,u,a):t}function gi(t,r,o,a,u,c){var d=a>>>o&ee,v=t&&d<t.array.length;if(!v&&u===void 0)return t;var O;if(0<o){var b=t&&t.array[d],N=gi(b,r,o-Mt,a,u,c);return N===b?t:(O=ur(t,r),O.array[d]=N,O)}return v&&t.array[d]===u?t:(_t(c),O=ur(t,r),u===void 0&&d==O.array.length-1?O.array.pop():O.array[d]=u,O)}function ur(t,r){return r&&t&&r===t.ownerID?t:new qe(t?t.array.slice():[],r)}function fs(t,r){if(r>=zr(t._capacity))return t._tail;if(r<1<<t._level+Mt){for(var o=t._root,a=t._level;o&&0<a;)o=o.array[r>>>a&ee],a-=Mt;return o}}function Ve(t,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=t.__ownerID||new Tt,u=t._origin,c=t._capacity,d=u+r,v=o===void 0?c:0>o?c+o:u+o;if(d===u&&v===c)return t;if(d>=v)return t.clear();for(var O=t._level,b=t._root,N=0;0>d+N;)b=new qe(b&&b.array.length?[void 0,b]:[],a),O+=Mt,N+=1<<O;N&&(d+=N,u+=N,v+=N,c+=N);for(var P=zr(c),W=zr(v);W>=1<<O+Mt;)b=new qe(b&&b.array.length?[b]:[],a),O+=Mt;var Q=t._tail,ft=W<P?fs(t,v-1):W>P?new qe([],a):Q;if(Q&&W>P&&d<c&&Q.array.length){b=ur(b,a);for(var At,_e=b,be=O;be>Mt;be-=Mt)At=P>>>be&ee,_e=_e.array[At]=ur(_e.array[At],a);_e.array[P>>>Mt&ee]=Q}if(v<c&&(ft=ft&&ft.removeAfter(a,0,v)),d>=W)d-=W,v-=W,O=Mt,b=null,ft=ft&&ft.removeBefore(a,0,d);else if(d>u||W<P){for(N=0;b;){var zn=d>>>O&ee;if(zn!=W>>>O&ee)break;zn&&(N+=(1<<O)*zn),O-=Mt,b=b.array[zn]}b&&d>u&&(b=b.removeBefore(a,O,d-N)),b&&W<P&&(b=b.removeAfter(a,O,W-N)),N&&(d-=N,v-=N)}return t.__ownerID?(t.size=v-d,t._origin=d,t._capacity=v,t._level=O,t._root=b,t._tail=ft,t.__hash=void 0,t.__altered=!0,t):Lr(d,v,O,b,ft)}function Mn(t,r,o){for(var a=[],u=0,c=0;c<o.length;c++){var d=o[c],v=U(d);v.size>u&&(u=v.size),K(d)||(v=v.map(function(O){return Se(O)})),a.push(v)}return u>t.size&&(t=t.setSize(u)),os(t,r,a)}function zr(t){return t<ve?0:t-1>>>Mt<<Mt}function Ct(t){return t==null?Dn():hs(t)?t:Dn().withMutations(function(r){var o=E(t);ce(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function hs(t){return fi(t)&&pt(t)}function _i(t,r,o,a){var u=Object.create(Ct.prototype);return u.size=t?t.size:0,u._map=t,u._list=r,u.__ownerID=o,u.__hash=a,u}function Dn(){return Gs||(Gs=_i(Oe(),vi()))}function ds(t,r,o){var a,u,c=t._map,d=t._list,v=c.get(r),O=v!==void 0;if(o===ct){if(!O)return t;d.size>=ve&&d.size>=2*c.size?(u=d.filter(function(b,N){return b!==void 0&&v!==N}),a=u.toKeyedSeq().map(function(b){return b[0]}).flip().toMap(),t.__ownerID&&(a.__ownerID=u.__ownerID=t.__ownerID)):(a=c.remove(r),u=v===d.size-1?d.pop():d.set(v,void 0))}else if(O){if(o===d.get(v)[1])return t;a=c,u=d.set(v,[r,o])}else a=c.set(r,d.size),u=d.set(d.size,[r,o]);return t.__ownerID?(t.size=a.size,t._map=a,t._list=u,t.__hash=void 0,t):_i(a,u)}function me(t,r){this._iter=t,this._useKeys=r,this.size=t.size}function lr(t){this._iter=t,this.size=t.size}function cr(t){this._iter=t,this.size=t.size}function fr(t){this._iter=t,this.size=t.size}function ps(t){var r=xe(t);return r._iter=t,r.size=t.size,r.flip=function(){return t},r.reverse=function(){var o=t.reverse.apply(this);return o.flip=function(){return t.reverse()},o},r.has=function(o){return t.includes(o)},r.includes=function(o){return t.has(o)},r.cacheResult=Ii,r.__iterateUncached=function(o,a){var u=this;return t.__iterate(function(c,d){return o(d,c,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===Fe){var u=t.__iterator(o,a);return new J(function(){var c=u.next();if(!c.done){var d=c.value[0];c.value[0]=c.value[1],c.value[1]=d}return c})}return t.__iterator(o===ge?Ur:ge,a)},r}function ms(t,r,o){var a=xe(t);return a.size=t.size,a.has=function(u){return t.has(u)},a.get=function(u,c){var d=t.get(u,ct);return d===ct?c:r.call(o,d,u,t)},a.__iterateUncached=function(u,c){var d=this;return t.__iterate(function(v,O,b){return u(r.call(o,v,O,b),O,d)!==!1},c)},a.__iteratorUncached=function(u,c){var d=t.__iterator(Fe,c);return new J(function(){var v=d.next();if(v.done)return v;var O=v.value,b=O[0];return z(u,b,r.call(o,O[1],b,t),v)})},a}function Ti(t,r){var o=xe(t);return o._iter=t,o.size=t.size,o.reverse=function(){return t},t.flip&&(o.flip=function(){var a=ps(t);return a.reverse=function(){return t.flip()},a}),o.get=function(a,u){return t.get(r?a:-1-a,u)},o.has=function(a){return t.has(r?a:-1-a)},o.includes=function(a){return t.includes(a)},o.cacheResult=Ii,o.__iterate=function(a,u){var c=this;return t.__iterate(function(d,v){return a(d,v,c)},!u)},o.__iterator=function(a,u){return t.__iterator(a,!u)},o}function ys(t,r,o,a){var u=xe(t);return a&&(u.has=function(c){var d=t.get(c,ct);return d!==ct&&!!r.call(o,d,c,t)},u.get=function(c,d){var v=t.get(c,ct);return v!==ct&&r.call(o,v,c,t)?v:d}),u.__iterateUncached=function(c,d){var v=this,O=0;return t.__iterate(function(b,N,P){if(r.call(o,b,N,P))return O++,c(b,a?N:O-1,v)},d),O},u.__iteratorUncached=function(c,d){var v=t.__iterator(Fe,d),O=0;return new J(function(){for(;;){var b=v.next();if(b.done)return b;var N=b.value,P=N[0],W=N[1];if(r.call(o,W,P,t))return z(c,a?P:O++,W,b)}})},u}function Ql(t,r,o){var a=dt().asMutable();return t.__iterate(function(u,c){a.update(r.call(o,u,c,t),0,function(d){return d+1})}),a.asImmutable()}function tc(t,r,o){var a=X(t),u=(pt(t)?Ct():dt()).asMutable();t.__iterate(function(d,v){u.update(r.call(o,d,v,t),function(O){return O=O||[],O.push(a?[v,d]:d),O})});var c=ws(t);return u.map(function(d){return It(t,c(d))})}function Ei(t,r,o,a){var u=t.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),ue(r,o,u))return t;var c=Ht(r,u),d=Bt(o,u);if(c!==c||d!==d)return Ei(t.toSeq().cacheResult(),r,o,a);var v,O=d-c;O==O&&(v=0>O?0:O);var b=xe(t);return b.size=v===0?v:t.size&&v||void 0,!a&&_(t)&&0<=v&&(b.get=function(N,P){return N=tt(this,N),0<=N&&N<v?t.get(N+c,P):P}),b.__iterateUncached=function(N,P){var W=this;if(v===0)return 0;if(P)return this.cacheResult().__iterate(N,P);var Q=0,ft=!0,At=0;return t.__iterate(function(_e,be){if(!(ft&&(ft=Q++<c)))return At++,N(_e,a?be:At-1,W)!==!1&&At!==v}),At},b.__iteratorUncached=function(N,P){if(v!==0&&P)return this.cacheResult().__iterator(N,P);var W=v!==0&&t.__iterator(N,P),Q=0,ft=0;return new J(function(){for(;Q++<c;)W.next();if(++ft>v)return yt();var At=W.next();return a||N===ge?At:N===Ur?z(N,ft-1,void 0,At):z(N,ft-1,At.value[1],At)})},b}function ec(t,r,o){var a=xe(t);return a.__iterateUncached=function(u,c){var d=this;if(c)return this.cacheResult().__iterate(u,c);var v=0;return t.__iterate(function(O,b,N){return r.call(o,O,b,N)&&++v&&u(O,b,d)}),v},a.__iteratorUncached=function(u,c){var d=this;if(c)return this.cacheResult().__iterator(u,c);var v=t.__iterator(Fe,c),O=!0;return new J(function(){if(!O)return yt();var b=v.next();if(b.done)return b;var N=b.value,P=N[0],W=N[1];return r.call(o,W,P,d)?u===Fe?b:z(u,P,W,b):(O=!1,yt())})},a}function vs(t,r,o,a){var u=xe(t);return u.__iterateUncached=function(c,d){var v=this;if(d)return this.cacheResult().__iterate(c,d);var O=!0,b=0;return t.__iterate(function(N,P,W){if(!(O&&(O=r.call(o,N,P,W))))return b++,c(N,a?P:b-1,v)}),b},u.__iteratorUncached=function(c,d){var v=this;if(d)return this.cacheResult().__iterator(c,d);var O=t.__iterator(Fe,d),b=!0,N=0;return new J(function(){var P,W,Q;do{if(P=O.next(),P.done)return a||c===ge?P:c===Ur?z(c,N++,void 0,P):z(c,N++,P.value[1],P);var ft=P.value;W=ft[0],Q=ft[1],b&&(b=r.call(o,Q,W,v))}while(b);return c===Fe?P:z(c,W,Q,P)})},u}function rc(t,r){var o=X(t),a=[t].concat(r).map(function(d){return K(d)?o&&(d=E(d)):d=o?C(d):q(Array.isArray(d)?d:[d]),d}).filter(function(d){return d.size!==0});if(a.length===0)return t;if(a.length===1){var u=a[0];if(u===t||o&&X(u)||lt(t)&&lt(u))return u}var c=new M(a);return o?c=c.toKeyedSeq():!lt(t)&&(c=c.toSetSeq()),c=c.flatten(!0),c.size=a.reduce(function(d,v){if(d!==void 0){var O=v.size;if(O!==void 0)return d+O}},0),c}function gs(t,r,o){var a=xe(t);return a.__iterateUncached=function(u,c){function d(b,N){var P=this;b.__iterate(function(W,Q){return(!r||N<r)&&K(W)?d(W,N+1):u(W,o?Q:v++,P)===!1&&(O=!0),!O},c)}var v=0,O=!1;return d(t,0),v},a.__iteratorUncached=function(u,c){var d=t.__iterator(u,c),v=[],O=0;return new J(function(){for(;d;){var b=d.next();if(b.done!==!1){d=v.pop();continue}var N=b.value;if(u===Fe&&(N=N[1]),(!r||v.length<r)&&K(N))v.push(d),d=N.__iterator(u,c);else return o?b:z(u,O++,N,b)}return yt()})},a}function nc(t,r,o){var a=ws(t);return t.toSeq().map(function(u,c){return a(r.call(o,u,c,t))}).flatten(!0)}function ic(t,r){var o=xe(t);return o.size=t.size&&2*t.size-1,o.__iterateUncached=function(a,u){var c=this,d=0;return t.__iterate(function(v){return(!d||a(r,d++,c)!==!1)&&a(v,d++,c)!==!1},u),d},o.__iteratorUncached=function(a,u){var c,d=t.__iterator(ge,u),v=0;return new J(function(){return(!c||v%2)&&(c=d.next(),c.done)?c:v%2?z(a,v++,r):z(a,v++,c.value,c)})},o}function hr(t,r,o){r||(r=Is);var a=X(t),u=0,c=t.toSeq().map(function(d,v){return[v,d,u++,o?o(d,v,t):d]}).toArray();return c.sort(function(d,v){return r(d[3],v[3])||d[2]-v[2]}).forEach(a?function(d,v){c[v].length=2}:function(d,v){c[v]=d[1]}),a?w(c):lt(t)?I(c):k(c)}function xn(t,r,o){if(r||(r=Is),o){var a=t.toSeq().map(function(u,c){return[u,o(u,c,t)]}).reduce(function(u,c){return _s(r,u[1],c[1])?c:u});return a&&a[0]}return t.reduce(function(u,c){return _s(r,u,c)?c:u})}function _s(t,r,o){var a=t(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function wi(t,r,o){var a=xe(t);return a.size=new M(o).map(function(u){return u.size}).min(),a.__iterate=function(u,c){for(var d,v=this.__iterator(ge,c),O=0;!(d=v.next()).done&&u(d.value,O++,this)!==!1;);return O},a.__iteratorUncached=function(u,c){var d=o.map(function(b){return b=L(b),te(c?b.reverse():b)}),v=0,O=!1;return new J(function(){var b;return O||(b=d.map(function(N){return N.next()}),O=b.some(function(N){return N.done})),O?yt():z(u,v++,r.apply(null,b.map(function(N){return N.value})))})},a}function It(t,r){return _(t)?r:t.constructor(r)}function Ts(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Es(t){return ce(t.size),$(t)}function ws(t){return X(t)?E:lt(t)?U:rt}function xe(t){return Object.create((X(t)?w:lt(t)?I:k).prototype)}function Ii(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function Is(t,r){return t>r?1:t<r?-1:0}function Ss(t){var r=te(t);if(!r){if(!Y(t))throw new TypeError("Expected iterable or array-like: "+t);r=te(L(t))}return r}function fe(t,r){var o,a=function(c){if(c instanceof a)return c;if(!(this instanceof a))return new a(c);if(!o){o=!0;var d=Object.keys(t);oc(u,d),u.size=d.length,u._name=r,u._keys=d,u._defaultValues=t}this._map=dt(c)},u=a.prototype=Object.create(Gt);return u.constructor=a,a}function An(t,r,o){var a=Object.create(Object.getPrototypeOf(t));return a._map=r,a.__ownerID=o,a}function Os(t){return t._name||t.constructor.name||"Record"}function oc(t,r){try{r.forEach(sc.bind(void 0,t))}catch{}}function sc(t,r){Object.defineProperty(t,r,{get:function(){return this.get(r)},set:function(a){On(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function Dt(t){return t==null?bi():Si(t)&&!pt(t)?t:bi().withMutations(function(r){var o=rt(t);ce(o.size),o.forEach(function(a){return r.add(a)})})}function Si(t){return!!(t&&t[Ys])}function Oi(t,r){return t.__ownerID?(t.size=r.size,t._map=r,t):r===t._map?t:r.size===0?t.__empty():t.__make(r)}function bs(t,r){var o=Object.create(he);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function bi(){return Js||(Js=bs(Oe()))}function Ae(t){return t==null?ki():ks(t)?t:ki().withMutations(function(r){var o=rt(t);ce(o.size),o.forEach(function(a){return r.add(a)})})}function ks(t){return Si(t)&&pt(t)}function Ms(t,r){var o=Object.create(Fn);return o.size=t?t.size:0,o._map=t,o.__ownerID=r,o}function ki(){return Ks||(Ks=Ms(Dn()))}function Ut(t){return t==null?Mi():Ds(t)?t:Mi().unshiftAll(t)}function Ds(t){return!!(t&&t[Xs])}function Cr(t,r,o,a){var u=Object.create(pr);return u.size=t,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Mi(){return Qs||(Qs=Cr(0))}function Ne(t,r){var o=function(a){t.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),t}function ac(t,r){return r}function uc(t,r){return[r,t]}function Nn(t){return function(){return!t.apply(this,arguments)}}function xs(t){return function(){return-t.apply(this,arguments)}}function As(t){return typeof t=="string"?JSON.stringify(t):t+""}function lc(){return st(arguments)}function Ns(t,r){return t<r?1:t>r?-1:0}function cc(t){if(t.size===1/0)return 0;var r=pt(t),o=X(t),a=r?1:0,u=t.__iterate(o?r?function(c,d){a=0|31*a+Fs(le(c),le(d))}:function(c,d){a=0|a+Fs(le(c),le(d))}:r?function(c){a=0|31*a+le(c)}:function(c){a=0|a+le(c)});return fc(u,a)}function fc(t,r){return r=jr(r,3432918353),r=jr(r<<15|r>>>-15,461845907),r=jr(r<<13|r>>>-13,5),r=(0|r+3864292196)^t,r=jr(r^r>>>16,2246822507),r=jr(r^r>>>13,3266489909),r=li(r^r>>>16),r}function Fs(t,r){return 0|t^r+2654435769+(t<<6)+(t>>2)}var Ls=Math.imul,Ye=Math.max,ye=Array.prototype.slice;T(E,L),T(U,L),T(rt,L),L.isIterable=K,L.isKeyed=X,L.isIndexed=lt,L.isAssociative=ht,L.isOrdered=pt,L.Keyed=E,L.Indexed=U,L.Set=rt;var zs="@@__IMMUTABLE_ITERABLE__@@",Cs="@@__IMMUTABLE_KEYED__@@",Rs="@@__IMMUTABLE_INDEXED__@@",dr="@@__IMMUTABLE_ORDERED__@@",Rr="delete",Mt=5,ve=1<<Mt,ee=ve-1,ct={},hc={value:!1},Us={value:!1},Ur=0,ge=1,Fe=2,Di=typeof Symbol=="function"&&Symbol.iterator,js="@@iterator",xi=Di||js;J.prototype.toString=function(){return"[Iterator]"},J.KEYS=Ur,J.VALUES=ge,J.ENTRIES=Fe,J.prototype.inspect=J.prototype.toSource=function(){return this.toString()},J.prototype[xi]=function(){return this},T(x,L),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(t,r){return at(this,t,r,!0)},x.prototype.__iterator=function(t,r){return xt(this,t,r,!0)},T(w,x),w.prototype.toKeyedSeq=function(){return this},T(I,x),I.of=function(){return I(arguments)},I.prototype.toIndexedSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq [","]")},I.prototype.__iterate=function(t,r){return at(this,t,r,!1)},I.prototype.__iterator=function(t,r){return xt(this,t,r,!1)},T(k,x),k.of=function(){return k(arguments)},k.prototype.toSetSeq=function(){return this},x.isSeq=_,x.Keyed=w,x.Set=k,x.Indexed=I;var Ps="@@__IMMUTABLE_SEQ__@@";x.prototype[Ps]=!0,T(M,I),M.prototype.get=function(t,r){return this.has(t)?this._array[tt(this,t)]:r},M.prototype.__iterate=function(t,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(t(o[r?a-u:u],u,this)===!1)return u+1;return u},M.prototype.__iterator=function(t,r){var o=this._array,a=o.length-1,u=0;return new J(function(){return u>a?yt():z(t,u,o[r?a-u++:u++])})},T(F,w),F.prototype.get=function(t,r){return r===void 0||this.has(t)?this._object[t]:r},F.prototype.has=function(t){return this._object.hasOwnProperty(t)},F.prototype.__iterate=function(t,r){for(var o,a=this._object,u=this._keys,c=u.length-1,d=0;d<=c;d++)if(o=u[r?c-d:d],t(a[o],o,this)===!1)return d+1;return d},F.prototype.__iterator=function(t,r){var o=this._object,a=this._keys,u=a.length-1,c=0;return new J(function(){var d=a[r?u-c:c];return c++>u?yt():z(t,d,o[d])})},F.prototype[dr]=!0,T(S,I),S.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);var o=this._iterable,a=te(o),u=0;if(Pt(a))for(var c;!(c=a.next()).done&&t(c.value,u++,this)!==!1;);return u},S.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterable,a=te(o);if(!Pt(a))return new J(yt);var u=0;return new J(function(){var c=a.next();return c.done?c:z(t,u++,c.value)})},T(p,I),p.prototype.__iterateUncached=function(t,r){if(r)return this.cacheResult().__iterate(t,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(t(a[u],u++,this)===!1)return u;for(var c,d;!(c=o.next()).done&&(d=c.value,a[u]=d,t(d,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(t,r){if(r)return this.cacheResult().__iterator(t,r);var o=this._iterator,a=this._iteratorCache,u=0;return new J(function(){if(u>=a.length){var c=o.next();if(c.done)return c;a[u]=c.value}return z(t,u,a[u++])})};var qs;T(Xt,I),Xt.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Xt.prototype.get=function(t,r){return this.has(t)?this._value:r},Xt.prototype.includes=function(t){return Rt(this._value,t)},Xt.prototype.slice=function(t,r){var o=this.size;return ue(t,r,o)?this:new Xt(this._value,Bt(r,o)-Ht(t,o))},Xt.prototype.reverse=function(){return this},Xt.prototype.indexOf=function(t){return Rt(this._value,t)?0:-1},Xt.prototype.lastIndexOf=function(t){return Rt(this._value,t)?this.size:-1},Xt.prototype.__iterate=function(t){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},Xt.prototype.__iterator=function(t){var r=this,o=0;return new J(function(){return o<r.size?z(t,o++,r._value):yt()})},Xt.prototype.equals=function(t){return t instanceof Xt?Rt(this._value,t._value):ui(t)};var Ai;T(Zt,I),Zt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Zt.prototype.get=function(t,r){return this.has(t)?this._start+tt(this,t)*this._step:r},Zt.prototype.includes=function(t){var r=(t-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Zt.prototype.slice=function(t,r){return ue(t,r,this.size)?this:(t=Ht(t,this.size),r=Bt(r,this.size),r<=t?new Zt(0,0):new Zt(this.get(t,this._end),this.get(r,this._end),this._step))},Zt.prototype.indexOf=function(t){var r=t-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Zt.prototype.lastIndexOf=function(t){return this.indexOf(t)},Zt.prototype.__iterate=function(t,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,c=0;c<=o;c++){if(t(u,c,this)===!1)return c+1;u+=r?-a:a}return c},Zt.prototype.__iterator=function(t,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,c=0;return new J(function(){var d=u;return u+=r?-a:a,c>o?yt():z(t,c++,d)})},Zt.prototype.equals=function(t){return t instanceof Zt?this._start===t._start&&this._end===t._end&&this._step===t._step:ui(this,t)};var Ni;T(Pe,L),T(Ar,Pe),T(or,Pe),T(bn,Pe),Pe.Keyed=Ar,Pe.Indexed=or,Pe.Set=bn;var Fi,jr=typeof Ls=="function"?Ls:function(t,r){t|=0,r|=0;var o=65535&t,a=65535&r;return 0|o*a+((t>>>16)*a+o*(r>>>16)<<16>>>0)},Vs=Object.isExtensible,Hs=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),Li=typeof WeakMap=="function";Li&&(Fi=new WeakMap);var zi=0,Je="__immutablehash__";typeof Symbol=="function"&&(Je=Symbol(Je));var dc=16,pc=255,Ci=0,Ri={};T(dt,Ar),dt.of=function(){var t=ye.call(arguments,0);return Oe().withMutations(function(r){for(var o=0;o<t.length;o+=2){if(o+1>=t.length)throw new Error("Missing value for key: "+t[o]);r.set(t[o],t[o+1])}})},dt.prototype.toString=function(){return this.__toString("Map {","}")},dt.prototype.get=function(t,r){return this._root?this._root.get(0,void 0,t,r):r},dt.prototype.set=function(t,r){return es(this,t,r)},dt.prototype.setIn=function(t,r){return this.updateIn(t,ct,function(){return r})},dt.prototype.remove=function(t){return es(this,t,ct)},dt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return ct})},dt.prototype.update=function(t,r,o){return arguments.length===1?t(this):this.updateIn([t],r,o)},dt.prototype.updateIn=function(t,r,o){o||(o=r,r=void 0);var a=ss(this,Ss(t),r,o);return a===ct?void 0:a},dt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Oe()},dt.prototype.merge=function(){return kn(this,void 0,arguments)},dt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return kn(this,t,r)},dt.prototype.mergeIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Oe(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},dt.prototype.mergeDeep=function(){return kn(this,ns,arguments)},dt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return kn(this,is(t),r)},dt.prototype.mergeDeepIn=function(t){var r=ye.call(arguments,1);return this.updateIn(t,Oe(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},dt.prototype.sort=function(t){return Ct(hr(this,t))},dt.prototype.sortBy=function(t,r){return Ct(hr(this,r,t))},dt.prototype.withMutations=function(t){var r=this.asMutable();return t(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},dt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Tt)},dt.prototype.asImmutable=function(){return this.__ensureOwner()},dt.prototype.wasAltered=function(){return this.__altered},dt.prototype.__iterator=function(t,r){return new hi(this,t,r)},dt.prototype.__iterate=function(t,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,t(u[1],u[0],o)},r),a},dt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?pi(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},dt.isMap=fi;var Ws="@@__IMMUTABLE_MAP__@@",ut=dt.prototype;ut[Ws]=!0,ut[Rr]=ut.remove,ut.removeIn=ut.deleteIn,Nr.prototype.get=function(t,r,o,a){for(var u=this.entries,c=0,d=u.length;c<d;c++)if(Rt(o,u[c][0]))return u[c][1];return a},Nr.prototype.update=function(t,r,o,a,u,c,d){for(var v=u===ct,O=this.entries,b=0,N=O.length;b<N&&!Rt(a,O[b][0]);b++);var P=b<N;if(P?O[b][1]===u:v)return this;if(_t(d),(v||!P)&&_t(c),!(v&&O.length===1)){if(!P&&!v&&O.length>=mc)return Zl(t,O,a,u);var W=t&&t===this.ownerID,Q=W?O:st(O);return P?v?b==N-1?Q.pop():Q[b]=Q.pop():Q[b]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new Nr(t,Q)}},sr.prototype.get=function(t,r,o,a){r===void 0&&(r=le(o));var u=1<<((t===0?r:r>>>t)&ee),c=this.bitmap;return(c&u)==0?a:this.nodes[as(c&u-1)].get(t+Mt,r,o,a)},sr.prototype.update=function(t,r,o,a,u,c,d){o===void 0&&(o=le(a));var v=(r===0?o:o>>>r)&ee,O=1<<v,b=this.bitmap,N=(b&O)!=0;if(!N&&u===ct)return this;var P=as(b&O-1),W=this.nodes,Q=N?W[P]:void 0,ft=mi(Q,t,r+Mt,o,a,u,c,d);if(ft===Q)return this;if(!N&&ft&&W.length>=yc)return Yl(t,W,b,v,ft);if(N&&!ft&&W.length===2&&rs(W[1^P]))return W[1^P];if(N&&ft&&W.length===1&&rs(ft))return ft;var At=t&&t===this.ownerID,_e=N?ft?b:b^O:b|O,be=N?ft?us(W,P,ft,At):Kl(W,P,At):Jl(W,P,ft,At);return At?(this.bitmap=_e,this.nodes=be,this):new sr(t,_e,be)},Fr.prototype.get=function(t,r,o,a){r===void 0&&(r=le(o));var u=(t===0?r:r>>>t)&ee,c=this.nodes[u];return c?c.get(t+Mt,r,o,a):a},Fr.prototype.update=function(t,r,o,a,u,c,d){o===void 0&&(o=le(a));var v=(r===0?o:o>>>r)&ee,O=this.nodes,b=O[v];if(u===ct&&!b)return this;var N=mi(b,t,r+Mt,o,a,u,c,d);if(N===b)return this;var P=this.count;if(!b)P++;else if(!N&&(P--,P<vc))return Gl(t,O,P,v);var W=t&&t===this.ownerID,Q=us(O,v,N,W);return W?(this.count=P,this.nodes=Q,this):new Fr(t,P,Q)},ar.prototype.get=function(t,r,o,a){for(var u=this.entries,c=0,d=u.length;c<d;c++)if(Rt(o,u[c][0]))return u[c][1];return a},ar.prototype.update=function(t,r,o,a,u,c,d){o===void 0&&(o=le(a));var v=u===ct;if(o!==this.keyHash)return v?this:(_t(d),_t(c),yi(this,t,r,o,[a,u]));for(var O=this.entries,b=0,N=O.length;b<N&&!Rt(a,O[b][0]);b++);var P=b<N;if(P?O[b][1]===u:v)return this;if(_t(d),(v||!P)&&_t(c),v&&N===2)return new Re(t,this.keyHash,O[1^b]);var W=t&&t===this.ownerID,Q=W?O:st(O);return P?v?b==N-1?Q.pop():Q[b]=Q.pop():Q[b]=[a,u]:Q.push([a,u]),W?(this.entries=Q,this):new ar(t,this.keyHash,Q)},Re.prototype.get=function(t,r,o,a){return Rt(o,this.entry[0])?this.entry[1]:a},Re.prototype.update=function(t,r,o,a,u,c,d){var v=u===ct,O=Rt(a,this.entry[0]);return(O?u===this.entry[1]:v)?this:(_t(d),v?void _t(c):O?t&&t===this.ownerID?(this.entry[1]=u,this):new Re(t,this.keyHash,[a,u]):(_t(c),yi(this,t,r,le(a),[a,u])))},Nr.prototype.iterate=ar.prototype.iterate=function(t,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(t(o[r?u-a:a])===!1)return!1},sr.prototype.iterate=Fr.prototype.iterate=function(t,r){for(var o,a=this.nodes,u=0,c=a.length-1;u<=c;u++)if(o=a[r?c-u:u],o&&o.iterate(t,r)===!1)return!1},Re.prototype.iterate=function(t){return t(this.entry)},T(hi,J),hi.prototype.next=function(){for(var t=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return di(t,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return di(t,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var c=a.nodes[this._reverse?o-u:u];if(c){if(c.entry)return di(t,c.entry);r=this._stack=ts(c,r)}continue}r=this._stack=this._stack.__prev}return yt()};var $s,mc=ve/4,yc=ve/2,vc=ve/4;T(kt,or),kt.of=function(){return this(arguments)},kt.prototype.toString=function(){return this.__toString("List [","]")},kt.prototype.get=function(t,r){if(t=tt(this,t),0<=t&&t<this.size){t+=this._origin;var o=fs(this,t);return o&&o.array[t&ee]}return r},kt.prototype.set=function(t,r){return Xl(this,t,r)},kt.prototype.remove=function(t){return this.has(t)?t===0?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},kt.prototype.insert=function(t,r){return this.splice(t,0,r)},kt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Mt,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):vi()},kt.prototype.push=function(){var t=arguments,r=this.size;return this.withMutations(function(o){Ve(o,0,r+t.length);for(var a=0;a<t.length;a++)o.set(r+a,t[a])})},kt.prototype.pop=function(){return Ve(this,0,-1)},kt.prototype.unshift=function(){var t=arguments;return this.withMutations(function(r){Ve(r,-t.length);for(var o=0;o<t.length;o++)r.set(o,t[o])})},kt.prototype.shift=function(){return Ve(this,1)},kt.prototype.merge=function(){return Mn(this,void 0,arguments)},kt.prototype.mergeWith=function(t){var r=ye.call(arguments,1);return Mn(this,t,r)},kt.prototype.mergeDeep=function(){return Mn(this,ns,arguments)},kt.prototype.mergeDeepWith=function(t){var r=ye.call(arguments,1);return Mn(this,is(t),r)},kt.prototype.setSize=function(t){return Ve(this,0,t)},kt.prototype.slice=function(t,r){var o=this.size;return ue(t,r,o)?this:Ve(this,Ht(t,o),Bt(r,o))},kt.prototype.__iterator=function(t,r){var o=0,a=cs(this,r);return new J(function(){var u=a();return u===Pr?yt():z(t,o++,u)})},kt.prototype.__iterate=function(t,r){for(var o,a=0,u=cs(this,r);(o=u())!==Pr&&t(o,a++,this)!==!1;);return a},kt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Lr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},kt.isList=ls;var Bs="@@__IMMUTABLE_LIST__@@",re=kt.prototype;re[Bs]=!0,re[Rr]=re.remove,re.setIn=ut.setIn,re.deleteIn=re.removeIn=ut.removeIn,re.update=ut.update,re.updateIn=ut.updateIn,re.mergeIn=ut.mergeIn,re.mergeDeepIn=ut.mergeDeepIn,re.withMutations=ut.withMutations,re.asMutable=ut.asMutable,re.asImmutable=ut.asImmutable,re.wasAltered=ut.wasAltered,qe.prototype.removeBefore=function(t,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&ee;if(a>=this.array.length)return new qe([],t);var u,c=a==0;if(0<r){var d=this.array[a];if(u=d&&d.removeBefore(t,r-Mt,o),u===d&&c)return this}if(c&&!u)return this;var v=ur(this,t);if(!c)for(var O=0;O<a;O++)v.array[O]=void 0;return u&&(v.array[a]=u),v},qe.prototype.removeAfter=function(t,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&ee;if(a>=this.array.length)return this;var u;if(0<r){var c=this.array[a];if(u=c&&c.removeAfter(t,r-Mt,o),u===c&&a==this.array.length-1)return this}var d=ur(this,t);return d.array.splice(a+1),u&&(d.array[a]=u),d};var Zs,Pr={};T(Ct,dt),Ct.of=function(){return this(arguments)},Ct.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ct.prototype.get=function(t,r){var o=this._map.get(t);return o===void 0?r:this._list.get(o)[1]},Ct.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Dn()},Ct.prototype.set=function(t,r){return ds(this,t,r)},Ct.prototype.remove=function(t){return ds(this,t,ct)},Ct.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ct.prototype.__iterate=function(t,r){var o=this;return this._list.__iterate(function(a){return a&&t(a[1],a[0],o)},r)},Ct.prototype.__iterator=function(t,r){return this._list.fromEntrySeq().__iterator(t,r)},Ct.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t),o=this._list.__ensureOwner(t);return t?_i(r,o,t,this.__hash):(this.__ownerID=t,this._map=r,this._list=o,this)},Ct.isOrderedMap=hs,Ct.prototype[dr]=!0,Ct.prototype[Rr]=Ct.prototype.remove;var Gs;T(me,w),me.prototype.get=function(t,r){return this._iter.get(t,r)},me.prototype.has=function(t){return this._iter.has(t)},me.prototype.valueSeq=function(){return this._iter.valueSeq()},me.prototype.reverse=function(){var t=this,r=Ti(this,!0);return this._useKeys||(r.valueSeq=function(){return t._iter.toSeq().reverse()}),r},me.prototype.map=function(t,r){var o=this,a=ms(this,t,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(t,r)}),a},me.prototype.__iterate=function(t,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,c){return t(u,c,a)}:(o=r?Es(this):0,function(u){return t(u,r?--o:o++,a)}),r)},me.prototype.__iterator=function(t,r){if(this._useKeys)return this._iter.__iterator(t,r);var o=this._iter.__iterator(ge,r),a=r?Es(this):0;return new J(function(){var u=o.next();return u.done?u:z(t,r?--a:a++,u.value,u)})},me.prototype[dr]=!0,T(lr,I),lr.prototype.includes=function(t){return this._iter.includes(t)},lr.prototype.__iterate=function(t,r){var o=this,a=0;return this._iter.__iterate(function(u){return t(u,a++,o)},r)},lr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r),a=0;return new J(function(){var u=o.next();return u.done?u:z(t,a++,u.value,u)})},T(cr,k),cr.prototype.has=function(t){return this._iter.includes(t)},cr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){return t(a,a,o)},r)},cr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new J(function(){var a=o.next();return a.done?a:z(t,a.value,a.value,a)})},T(fr,w),fr.prototype.entrySeq=function(){return this._iter.toSeq()},fr.prototype.__iterate=function(t,r){var o=this;return this._iter.__iterate(function(a){if(a){Ts(a);var u=K(a);return t(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},fr.prototype.__iterator=function(t,r){var o=this._iter.__iterator(ge,r);return new J(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){Ts(u);var c=K(u);return z(t,c?u.get(0):u[0],c?u.get(1):u[1],a)}}})},lr.prototype.cacheResult=me.prototype.cacheResult=cr.prototype.cacheResult=fr.prototype.cacheResult=Ii,T(fe,Ar),fe.prototype.toString=function(){return this.__toString(Os(this)+" {","}")},fe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},fe.prototype.get=function(t,r){if(!this.has(t))return r;var o=this._defaultValues[t];return this._map?this._map.get(t,o):o},fe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=An(this,Oe()))},fe.prototype.set=function(t,r){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Os(this));if(this._map&&!this._map.has(t)){var o=this._defaultValues[t];if(r===o)return this}var a=this._map&&this._map.set(t,r);return this.__ownerID||a===this._map?this:An(this,a)},fe.prototype.remove=function(t){if(!this.has(t))return this;var r=this._map&&this._map.remove(t);return this.__ownerID||r===this._map?this:An(this,r)},fe.prototype.wasAltered=function(){return this._map.wasAltered()},fe.prototype.__iterator=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(t,r)},fe.prototype.__iterate=function(t,r){var o=this;return E(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(t,r)},fe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(t);return t?An(this,r,t):(this.__ownerID=t,this._map=r,this)};var Gt=fe.prototype;Gt[Rr]=Gt.remove,Gt.deleteIn=Gt.removeIn=ut.removeIn,Gt.merge=ut.merge,Gt.mergeWith=ut.mergeWith,Gt.mergeIn=ut.mergeIn,Gt.mergeDeep=ut.mergeDeep,Gt.mergeDeepWith=ut.mergeDeepWith,Gt.mergeDeepIn=ut.mergeDeepIn,Gt.setIn=ut.setIn,Gt.update=ut.update,Gt.updateIn=ut.updateIn,Gt.withMutations=ut.withMutations,Gt.asMutable=ut.asMutable,Gt.asImmutable=ut.asImmutable,T(Dt,bn),Dt.of=function(){return this(arguments)},Dt.fromKeys=function(t){return this(E(t).keySeq())},Dt.prototype.toString=function(){return this.__toString("Set {","}")},Dt.prototype.has=function(t){return this._map.has(t)},Dt.prototype.add=function(t){return Oi(this,this._map.set(t,!0))},Dt.prototype.remove=function(t){return Oi(this,this._map.remove(t))},Dt.prototype.clear=function(){return Oi(this,this._map.clear())},Dt.prototype.union=function(){var t=ye.call(arguments,0);return t=t.filter(function(r){return r.size!==0}),t.length===0?this:this.size!==0||this.__ownerID||t.length!==1?this.withMutations(function(r){for(var o=0;o<t.length;o++)rt(t[o]).forEach(function(a){return r.add(a)})}):this.constructor(t[0])},Dt.prototype.intersect=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.every(function(u){return u.includes(a)})||o.remove(a)})})},Dt.prototype.subtract=function(){var t=ye.call(arguments,0);if(t.length===0)return this;t=t.map(function(o){return rt(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){t.some(function(u){return u.includes(a)})&&o.remove(a)})})},Dt.prototype.merge=function(){return this.union.apply(this,arguments)},Dt.prototype.mergeWith=function(){var t=ye.call(arguments,1);return this.union.apply(this,t)},Dt.prototype.sort=function(t){return Ae(hr(this,t))},Dt.prototype.sortBy=function(t,r){return Ae(hr(this,r,t))},Dt.prototype.wasAltered=function(){return this._map.wasAltered()},Dt.prototype.__iterate=function(t,r){var o=this;return this._map.__iterate(function(a,u){return t(u,u,o)},r)},Dt.prototype.__iterator=function(t,r){return this._map.map(function(o,a){return a}).__iterator(t,r)},Dt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._map.__ensureOwner(t);return t?this.__make(r,t):(this.__ownerID=t,this._map=r,this)},Dt.isSet=Si;var Ys="@@__IMMUTABLE_SET__@@",he=Dt.prototype;he[Ys]=!0,he[Rr]=he.remove,he.mergeDeep=he.merge,he.mergeDeepWith=he.mergeWith,he.withMutations=ut.withMutations,he.asMutable=ut.asMutable,he.asImmutable=ut.asImmutable,he.__empty=bi,he.__make=bs;var Js;T(Ae,Dt),Ae.of=function(){return this(arguments)},Ae.fromKeys=function(t){return this(E(t).keySeq())},Ae.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ae.isOrderedSet=ks;var Fn=Ae.prototype;Fn[dr]=!0,Fn.__empty=ki,Fn.__make=Ms;var Ks;T(Ut,or),Ut.of=function(){return this(arguments)},Ut.prototype.toString=function(){return this.__toString("Stack [","]")},Ut.prototype.get=function(t,r){var o=this._head;for(t=tt(this,t);o&&t--;)o=o.next;return o?o.value:r},Ut.prototype.peek=function(){return this._head&&this._head.value},Ut.prototype.push=function(){if(arguments.length===0)return this;for(var t=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Cr(t,r)},Ut.prototype.pushAll=function(t){if(t=U(t),t.size===0)return this;ce(t.size);var r=this.size,o=this._head;return t.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Cr(r,o)},Ut.prototype.pop=function(){return this.slice(1)},Ut.prototype.unshift=function(){return this.push.apply(this,arguments)},Ut.prototype.unshiftAll=function(t){return this.pushAll(t)},Ut.prototype.shift=function(){return this.pop.apply(this,arguments)},Ut.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mi()},Ut.prototype.slice=function(t,r){if(ue(t,r,this.size))return this;var o=Ht(t,this.size),a=Bt(r,this.size);if(a!==this.size)return or.prototype.slice.call(this,t,r);for(var u=this.size-o,c=this._head;o--;)c=c.next;return this.__ownerID?(this.size=u,this._head=c,this.__hash=void 0,this.__altered=!0,this):Cr(u,c)},Ut.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Cr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ut.prototype.__iterate=function(t,r){if(r)return this.reverse().__iterate(t);for(var o=0,a=this._head;a&&t(a.value,o++,this)!==!1;)a=a.next;return o},Ut.prototype.__iterator=function(t,r){if(r)return this.reverse().__iterator(t);var o=0,a=this._head;return new J(function(){if(a){var u=a.value;return a=a.next,z(t,o++,u)}return yt()})},Ut.isStack=Ds;var Xs="@@__IMMUTABLE_STACK__@@",pr=Ut.prototype;pr[Xs]=!0,pr.withMutations=ut.withMutations,pr.asMutable=ut.asMutable,pr.asImmutable=ut.asImmutable,pr.wasAltered=ut.wasAltered;var Qs;L.Iterator=J,Ne(L,{toArray:function(){ce(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new lr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new me(this,!0)},toMap:function(){return dt(this.toKeyedSeq())},toObject:function(){ce(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return Ct(this.toKeyedSeq())},toOrderedSet:function(){return Ae(X(this)?this.valueSeq():this)},toSet:function(){return Dt(X(this)?this.valueSeq():this)},toSetSeq:function(){return new cr(this)},toSeq:function(){return lt(this)?this.toIndexedSeq():X(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ut(X(this)?this.valueSeq():this)},toList:function(){return kt(X(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=ye.call(arguments,0);return It(this,rc(this,r))},includes:function(r){return this.some(function(o){return Rt(o,r)})},entries:function(){return this.__iterator(Fe)},every:function(r,o){ce(this.size);var a=!0;return this.__iterate(function(u,c,d){if(!r.call(o,u,c,d))return a=!1,!1}),a},filter:function(r,o){return It(this,ys(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return ce(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){ce(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator(Ur)},map:function(r,o){return It(this,ms(this,r,o))},reduce:function(r,o,a){ce(this.size);var u,c;return 2>arguments.length?c=!0:u=o,this.__iterate(function(d,v,O){c?(c=!1,u=d):u=r.call(a,u,d,v,O)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return It(this,Ti(this,!0))},slice:function(r,o){return It(this,Ei(this,r,o,!0))},some:function(r,o){return!this.every(Nn(r),o)},sort:function(r){return It(this,hr(this,r))},values:function(){return this.__iterator(ge)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return $(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return Ql(this,r,o)},equals:function(r){return ui(this,r)},entrySeq:function(){var r=this;if(r._cache)return new M(r._cache);var o=r.toSeq().map(uc).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(Nn(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(c,d,v){if(r.call(o,c,d,v))return u=[d,c],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Vt)},flatMap:function(r,o){return It(this,nc(this,r,o))},flatten:function(r){return It(this,gs(this,r,!0))},fromEntrySeq:function(){return new fr(this)},get:function(r,o){return this.find(function(a,u){return Rt(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,c=this,d=Ss(r);!(a=d.next()).done;)if(u=a.value,c=c&&c.get?c.get(u,ct):ct,c===ct)return o;return c},groupBy:function(r,o){return tc(this,r,o)},has:function(r){return this.get(r,ct)!==ct},hasIn:function(r){return this.getIn(r,ct)!==ct},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return Rt(o,r)})},keySeq:function(){return this.toSeq().map(ac).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return xn(this,r)},maxBy:function(r,o){return xn(this,o,r)},min:function(r){return xn(this,r?xs(r):Ns)},minBy:function(r,o){return xn(this,o?xs(o):Ns,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(Ye(0,r))},skipLast:function(r){return It(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return It(this,vs(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(Nn(r),o)},sortBy:function(r,o){return It(this,hr(this,o,r))},take:function(r){return this.slice(0,Ye(0,r))},takeLast:function(r){return It(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return It(this,ec(this,r,o))},takeUntil:function(r,o){return this.takeWhile(Nn(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=cc(this))}});var ne=L.prototype;ne[zs]=!0,ne[xi]=ne.values,ne.__toJS=ne.toArray,ne.__toStringMapper=As,ne.inspect=ne.toSource=function(){return this.toString()},ne.chain=ne.flatMap,ne.contains=ne.includes,Ne(E,{flip:function(){return It(this,ps(this))},mapEntries:function(r,o){var a=this,u=0;return It(this,this.toSeq().map(function(c,d){return r.call(o,[d,c],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return It(this,this.toSeq().flip().map(function(u,c){return r.call(o,u,c,a)}).flip())}});var Ln=E.prototype;return Ln[Cs]=!0,Ln[xi]=ne.entries,Ln.__toJS=ne.toObject,Ln.__toStringMapper=function(t,r){return JSON.stringify(r)+": "+As(t)},Ne(U,{toKeyedSeq:function(){return new me(this,!1)},filter:function(r,o){return It(this,ys(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return It(this,Ti(this,!1))},slice:function(r,o){return It(this,Ei(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=Ye(0|o,0),a===0||a===2&&!o)return this;r=Ht(r,0>r?this.count():this.size);var u=this.slice(0,r);return It(this,a===1?u:u.concat(st(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return It(this,gs(this,r,!1))},get:function(r,o){return r=tt(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=tt(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return It(this,ic(this,r))},interleave:function(){var r=[this].concat(st(arguments)),o=wi(this.toSeq(),I.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),It(this,a)},keySeq:function(){return Zt(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return It(this,vs(this,r,o,!1))},zip:function(){var r=[this].concat(st(arguments));return It(this,wi(this,lc,r))},zipWith:function(r){var o=st(arguments);return o[0]=this,It(this,wi(this,r,o))}}),U.prototype[Rs]=!0,U.prototype[dr]=!0,Ne(rt,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),rt.prototype.has=ne.includes,rt.prototype.contains=rt.prototype.includes,Ne(w,E.prototype),Ne(I,U.prototype),Ne(k,rt.prototype),Ne(Ar,E.prototype),Ne(or,U.prototype),Ne(bn,rt.prototype),{Iterable:L,Seq:x,Collection:Pe,Map:dt,OrderedMap:Ct,List:kt,Stack:Ut,Set:Dt,OrderedSet:Ae,Record:fe,Range:Zt,Repeat:Xt,is:Rt,fromJS:Se}})}),B=i(function(y,T){(function(L,E){E(T,R)})(e,function(L){"use strict";function E(p,_){for(var A=Object.getOwnPropertyNames(_),C=0;C<A.length;C++){var q=A[C],H=Object.getOwnPropertyDescriptor(_,q);H&&H.configurable&&p[q]===void 0&&Object.defineProperty(p,q,H)}return p}function U(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function rt(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _>"u"?"undefined":s(_)));p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):E(p,_))}function K(){}var X=function(){function p(_,A){for(var C,q=0;q<A.length;q++)C=A[q],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(_,C.key,C)}return function(_,A,C){return A&&p(_.prototype,A),C&&p(_,C),_}}(),lt=function(p,_,A){var C=!0;t:for(;C;){var q=p,H=_,et=A;C=!1,q===null&&(q=Function.prototype);var at=Object.getOwnPropertyDescriptor(q,H);if(at===void 0){var xt=Object.getPrototypeOf(q);if(xt===null)return;p=xt,_=H,A=et,C=!0,at=xt=void 0;continue t}else{if("value"in at)return at.value;var Se=at.get;return Se===void 0?void 0:Se.call(et)}}};if(typeof ht>"u"){var ht=function(p){return"@@"+p};ht.for=ht}L.construct=function(p){return K.prototype=p.constructor.prototype,new K};var pt=ht.for("typed/type"),jt=ht.for("typed/store"),_t=ht.for("typed/empty"),Tt=ht.for("typed/type/maybe"),st=ht.for("typed/type/default"),$=ht.for("typed/type/label"),tt=ht.for("transducer/init"),Vt=ht.for("transducer/result"),ue=ht.for("transducer/step"),Ht=ht.for("typed/type/read"),Bt=ht.for("typed/type/parse"),zt=ht("typed/type/name"),J=ht("typed/type/signature"),z=function(p,_,A){var C=function(et){function at(xt){U(this,at),lt(Object.getPrototypeOf(at.prototype),"constructor",this).call(this),this[st]=xt}return rt(at,et),at}(Qt),q=C.prototype;q[st]=A,q[Bt]=_,q[$]=p;var H=function(et){return et===void 0?q:new C(et)};return H.prototype=q,H};L.Typed=z,z.label=$,z.defaultValue=st,z.read=Ht,z.typeName=zt,z.typeSignature=J,z.type=pt,z.store=jt,z.init=tt,z.result=Vt,z.step=ue,z.DELETE="delete",z.empty=_t;var yt=function(p){return p[zt]()},Qt=function(){function p(){U(this,p)}return X(p,[{key:z.read,value:function(){var _=0>=arguments.length||arguments[0]===void 0?this[st]:arguments[0];return this[Bt](_)}},{key:z.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:z.typeName,value:function(){var _=this[$],A=this[st];return A===void 0?_:_+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qt;var Pt=Object.prototype,te=Array.isArray||function(p){return Pt.toString.call(p)==="[object Array]"},G=function(p){return Pt.toString.call(p)==="[object RegExp]"},Y=function(p){var _=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Ht]?p:p.prototype&&p.prototype[Ht]?p.prototype:_==="number"?new z.Number(p):_==="string"?new z.String(p):_==="boolean"?new z.Boolean(p):_==="symbol"?new z.Symbol(p):te(p)?z.Array(p):G(p)?new z.RegExp(p):p===String?z.String.prototype:p===Number?z.Number.prototype:p===Boolean?z.Boolean.prototype:p===RegExp?z.RegExp.prototype:p===Array?z.Array.prototype:p===ht?z.Symbol.prototype:p===Date?z.Date.prototype:x}()};L.typeOf=Y;var x=z("Any",function(p){return p})();L.Any=x,z.Any=x,z.Number=z("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),z.String=z("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),z.Symbol=z("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),z.Array=z("Array",function(p){return te(p)?p:TypeError('"'+p+'" is not an array')}),z.RegExp=z("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),z.Boolean=z("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),z.Date=z("Date",function(p){var _=new Date(p);return isNaN(_.valueOf())?new TypeError('"'+p+'" is not a valid date.'):_});var w=function(p){function _(A){U(this,_),lt(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[pt]=A}return rt(_,p),X(_,[{key:z.typeName,value:function(){return"Maybe("+this[pt][zt]()+")"}},{key:z.read,value:function(A){var C=A==null?null:this[pt][Ht](A);return C instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[pt][zt]()+" type"):C}}]),_}(Qt),I=function(p){var _=Y(p);if(_===x)throw TypeError(p+" is not a valid type");return _[Tt]||(_[Tt]=new w(_))};L.Maybe=I,I.Type=w;var k=function(p){function _(A){U(this,_),lt(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[pt]=A}return rt(_,p),X(_,[{key:z.typeName,value:function(){return"Union("+this[pt].map(yt).join(", ")+")"}},{key:z.read,value:function(A){for(var C,q=this[pt],H=q.length,et=0;et<H;){if(C=q[et],A instanceof C.constructor)return A;++et}for(et=0;et<H;){var at=q[et][Ht](A);if(!(at instanceof TypeError))return at;++et}return TypeError('"'+A+'" does not satisfy '+this[zt]()+" type")}}]),_}(Qt),M=function(p,_){return p.filter(function(A){return 0>_.indexOf(A)})},F=function(p,_){if(p.length>_.length){var A=M(_,p);return A.length===0?p:p.concat(A)}var A=M(p,_);return A.length===0?_:A.concat(_)},S=function(){for(var p=arguments.length,_=Array(p),A=0;A<p;A++)_[A]=arguments[A];var C=_.length;if(C===0)throw TypeError("Union must be of at at least one type");for(var q=null,H=null,et=0;et<C;){var at=Y(_[et]);if(at===x)return x;if(!q)H=at,q=H instanceof k?H[pt]:[at];else if(0>q.indexOf(at))if(at instanceof k){var xt=F(q,at[pt]);xt===at[pt]?(H=at,q=xt):xt!==q&&(H=null,q=xt)}else H=null,q.push(at);++et}return H||new k(q)};L.Union=S,S.Type=k,z.Number.Range=function(p,_,A){return _===void 0&&(_=1/0),z("Typed.Number.Range("+p+".."+_+")",function(C){return typeof C=="number"?C>=p&&C<=_?C:TypeError('"'+C+`" isn't in the range of `+p+".."+_):TypeError('"'+C+'" is not a number')},A)}})}),it=i(function(y,T){(function(L,E){E(T,B,R)})(e,function(L,E,U){"use strict";function rt(Y,x){for(var w=Object.getOwnPropertyNames(x),I=0;I<w.length;I++){var k=w[I],M=Object.getOwnPropertyDescriptor(x,k);M&&M.configurable&&Y[k]===void 0&&Object.defineProperty(Y,k,M)}return Y}function K(Y,x,w){return x in Y?Object.defineProperty(Y,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):Y[x]=w,Y}function X(Y,x){if(!(Y instanceof x))throw new TypeError("Cannot call a class as a function")}function lt(Y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof x>"u"?"undefined":s(x)));Y.prototype=Object.create(x&&x.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,x):rt(Y,x))}var ht=function(){function Y(x,w){var I,k=[],M=!0,F=!1;try{for(var S,p=x[Symbol.iterator]();!(M=(S=p.next()).done)&&(k.push(S.value),!(w&&k.length===w));M=!0);}catch(_){F=!0,I=_}finally{try{!M&&p.return&&p.return()}finally{if(F)throw I}}return k}return function(x,w){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return Y(x,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function Y(x,w){for(var I,k=0;k<w.length;k++)I=w[k],I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}return function(x,w,I){return w&&Y(x.prototype,w),I&&Y(x,I),x}}(),jt=function(Y,x,w){var I=!0;t:for(;I;){var k=Y,M=x,F=w;I=!1,k===null&&(k=Function.prototype);var S=Object.getOwnPropertyDescriptor(k,M);if(S===void 0){var p=Object.getPrototypeOf(k);if(p===null)return;Y=p,x=M,w=F,I=!0,S=p=void 0;continue t}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(F)}}},_t=U.Iterable.Keyed,Tt=function(Y){return function(){return this.get(Y)}},st=function(Y){return function(x){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(Y,x)}},$=E.Typed.store,tt=E.Typed.type,Vt=E.Typed.step,ue=E.Typed.init,Ht=E.Typed.result,Bt=E.Typed.read,zt=E.Typed.label,J=E.Typed.empty,z=E.Typed.typeName,yt=E.Typed.typeSignature,Qt=function(){};Qt.prototype=U.Iterable.Keyed.prototype;var Pt=function(Y){function x(){X(this,x),jt(Object.getPrototypeOf(x.prototype),"constructor",this).call(this)}return lt(x,Y),pt(x,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(w){return w.asImmutable()}},{key:E.Typed.read,value:function(w){var I=this.constructor;if(w&&w instanceof I)return w;if(w===null||w&&(typeof w>"u"?"undefined":s(w))!=="object")return TypeError('Invalid data structure "'+w+'" was passed to '+this[z]());var k=(0,U.Seq)(w),M=this[tt],F=k.size===0;if(F&&this[J])return this[J];var S;for(var p in M){var _=M[p],A=k.has(p)?k.get(p):this.get(p),C=_[Bt](A);if(C instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+C.message);S=this[Vt](S||this[ue](),[p,C])}return S=this[Ht](S),F&&(this[J]=S),S}},{key:E.Typed.step,value:function(w,I){var k=ht(I,2),M=k[0],F=k[1],S=w[$]?w[$].set(M,F):new U.Map([[M,F]]);if(w[$]===S)return w;var p=w.__ownerID?w:(0,E.construct)(w);return p[$]=S,p}},{key:E.Typed.typeSignature,value:function(){var w=this[tt],I=[];for(var k in w)I.push(k+": "+w[k][z]());return"Typed.Record({"+I.join(", ")+"})"}},{key:E.Typed.typeName,value:function(){return this[zt]||this[yt]()}},{key:"toString",value:function(){return this.__toString(this[z]()+"({","})")}},{key:"has",value:function(w){return!!this[tt][w]}},{key:"get",value:function(w,I){return this[tt][w]&&this[$]?this[$].get(w,I):I}},{key:"clear",value:function(){return this.__ownerID?(this[$]&&this[$].clear(),this):this[J]||(this[J]=new this.constructor)}},{key:"remove",value:function(w){return this[tt][w]?this.set(w,void 0):this}},{key:"set",value:function(w,I){var k=this[tt][w];if(!k)throw TypeError('Cannot set unknown field "'+w+'" on "'+this[z]()+'"');var M=k[Bt](I);if(M instanceof TypeError)throw TypeError("Invalid value for "+w+" field: "+M.message);return this[Vt](this,[w,M])}},{key:"__iterator",value:function(w,I){var k=this;return _t(this[tt]).map(function(M,F){return k.get(F)}).__iterator(w,I)}},{key:"__iterate",value:function(w,I){var k=this;return _t(this[tt]).map(function(M,F){return k.get(F)}).__iterate(w,I)}},{key:"__ensureOwner",value:function(w){if(w===this.__ownerID)return this;var I=this[$]&&this[$].__ensureOwner(w),k=w?(0,E.construct)(this):this;return k.__ownerID=w,k[$]=I,k}},{key:"wasAltered",value:function(){return this[$].wasAltered()}}]),x}(Qt),te=function(Y,x){if(Y&&(typeof Y>"u"?"undefined":s(Y))==="object"){var w=Object.create(null),I=Object.keys(Y),k=I.length;if(0<k){var M,F=function(){for(var S=(M={size:{value:k}},K(M,tt,{value:w}),K(M,zt,{value:x}),M),p=0;p<k;){var _=I[p],A=(0,E.typeOf)(Y[_]);if(A)w[_]=A,S[_]={get:Tt(_),set:st(_),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+_+'" field');++p}var C=function q(H){var et=this instanceof q,at=et?this.constructor:q;if(H instanceof at)return H;var xt=at.prototype,Se=xt[Bt](H);if(Se instanceof TypeError)throw Se;return et?void(this[$]=Se[$]):Se};return S.constructor={value:C},C.prototype=Object.create(G,S),C.prototype,{v:C}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=te,te.Type=Pt,te.prototype=Pt.prototype;var G=Pt.prototype;G[E.Typed.DELETE]=G.remove,G.deleteIn=U.Map.prototype.deleteIn,G.removeIn=U.Map.prototype.removeIn,G.merge=U.Map.prototype.merge,G.mergeWith=U.Map.prototype.mergeWith,G.mergeIn=U.Map.prototype.mergeIn,G.mergeDeep=U.Map.prototype.mergeDeep,G.mergeDeepWith=U.Map.prototype.mergeDeepWith,G.mergeDeepIn=U.Map.prototype.mergeDeepIn,G.setIn=U.Map.prototype.setIn,G.update=U.Map.prototype.update,G.updateIn=U.Map.prototype.updateIn,G.withMutations=U.Map.prototype.withMutations,G.asMutable=U.Map.prototype.asMutable,G.asImmutable=U.Map.prototype.asImmutable,G.map=void 0,G.filter=void 0,G.filterNot=void 0,G.flip=void 0,G.mapKeys=void 0,G.mapEntries=void 0,G.sort=void 0,G.sortBy=void 0,G.reverse=void 0,G.slice=void 0,G.butLast=void 0,G.flatMap=void 0,G.flatten=void 0,G.rest=void 0,G.skip=void 0,G.skipLast=void 0,G.skipWhile=void 0,G.skipUntil=void 0,G.sortBy=void 0,G.take=void 0,G.takeLast=void 0,G.takeWhile=void 0,G.takeUntil=void 0})}),V=i(function(y,T){(function(L,E){E(T,B,R)})(e,function(L,E,U){"use strict";function rt(M,F){for(var S=Object.getOwnPropertyNames(F),p=0;p<S.length;p++){var _=S[p],A=Object.getOwnPropertyDescriptor(F,_);A&&A.configurable&&M[_]===void 0&&Object.defineProperty(M,_,A)}return M}function K(M,F,S){return F in M?Object.defineProperty(M,F,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[F]=S,M}function X(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function lt(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):rt(M,F))}function ht(){}var pt=function(){function M(F,S){var p,_=[],A=!0,C=!1;try{for(var q,H=F[Symbol.iterator]();!(A=(q=H.next()).done)&&(_.push(q.value),!(S&&_.length===S));A=!0);}catch(et){C=!0,p=et}finally{try{!A&&H.return&&H.return()}finally{if(C)throw p}}return _}return function(F,S){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return M(F,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),jt=function(){function M(F,S){for(var p,_=0;_<S.length;_++)p=S[_],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,S,p){return S&&M(F.prototype,S),p&&M(F,p),F}}(),_t=function(M,F,S){var p=!0;t:for(;p;){var _=M,A=F,C=S;p=!1,_===null&&(_=Function.prototype);var q=Object.getOwnPropertyDescriptor(_,A);if(q===void 0){var H=Object.getPrototypeOf(_);if(H===null)return;M=H,F=A,S=C,p=!0,q=H=void 0;continue t}else{if("value"in q)return q.value;var et=q.get;return et===void 0?void 0:et.call(C)}}},Tt=U.List,st=U.Iterable.Indexed,$=E.Typed.store,tt=E.Typed.type,Vt=E.Typed.read,ue=E.Typed.step,Ht=E.Typed.init,Bt=E.Typed.result,zt=E.Typed.label,J=E.Typed.typeName,z=E.Typed.empty,yt=function(M,F){var S=F(M[$]);if(S===M[$])return M;var p=M.__ownerID?M:(0,E.construct)(M);return p[$]=S,p.size=S.size,p},Qt=function(M){return M.clear()},Pt=function(M){return M.pop()},te=function(M){return M.shift()},G=function(M){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return lt(F,M),jt(F,[{key:E.Typed.typeName,value:function(){return"TypeInferer"}},{key:E.Typed.read,value:function(S){var p=(0,E.typeOf)(S).constructor.prototype;return this.type=this.type?(0,E.Union)(this.type,p):p,S}}]),F}(E.Type);ht.prototype=Tt.prototype;var Y=function(M){function F(S){return X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Vt](S)}return lt(F,M),jt(F,null,[{key:"from",value:function(S){var p=(0,E.construct)(this.prototype);return p[$]=S[$],p.size=S.size,p}}]),jt(F,[{key:E.Typed.init,value:function(){var S=(0,E.construct)(this).asMutable();return S[tt]=new G,S}},{key:E.Typed.result,value:function(S){var p=S.asImmutable();return p[tt]=S[tt].type,p}},{key:E.Typed.read,value:function(S){var p=this.constructor;if(S==null){if(!this[z]){var _=(0,E.construct)(this);_[$]=Tt(),_.size=0,this[z]=_}return this[z]}if(S instanceof p&&S&&S.constructor===p)return S;var A=st(S),C=A.size===0;if(C&&this[z])return this[z];var q=this[Ht]();return q.size=A.size,A.forEach(function(H,et){q.set(et,H)}),q=this[Bt](q),C&&(this[z]=q),q}},{key:E.Typed.step,value:function(S,p){var _=pt(p,2),A=_[0],C=_[1];return yt(S,function(){var q=0>=arguments.length||arguments[0]===void 0?Tt():arguments[0];return q.set(A,C)})}},{key:E.Typed.typeName,value:function(){return this[zt]||"Typed.List("+this[tt][J]()+")"}},{key:"toString",value:function(){return this.__toString(this[J]()+"([","])")}},{key:"has",value:function(S){return this[$].has(S)}},{key:"get",value:function(S,p){return this[$]?this[$].get(parseInt(S),p):p}},{key:"clear",value:function(){return this.__ownerID?yt(this,Qt):this[z]||this[Vt]()}},{key:"insert",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[tt][Vt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return yt(this,function(A){return A.insert(S,p)})}},{key:"remove",value:function(S){return yt(this,function(p){return p&&p.remove(S)})}},{key:"set",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[tt][Vt](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return this[ue](this,[S,_])}},{key:"push",value:function(){for(var S=this[tt],p=[],_=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];for(var q=A.length,H=0;H<q;){var et=A[H],at=S[Vt](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return yt(this,function(xt){return xt?xt.push.apply(xt,p):Tt.apply(void 0,p)})}},{key:"pop",value:function(){return yt(this,Pt)}},{key:"unshift",value:function(){for(var S=this[tt],p=[],_=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];for(var q=A.length,H=0;H<q;){var et=A[H],at=S[Vt](et);if(at instanceof TypeError)throw TypeError("Invalid value: "+at.message);p.push(at),++H}return yt(this,function(xt){return xt?xt.unshift.apply(xt,p):Tt.apply(void 0,p)})}},{key:"shift",value:function(){return yt(this,te)}},{key:"setSize",value:function(S){if(S>this.size)throw TypeError("setSize may only downsize");return yt(this,function(p){return p.setSize(S)})}},{key:"slice",value:function(S,p){return yt(this,function(_){return _&&_.slice(S,p)})}},{key:"wasAltered",value:function(){return this[$].wasAltered()}},{key:"__ensureOwner",value:function(S){var p=this.__ownerID===S?this:S?(0,E.construct)(this):this;return p.__ownerID=S,p[$]=this[$]?this[$].__ensureOwner(S):Tt().__ensureOwner(S),p.size=p[$].size,p}},{key:"__iterator",value:function(S,p){var _=this;return st(this[$]).map(function(A,C){return _.get(C)}).__iterator(S,p)}},{key:"__iterate",value:function(S,p){var _=this;return st(this[$]).map(function(A,C){return _.get(C)}).__iterate(S,p)}}]),F}(ht);Y.prototype[E.Typed.DELETE]=Y.prototype.remove;var x=function(){};x.prototype=Y.prototype;var w=function(M){function F(){X(this,F),_t(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return lt(F,M),jt(F,[{key:E.Typed.init,value:function(){return(0,E.construct)(this).asMutable()}},{key:E.Typed.result,value:function(S){return S.asImmutable()}},{key:"map",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).map(S,p);if(this[$]===_[$])return this;if(_[tt]===this[tt]){var A=(0,E.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}},{key:"flatMap",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).flatMap(S,p);if(this[$]===_[$])return this;if(_[tt]===this[tt]){var A=(0,E.construct)(this);return A[$]=_[$],A.size=_.size,A}return _}}]),F}(x),I=function(M,F){var S;if(M===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(M===E.Any)return U.List;var p=(0,E.typeOf)(M);if(p===E.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+M);var _=function A(C){var q=this instanceof A,H=q?this.constructor:A;if(C instanceof H)return C;var et=H.prototype[Vt](C);if(et instanceof TypeError)throw et;if(q&&!this[$])this[$]=et[$],this.size=et.size;else return et;return this};return _.of=Tt.of,_.prototype=Object.create(k,(S={constructor:{value:_}},K(S,tt,{value:p}),K(S,zt,{value:F}),S)),_};L.List=I,I.Type=w,I.prototype=w.prototype;var k=w.prototype})}),mt=i(function(y,T){(function(L,E){E(T,B,R)})(e,function(L,E,U){"use strict";function rt(x,w){for(var I=Object.getOwnPropertyNames(w),k=0;k<I.length;k++){var M=I[k],F=Object.getOwnPropertyDescriptor(w,M);F&&F.configurable&&x[M]===void 0&&Object.defineProperty(x,M,F)}return x}function K(x,w,I){return w in x?Object.defineProperty(x,w,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[w]=I,x}function X(x,w){if(!(x instanceof w))throw new TypeError("Cannot call a class as a function")}function lt(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof w>"u"?"undefined":s(w)));x.prototype=Object.create(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(x,w):rt(x,w))}var ht=function(){function x(w,I){var k,M=[],F=!0,S=!1;try{for(var p,_=w[Symbol.iterator]();!(F=(p=_.next()).done)&&(M.push(p.value),!(I&&M.length===I));F=!0);}catch(A){S=!0,k=A}finally{try{!F&&_.return&&_.return()}finally{if(S)throw k}}return M}return function(w,I){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return x(w,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pt=function(){function x(w,I){for(var k,M=0;M<I.length;M++)k=I[M],k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}return function(w,I,k){return I&&x(w.prototype,I),k&&x(w,k),w}}(),jt=function(x,w,I){var k=!0;t:for(;k;){var M=x,F=w,S=I;k=!1,M===null&&(M=Function.prototype);var p=Object.getOwnPropertyDescriptor(M,F);if(p===void 0){var _=Object.getPrototypeOf(M);if(_===null)return;x=_,w=F,I=S,k=!0,p=_=void 0;continue t}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(S)}}},_t=U.Map,Tt=U.Iterable.Keyed,st=E.Typed.store,$=E.Typed.type,tt=E.Typed.read,Vt=E.Typed.step,ue=E.Typed.init,Ht=E.Typed.result,Bt=E.Typed.label,zt=E.Typed.typeName,J=E.Typed.empty,z=function(x){function w(I,k,M){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),this.key=I,this.value=k,this.label=M}return lt(w,x),pt(w,[{key:E.Typed.typeName,value:function(){return this.label||this.key[zt]()+", "+this.value[zt]()}},{key:E.Typed.read,value:function(I){function k(){return I.apply(this,arguments)}return k.toString=function(){return I.toString()},k}(function(I){var k=ht(I,2),M=k[0],F=k[1],S=this.key[tt](M);if(S instanceof TypeError)return TypeError("Invalid key: "+S.message);var p=this.value[tt](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[S,p]})}]),w}(E.Type),yt=function(x){function w(){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this,key,value)}return lt(w,x),pt(w,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:E.Typed.typeName,value:function(){var I=this.key?this.key[zt]():"TypeInferred",k=this.value?this.value[zt]():"TypeInferred";return I+", "+k}},{key:E.Typed.read,value:function(I){var k=(0,E.typeOf)(I[0]).constructor.prototype;this.key=this.key?(0,E.Union)(this.key,k):k;var M=(0,E.typeOf)(I[1]).constructor.prototype;return this.value=this.value?(0,E.Union)(this.value,M):M,I}}]),w}(z),Qt=function(){};Qt.prototype=U.Map.prototype;var Pt=function(x){function w(I){return X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this),w.prototype[tt](I)}return lt(w,x),pt(w,[{key:"advance",value:function(I){var k=I.__ownerID?this:(0,E.construct)(this);return k[st]=I,k.size=I.size,k.__ownerID=I.__ownerID,k}},{key:E.Typed.init,value:function(){return this.advance(_t()).asMutable()}},{key:E.Typed.step,value:function(I,k){var M=this[$][tt](k);if(M instanceof TypeError)throw M;var F=ht(M,2),S=F[0],p=F[1];return I.advance(I[st].set(S,p))}},{key:E.Typed.result,value:function(I){return I.asImmutable()}},{key:E.Typed.read,value:function(I){var k=this.constructor;if(I==null)return this[J]||(this[J]=this.advance(_t())),this[J];var M=I instanceof k&&I.constructor===k;if(M)return I;for(var F=Tt(I).entries(),S=this[$],p=this[ue]();;){var _=F.next(),A=_.done,C=_.value;if(A)break;var q=S[tt](C);if(q instanceof TypeError)return q;p=p[Vt](p,q)}return this[Ht](p)}},{key:E.Typed.typeName,value:function(){return this[Bt]||"Typed.Map("+this[$][zt]()+")"}},{key:"toString",value:function(){return this.__toString(this[zt]()+"({","})")}},{key:"has",value:function(I){return this[st].has(I)}},{key:"get",value:function(I,k){return this[st].get(I,k)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[st].clear()):this[J]||this[tt]()}},{key:"remove",value:function(I){return this.advance(this[st].remove(I))}},{key:"set",value:function(I,k){return this[Vt](this,[I,k])}},{key:"wasAltered",value:function(){return this[st].wasAltered()}},{key:"__ensureOwner",value:function(I){var k=this.__ownerID===I?this:I?(0,E.construct)(this):this,M=this[st].__ensureOwner(I);return k[st]=M,k.size=M.size,k.__ownerID=I,k}},{key:"__iterator",value:function(I,k){return this[st].__iterator(I,k)}},{key:"__iterate",value:function(I,k){return this[st].__iterate(I,k)}}]),w}(Qt);Pt.prototype[E.Typed.DELETE]=Pt.prototype.remove;var te=function(x){function w(){X(this,w),jt(Object.getPrototypeOf(w.prototype),"constructor",this).call(this)}return lt(w,x),pt(w,[{key:E.Typed.init,value:function(){var I=this.advance(_t()).asMutable();return I[$]=new yt,I}},{key:E.Typed.result,value:function(I){var k=I.asImmutable();return k[$]=I[$].toStatic(),k}}]),w}(Pt),G=function(x,w,I){var k;if(x===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(w===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(x===E.Any&&w===E.Any)return _t;var M=(0,E.typeOf)(x),F=(0,E.typeOf)(w);if(M===E.Any&&x!==E.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+x);if(F===E.Any&&w!==E.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+w);var S=new z(M,F,I),p=function _(A){var C=this instanceof _,q=C?this.constructor:_;if(A instanceof q)return A;var H=q.prototype[tt](A);if(H instanceof TypeError)throw H;if(C&&!this[st])this[st]=H[st],this.size=H.size;else return H;return this};return p.of=function(){for(var _=arguments.length,A=Array(_),C=0;C<_;C++)A[C]=arguments[C];return p().withMutations(function(q){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);q.set(A[H],A[H+1])}})},p.prototype=Object.create(Y,(k={constructor:{value:p}},K(k,$,{value:S}),K(k,Bt,{value:I}),k)),p};L.Map=G,G.Type=Pt,G.prototype=Pt.prototype;var Y=G.prototype})}),Ot=i(function(y,T){(function(L,E){E(T,it,V,mt,B)})(e,function(L,E,U,rt,K){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return E.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return U.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return rt.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return K.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return K.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return K.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return K.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return K.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return K.Maybe}})})}),Et=Ot.Typed,Lt=Ot.Record,$t=Ot.List,je=Ot.Map,oe=Ot.Any,se="[object Function]",kr="[object GeneratorFunction]",ae=Object.prototype,Ie=ae.toString;function Mr(y){var T=Dr(y)?Ie.call(y):"";return T==se||T==kr}function Dr(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}var nr=Mr;function Qn(y){return y===null}var ir=Qn;function In(y){return y===void 0}var Ru=In,ti=i(function(y,T){function L(Tt){return!!Tt&&(typeof Tt>"u"?"undefined":s(Tt))=="object"}var E=s(e)=="object"&&e&&e.Object===Object&&e,U=T&&!T.nodeType&&T,rt=U&&!0&&y&&!y.nodeType&&y,K=rt&&rt.exports===U,X=K&&E.process,lt=function(){try{return X&&X.binding("util")}catch{}}(),ht=lt&&lt.isDate,pt=Object.prototype,jt=pt.toString,_t=ht?function(Tt){return function(st){return Tt(st)}}(ht):function(Tt){return L(Tt)&&jt.call(Tt)=="[object Date]"};y.exports=_t}),ei=1/0,Uu=9007199254740991,ju=17976931348623157e292,No=0/0,Pu="[object Symbol]",qu=/^\s+|\s+$/g,Vu=/^[-+]0x[0-9a-f]+$/i,Hu=/^0b[01]+$/i,Wu=/^0o[0-7]+$/i,Fo="\\ud800-\\udfff",$u="\\u0300-\\u036f\\ufe20-\\ufe23",Bu="\\u20d0-\\u20f0",Zu="\\ufe0e\\ufe0f",Gu="["+Fo+"]",ri="["+$u+Bu+"]",ni="\\ud83c[\\udffb-\\udfff]",Yu="(?:"+ri+"|"+ni+")",Lo="[^"+Fo+"]",zo="(?:\\ud83c[\\udde6-\\uddff]){2}",Co="[\\ud800-\\udbff][\\udc00-\\udfff]",Ju="\\u200d",Ro=Yu+"?",Uo="["+Zu+"]?",Ku="(?:"+Ju+"(?:"+[Lo,zo,Co].join("|")+")"+Uo+Ro+")*",Xu=Uo+Ro+Ku,Qu="(?:"+[Lo+ri+"?",ri,zo,Co,Gu].join("|")+")",ii=RegExp(ni+"(?="+ni+")|"+Qu+Xu,"g"),tl=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,el=parseInt,rl=s(e)=="object"&&e&&e.Object===Object&&e,nl=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,il=rl||nl||Function("return this")(),ol=al("length");function sl(y){return y.split("")}function al(y){return function(T){return T?.[y]}}function oi(y){return tl.test(y)}function jo(y){return oi(y)?ll(y):ol(y)}function ul(y){return oi(y)?cl(y):sl(y)}function ll(y){for(var T=ii.lastIndex=0;ii.test(y);)T++;return T}function cl(y){return y.match(ii)||[]}var fl=Object.prototype,hl=fl.toString,Po=il.Symbol,dl=Math.ceil,pl=Math.floor,qo=Po?Po.prototype:void 0,Vo=qo?qo.toString:void 0;function Ho(y,T){var L="";if(!y||1>T||T>Uu)return L;do T%2&&(L+=y),T=pl(T/2),T&&(y+=y);while(T);return L}function ml(y,T,L){var E=-1,U=y.length;0>T&&(T=-T>U?0:U+T),L=L>U?U:L,0>L&&(L+=U),U=T>L?0:L-T>>>0,T>>>=0;for(var rt=Array(U);++E<U;)rt[E]=y[E+T];return rt}function Wo(y){if(typeof y=="string")return y;if(Bo(y))return Vo?Vo.call(y):"";var T=y+"";return T=="0"&&1/y==-ei?"-0":T}function yl(y,T,L){var E=y.length;return L=L===void 0?E:L,!T&&L>=E?y:ml(y,T,L)}function vl(y,T){T=T===void 0?" ":Wo(T);var L=T.length;if(2>L)return L?Ho(T,y):T;var E=Ho(T,dl(y/jo(T)));return oi(T)?yl(ul(E),0,y).join(""):E.slice(0,y)}function $o(y){var T=typeof y>"u"?"undefined":s(y);return!!y&&(T=="object"||T=="function")}function gl(y){return!!y&&(typeof y>"u"?"undefined":s(y))=="object"}function Bo(y){return(typeof y>"u"?"undefined":s(y))=="symbol"||gl(y)&&hl.call(y)==Pu}function _l(y){if(!y)return y===0?y:0;if(y=El(y),y===ei||y===-ei){var T=0>y?-1:1;return T*ju}return y===y?y:0}function Tl(y){var T=_l(y),L=T%1;return T===T?L?T-L:T:0}function El(y){if(typeof y=="number")return y;if(Bo(y))return No;if($o(y)){var T=typeof y.valueOf=="function"?y.valueOf():y;y=$o(T)?T+"":T}if(typeof y!="string")return y===0?y:+y;y=y.replace(qu,"");var L=Hu.test(y);return L||Wu.test(y)?el(y.slice(2),L?2:8):Vu.test(y)?No:+y}function wl(y){return y==null?"":Wo(y)}function Il(y,T,L){y=wl(y),T=Tl(T);var E=T?jo(y):0;return T&&E<T?vl(T-E,L)+y:y}var xr=Il,Zo=function(y){return y.getFullYear()+xr(y.getMonth()+1,2,0)+xr(y.getDate(),2,0)},Go=function(y){return xr(y.getHours(),2,0)+xr(y.getMinutes(),2,0)+xr(y.getSeconds(),2,0)},Sl=function(y){return Zo(y)+"T"+Go(y)},Yo=function(y){var T=6e4*y.getTimezoneOffset();return new Date(y.getTime()+T)},Ol=function(y){return y?"TRUE":"FALSE"},bl=function(y){return ti(y)?Zo(Yo(y)):y},kl=function(y){return ti(y)?Sl(y):y},Jo=function(y){return Number.parseFloat(y)},Ml=function(){return Jo.apply(void 0,arguments).toFixed(1)},Dl=function(y){return Number.parseInt(y)},xl=function(y){return y.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},Al=function(y){return ti(y)?Go(Yo(y)):y},Nl=Object.freeze({BOOLEAN:Ol,DATE:bl,DATETIME:kl,FLOAT:Jo,FLOAT__FIXED_1:Ml,INTEGER:Dl,TEXT:xl,TIME:Al}),Fl=`\r
 `,Ll=`\r
`,Ko=";",zl="=",Cl="VALUE",Rl=":",Ul=",",jl=new RegExp(/[\s\S]{1,75}/g),Pl="BEGIN",ql="END",wt={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},Vl=wt.TEXT,Hl={ATTACH:wt.URI,ATTENDEE:wt.CALADDRESS,CREATED:wt.DATETIME,DTSTART:wt.DATETIME,DTEND:wt.DATETIME,DTSTAMP:wt.DATETIME,DUE:wt.DATETIME,DURATION:wt.DURATION,EXDATE:wt.DATETIME,FREEBUSY:wt.PERIOD,"LAST-MODIFIED":wt.DATETIME,ORGANIZER:wt.CALADDRESS,"PERCENT-COMPLETE":wt.INTEGER,PRIORITY:wt.INTEGER,RDATE:wt.DATETIME,"RECURRENCE-ID":wt.DATETIME,REPEAT:wt.INTEGER,RRULE:wt.RECUR,SEQUENCE:wt.INTEGER,TRIGGER:wt.DURATION,TZOFFSETFROM:wt.UTCOFFSET,TZOFFSETTO:wt.UTCOFFSET,TZURL:wt.URI,URL:wt.URI,VERSION:wt.FLOAT+"__FIXED_1"},Sn=function(y){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return f(T,y),h(T,[{key:"getTransformedValue",value:function(){var E=this,U=wt[this.parameters.get(Cl)]||Hl[this.name]||Vl,rt=Nl[U];return nr(rt)?Array.isArray(this.value)?this.value.map(function(K){return rt(K,E.parameters)}).join(Ul):rt(this.value,this.parameters):this.value}},{key:"toString",value:function(){var E=this.name;0<this.parameters.size&&(E+=Ko+this.parameters.entrySeq().map(function(rt){var K=g(rt,2),X=K[0],lt=K[1];return X+zl+lt}).join(Ko));var U=this.transform?this.getTransformedValue():this.value;return ir(U)||Ru(U)||(E+=Rl+U),E.match(jl).join(Fl)}}]),T}(Lt({name:String,parameters:je(String,oe),transform:!0,value:oe}));Et.Component=Et("Component",function(y){return y instanceof Xo?y:TypeError('"'+y+'" is not a Component')}),Et.Property=Et("Property",function(y){return y instanceof Sn?y:TypeError('"'+y+'" is not a Property')});var Xo=function(y){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return f(T,y),h(T,[{key:"pushComponent",value:function(E){return this.update("components",function(U){return U.push(E)})}},{key:"pushProperty",value:function(E){return this.update("properties",function(U){return U.push(E)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new Sn({name:Pl,value:this.name})].concat(D(this.properties),D(this.components),[new Sn({name:ql,value:this.name})]).join(Ll)}}]),T}(Lt({name:String,components:$t(Et.Component),properties:$t(Et.Property)}));n.Component=Xo,n.Property=Sn,Object.defineProperty(n,"__esModule",{value:!0})})});var Au=ta((Do,xo)=>{(function(n,e){typeof define=="function"&&define.amd?define([],e):typeof Do<"u"?e():(e(),n.FileSaver={})})(Do,function(){"use strict";function n(m,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function e(m,g,D){var R=new XMLHttpRequest;R.open("GET",m),R.responseType="blob",R.onload=function(){f(R.response,g,D)},R.onerror=function(){console.error("could not download file")},R.send()}function i(m){var g=new XMLHttpRequest;g.open("HEAD",m,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(g)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,h=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(m,g,D){var R=l.URL||l.webkitURL,B=document.createElement("a");g=g||m.name||"download",B.download=g,B.rel="noopener",typeof m=="string"?(B.href=m,B.origin===location.origin?s(B):i(B.href)?e(m,g,D):s(B,B.target="_blank")):(B.href=R.createObjectURL(m),setTimeout(function(){R.revokeObjectURL(B.href)},4e4),setTimeout(function(){s(B)},0))}:"msSaveOrOpenBlob"in navigator?function(m,g,D){if(g=g||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,D),g);else if(i(m))e(m,g,D);else{var R=document.createElement("a");R.href=m,R.target="_blank",setTimeout(function(){s(R)})}}:function(m,g,D,R){if(R=R||open("","_blank"),R&&(R.document.title=R.document.body.innerText="downloading..."),typeof m=="string")return e(m,g,D);var B=m.type==="application/octet-stream",it=/constructor/i.test(l.HTMLElement)||l.safari,V=/CriOS\/[\d]+/.test(navigator.userAgent);if((V||B&&it||h)&&typeof FileReader<"u"){var mt=new FileReader;mt.onloadend=function(){var Lt=mt.result;Lt=V?Lt:Lt.replace(/^data:[^;]*;/,"data:attachment/file;"),R?R.location.href=Lt:location=Lt,R=null},mt.readAsDataURL(m)}else{var Ot=l.URL||l.webkitURL,Et=Ot.createObjectURL(m);R?R.location=Et:location.href=Et,R=null,setTimeout(function(){Ot.revokeObjectURL(Et)},4e4)}});l.saveAs=f.saveAs=f,typeof xo<"u"&&(xo.exports=f)})});var Ch={};Ic(Ch,{gapiLoaded:()=>ua,gisLoaded:()=>la,hideOverlay:()=>wn});var Oc="845509487647-5786nh91r45rsm485m2mb4cqcfmis94g.apps.googleusercontent.com",bc=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],kc="https://www.googleapis.com/auth/calendar",Mc=document.getElementById("authorize_button"),Dc=document.getElementById("signout_button"),na=document.getElementById("logged_in_section"),ia=document.getElementById("logged_out_section"),Ui,sa=!1,aa=!1;function qr(n){n?(ia.style.display="none",na.style.display="block",Fc()):(ia.style.display="block",na.style.display="none")}qr(!1);function ua(){gapi.load("client",xc)}async function xc(){await gapi.client.init({discoveryDocs:bc}),sa=!0,ca()}function la(){Ui=google.accounts.oauth2.initTokenClient({client_id:Oc,scope:kc,callback:async n=>{if(console.log(n),n.error!==void 0)throw n;qr(!0)}}),aa=!0,ca()}function ca(){sa&&aa&&(Mc.onclick=Ac,Dc.onclick=Nc,console.log("Setting up Google section"),gapi.client.getToken()!==null?qr(!0):qr(!1))}function Ac(){gapi.client.getToken()===null?Ui.requestAccessToken({prompt:"consent"}):Ui.requestAccessToken({prompt:""})}function Nc(){let n=gapi.client.getToken();n!==null&&(google.accounts.oauth2.revoke(n.access_token),gapi.client.setToken(""),qr(!1))}function fa(n,e,i,s,l=0){s(e.length);let h=3;console.log(`Importing ${e.length} events`);let f=0,m=500*(l+1),g=e.map(D=>(f+=m,new Promise(R=>setTimeout(R,f)).then(()=>gapi.client.calendar.events.insert({calendarId:n,resource:D}))));Promise.allSettled(g).then(D=>{let R=[],B=[];D.forEach((it,V)=>{it.status==="rejected"&&(R.push(e[V]),B.push(V))}),console.log(`Number of failed imports: ${R.length}`),R.length===0?s(0):l<h?fa(n,R,i,s,l+1):(console.error("Unable to import some events to Calendar",D[B[0]].reason),s(-1),i(D[B[0]].reason))})}function oa(n,e,i,s){let l=[];n.forEach(function(h,f){let m={summary:h.summary,start:{dateTime:h.start.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},end:{dateTime:h.end.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},recurrence:[]};h.location!==void 0&&(m.location=h.location),h.description!==void 0&&(m.description=h.description),h.rrule!==void 0&&m.recurrence.push("RRULE:"+h.rrule),h.rdate!==void 0&&m.recurrence.push("RDATE:"+h.rdate),l.push(m)}),document.getElementById("importProgress").style.display="block",fa(e,l,i,s)}function Fc(){return gapi.client.calendar.calendarList.list({minAccessRole:"writer"}).then(function(n){let e=document.getElementById("calendarId");n.result.items.forEach(function(s,l){/Polimi|Universit/i.test(s.summary)?e[l]=new Option(s.summary,s.id,!0,!0):e[l]=new Option(s.summary,s.id)})},function(n){console.error("Execute error",n)})}function ha(n,e,i){let s=document.getElementById("newCalendar"),l=null,h=document.getElementById("calendarId");if(s.checked===!0||h.options.length===0){document.getElementById("creationProgress").style.display="block";let f=document.getElementById("newName").value;gapi.client.calendar.calendars.insert({resource:{summary:f,timeZone:"Europe/Rome"}}).then(function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationOk").style.display="block",setTimeout(function(){document.getElementById("creationOk").style.display="none"},3e3),l=m.result.id,oa(n,l,e,i)},function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},5e3),console.error("Execute error",m),e(m.body)})}else l=h.options[h.selectedIndex].value,oa(n,l,e,i)}var Vr={en:{text:{title:"PoliMi schedule converter",inputLabel:"Paste lessons copied from the text timetable",saveFile:" Save to file",importToGcal:" Import to Google Calendar",error:"Error! Unable to generate the calendar",selectCalText:"Choose which calendar to add the events to",calendarIdLabel:"Choose an existing calendar",orSelect:"or",newCalendarLabel:" Create new calendar",newNameLabel:"Name:",importButtonText:"Import",creationProgress:"Creating calendar...",creationOk:"Calendar created",creationFail:"Unable to create calendar",homeOverview:"Convert the timetable of the Politecnico di Milano courses into an iCalendar file or import it into Google Calendar",homeInfo:"PoliMi doesn't have any way to import the courses schedule into external calendars. With this converter you can transform the text timetable into a standard calendar format, iCalendar. Events in this format can be imported easily into most of calendar services and applications. In the following links you can see how to import them on some popular services:",homeImportGoogle:"Import to Google Calendar",homeImportOutlook:"Import to Outlook",homeDetails:"With this tool you can also import events directly to Google Calendar, without having to download any iCalendar file.<br>The tool is available at:",homeUserscriptInfo:"The converter can be used from the PoliMi website as a Userscript, installed by clicking <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>here</a>. In this case you need to have an Userscript manager, such as Greasemonkey or Tampermonkey. Quick import to Google Calendar isn't available in this mode.",repoInfo:"You can read the converter code on its <a href='https://github.com/bebora/polimi-schedule-js'>Github repository</a>.",howToUseHead:"How to use?",howToUseContent:`Go to the timetable page you want to convert. You can use both the one from <a href='https://www.polimi.it/en/online-services/'>Online services</a> and the one from <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In the latter case, make sure to enable the customized time schedule and choose some courses, then go to "View the schedule".<br>Click on "Text timetable" and select the courses with your mouse, then copy them with a right click or by pressing Ctrl+C (\u2318+C on Mac).`,howToUseEnd:"Go to the converter page and paste the text with a right click or by pressing Ctrl+V (\u2318+V on Mac). Click on the appropriate button to download the events or to import them to Google Calendar.",gcalendarHead:"Google Calendar integration",gcalendarText:"The app can directly insert events Google Calendar to simplify the import, without having to download any file.<br>In order to do so, it explicitly requests user consent to connect to their Google account. Specifically, the app needs to read the names of existing calendars to list them when the user chooses where to import the events. The user may want to create a new calendar for the events, so the app also needs write access on Google Calendar. Full access permissions(read+write) are then needed for the correct app operations, but it doesn't and will never use them for purposes other than those described here.<br>You can read the complete privacy policy by clicking on the link at the bottom of the page.",homepageFooter:"Home + How to use",howToLink:"How to use",importProgressPre:"Importing",importProgressPost:"events...",importOk:"Events imported \u2705",importFail:"Unable to import the events",errorTitle:"Oops! Something went wrong",genericError:"The text you pasted isn't valid or it is in a new unsupported format.",googleErrorSuggestion:"If you are using Google Calendar, check that your connection works and that you gave the required permissions to the application.",errorContact:"The problem may happen to other users! You can report it on Telegram or GitHub.",telegramGroup:"Telegram group",githubIssue:"Open Issue",manualErrorPopup:"Not working?"},placeholder:{input:"Paste lessons copied from the text timetable"}},it:{text:{title:"Convertitore orario PoliMi",inputLabel:"Incolla le lezioni copiate dall'orario testuale",saveFile:" Salva su file",importToGcal:" Importa su Google Calendar",error:"Errore! Non riesco a generare il calendario",selectCalText:"Seleziona il calendario dove importare gli eventi",calendarIdLabel:"Scegli un calendario esistente",orSelect:"oppure",newCalendarLabel:" Crea nuovo calendario",newNameLabel:"Nome:",importButtonText:"Importa",creationProgress:"Creando il calendario...",creationOk:"Calendario creato",creationFail:"Creazione calendario fallita",homeOverview:"Converti le lezioni del Politecnico di Milano in un file iCalendar o importale su Google Calendar",homeInfo:"Il PoliMi non consente normalmente di importare gli orari delle lezioni su calendari esterni. Con questo convertitore \xE8 possibile trasformare l'orario testuale dei Servizi Online in un calendario in formato standard, ovvero iCalendar. Gli orari in formato iCalendar possono essere importati facilmente nella maggior parte delle applicazioni o servizi di calendario. Per esempio, nelle seguenti pagine \xE8 descritto come importare file iCalendar su alcuni servizi popolari:",homeImportGoogle:"Importazione su Google Calendar",homeImportOutlook:"Importazione su Outlook",homeDetails:"Con questo tool \xE8 inoltre possibile importare gli eventi direttamente su Google Calendar, senza dover scaricare il file iCalendar, per rendere l'importazione ancora pi\xF9 semplice.<br>Il tool \xE8 disponibile al seguente link:",homeUserscriptInfo:"Il convertitore pu\xF2 essere usato dal sito del PoliMi se installato come Userscript, cliccando <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>qui</a>. In tal caso \xE8 necessario avere un Userscript manager, come Greasemonkey o Tampermonkey. Con questa modalit\xE0 non \xE8 integrata l'importazione veloce su Google Calendar.",repoInfo:"\xC8 possibile consultare il codice del tool nella sua <a href='https://github.com/bebora/polimi-schedule-js'>repository Github</a>.",howToUseHead:"Come si usa?",howToUseContent:`Vai sulla pagina degli orari che vuoi convertire. Puoi usare sia quella dei <a href='https://www.polimi.it/servizionline/'>Servizi Online</a> con gli orari dei tuoi corsi, sia quella del <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In quest'ultimo caso, assicurati di abilitare l'orario personalizzato e scegliere delle materie, poi clicca su "Visualizza l'orario".<br>Clicca quindi su "Orario testuale" e seleziona gli orari con il mouse, poi copiali con il tasto destro oppure premendo Ctrl+C (\u2318+C su Mac).`,howToUseEnd:"Vai sulla pagina del convertitore ed incolla il testo con il tasto destro o premendo Ctrl+V (\u2318+V su Mac). Clicca sul bottone opportuno per scaricare il calendario o per importarlo su Google Calendar.",gcalendarHead:"Integrazione con Google Calendar",gcalendarText:"L'app pu\xF2 inserire gli eventi su Google Calendar direttamente per semplificare il pi\xF9 possibile l'importazione, senza dover scaricare nessun file.<br>Per fare ci\xF2, richiede esplicitamente il consenso dell'utente per collegarsi all'account Google. In particolare, l'app ha bisogno di leggere i nomi dei calendari esistenti per poi proporli se l'utente vuole importare gli eventi in un calendario esistente. L'utente pu\xF2 voler creare un nuovo calendario per gli eventi, quindi l'app ha bisogno anche dei permessi in scrittura sul calendario Google. Sono necessari quindi permessi completi sul calendario, ma l'app non usa ora n\xE9 user\xE0 mai i permessi per scopi differenti da quelli qui descritti.<br>\xC8 possibile vedere la privacy policy completa cliccando sul link a fondo pagina.",homepageFooter:"Home + Istruzioni d'uso",howToLink:"Istruzioni",importProgressPre:"Importando",importProgressPost:"eventi...",importOk:"Eventi importati \u2705",importFail:"Impossibile importare gli eventi",errorTitle:"Ops! Qualcosa \xE8 andato storto",genericError:"Il testo che hai incollato non \xE8 valido oppure \xE8 in un nuovo formato non supportato.",googleErrorSuggestion:"Se stai usando Google Calendar, controlla di avere una connessione funzionante e di aver dato i permessi all'applicazione.",errorContact:"Il problema potrebbe capitare anche ad altri utenti! Puoi segnalarlo su Telegram o GitHub.",telegramGroup:"Gruppo Telegram",githubIssue:"Apri Issue",manualErrorPopup:"Qualcosa non va?"},placeholder:{input:"Incolla le lezioni copiate dall'orario testuale"}}};function Rn(n){let e="en";n in Vr&&(e=n);for(let[i,s]of Object.entries(Vr[e].text)){let l=document.getElementById(i);l!==null&&(l.innerHTML=s)}for(let[i,s]of Object.entries(Vr[e].placeholder)){let l=document.getElementById(i);l!==null&&(l.placeholder=s)}document.getElementById(e+"Flag").classList.remove("grayscale");for(let i of Object.keys(Vr).filter(s=>s!==e))document.getElementById(i+"Flag").classList.add("grayscale");document.title=Vr[e].text.title}var He=class extends Error{},ji=class extends He{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Pi=class extends He{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},qi=class extends He{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},We=class extends He{},Hr=class extends He{constructor(e){super(`Invalid unit ${e}`)}},Yt=class extends He{},Le=class extends He{constructor(){super("Zone is an abstract class")}};var j="numeric",ke="short",de="long",mr={year:j,month:j,day:j},Wr={year:j,month:ke,day:j},Vi={year:j,month:ke,day:j,weekday:ke},$r={year:j,month:de,day:j},Br={year:j,month:de,day:j,weekday:de},Zr={hour:j,minute:j},Gr={hour:j,minute:j,second:j},Yr={hour:j,minute:j,second:j,timeZoneName:ke},Jr={hour:j,minute:j,second:j,timeZoneName:de},Kr={hour:j,minute:j,hourCycle:"h23"},Xr={hour:j,minute:j,second:j,hourCycle:"h23"},Qr={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:ke},tn={hour:j,minute:j,second:j,hourCycle:"h23",timeZoneName:de},en={year:j,month:j,day:j,hour:j,minute:j},rn={year:j,month:j,day:j,hour:j,minute:j,second:j},nn={year:j,month:ke,day:j,hour:j,minute:j},on={year:j,month:ke,day:j,hour:j,minute:j,second:j},Hi={year:j,month:ke,day:j,weekday:ke,hour:j,minute:j},sn={year:j,month:de,day:j,hour:j,minute:j,timeZoneName:ke},an={year:j,month:de,day:j,hour:j,minute:j,second:j,timeZoneName:ke},un={year:j,month:de,day:j,weekday:de,hour:j,minute:j,timeZoneName:de},ln={year:j,month:de,day:j,weekday:de,hour:j,minute:j,second:j,timeZoneName:de};function nt(n){return typeof n>"u"}function ze(n){return typeof n=="number"}function cn(n){return typeof n=="number"&&n%1===0}function da(n){return typeof n=="string"}function pa(n){return Object.prototype.toString.call(n)==="[object Date]"}function Un(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ma(n){return Array.isArray(n)?n:[n]}function $i(n,e,i){if(n.length!==0)return n.reduce((s,l)=>{let h=[e(l),l];return s&&i(s[0],h[0])===s[0]?s:h},null)[1]}function ya(n,e){return e.reduce((i,s)=>(i[s]=n[s],i),{})}function $e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ce(n,e,i){return cn(n)&&n>=e&&n<=i}function Lc(n,e){return n-e*Math.floor(n/e)}function Nt(n,e=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(e,"0"):s=(""+n).padStart(e,"0"),s}function Ue(n){if(!(nt(n)||n===null||n===""))return parseInt(n,10)}function Be(n){if(!(nt(n)||n===null||n===""))return parseFloat(n)}function fn(n){if(!(nt(n)||n===null||n==="")){let e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function yr(n,e,i=!1){let s=10**e;return(i?Math.trunc:Math.round)(n*s)/s}function Ke(n){return n%4===0&&(n%100!==0||n%400===0)}function Xe(n){return Ke(n)?366:365}function vr(n,e){let i=Lc(e-1,12)+1,s=n+(e-i)/12;return i===2?Ke(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function hn(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function gr(n){let e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,i=n-1,s=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return e===4||s===3?53:52}function dn(n){return n>99?n:n>60?1900+n:2e3+n}function jn(n,e,i,s=null){let l=new Date(n),h={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(h.timeZone=s);let f={timeZoneName:e,...h},m=new Intl.DateTimeFormat(i,f).formatToParts(l).find(g=>g.type.toLowerCase()==="timezonename");return m?m.value:null}function Qe(n,e){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(e,10)||0,l=i<0||Object.is(i,-0)?-s:s;return i*60+l}function Bi(n){let e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new Yt(`Invalid unit value ${n}`);return e}function _r(n,e){let i={};for(let s in n)if($e(n,s)){let l=n[s];if(l==null)continue;i[e(s)]=Bi(l)}return i}function Ze(n,e){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),l=n>=0?"+":"-";switch(e){case"short":return`${l}${Nt(i,2)}:${Nt(s,2)}`;case"narrow":return`${l}${i}${s>0?`:${s}`:""}`;case"techie":return`${l}${Nt(i,2)}${Nt(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function pn(n){return ya(n,["hour","minute","second","millisecond"])}var Zi=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var zc=["January","February","March","April","May","June","July","August","September","October","November","December"],Gi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Cc=["J","F","M","A","M","J","J","A","S","O","N","D"];function Yi(n){switch(n){case"narrow":return[...Cc];case"short":return[...Gi];case"long":return[...zc];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var Ji=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ki=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Rc=["M","T","W","T","F","S","S"];function Xi(n){switch(n){case"narrow":return[...Rc];case"short":return[...Ki];case"long":return[...Ji];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Qi=["AM","PM"],Uc=["Before Christ","Anno Domini"],jc=["BC","AD"],Pc=["B","A"];function to(n){switch(n){case"narrow":return[...Pc];case"short":return[...jc];case"long":return[...Uc];default:return null}}function va(n){return Qi[n.hour<12?0:1]}function ga(n,e){return Xi(e)[n.weekday-1]}function _a(n,e){return Yi(e)[n.month-1]}function Ta(n,e){return to(e)[n.year<0?0:1]}function Ea(n,e,i="always",s=!1){let l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},h=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&h){let B=n==="days";switch(e){case 1:return B?"tomorrow":`next ${l[n][0]}`;case-1:return B?"yesterday":`last ${l[n][0]}`;case 0:return B?"today":`this ${l[n][0]}`;default:}}let f=Object.is(e,-0)||e<0,m=Math.abs(e),g=m===1,D=l[n],R=s?g?D[1]:D[2]||D[1]:g?l[n][0]:n;return f?`${m} ${R} ago`:`in ${m} ${R}`}function wa(n,e){let i="";for(let s of n)s.literal?i+=s.val:i+=e(s.val);return i}var qc={D:mr,DD:Wr,DDD:$r,DDDD:Br,t:Zr,tt:Gr,ttt:Yr,tttt:Jr,T:Kr,TT:Xr,TTT:Qr,TTTT:tn,f:en,ff:nn,fff:sn,ffff:un,F:rn,FF:on,FFF:an,FFFF:ln},qt=class{static create(e,i={}){return new qt(e,i)}static parseFormat(e){let i=null,s="",l=!1,h=[];for(let f=0;f<e.length;f++){let m=e.charAt(f);m==="'"?(s.length>0&&h.push({literal:l,val:s}),i=null,s="",l=!l):l||m===i?s+=m:(s.length>0&&h.push({literal:!1,val:s}),s=m,i=m)}return s.length>0&&h.push({literal:l,val:s}),h}static macroTokenToFormatOpts(e){return qc[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTime(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).format()}formatDateTimeParts(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).formatToParts()}resolvedOptions(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i}).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return Nt(e,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){let s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",h=(V,mt)=>this.loc.extract(e,V,mt),f=V=>e.isOffsetFixed&&e.offset===0&&V.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,V.format):"",m=()=>s?va(e):h({hour:"numeric",hourCycle:"h12"},"dayperiod"),g=(V,mt)=>s?_a(e,V):h(mt?{month:V}:{month:V,day:"numeric"},"month"),D=(V,mt)=>s?ga(e,V):h(mt?{weekday:V}:{weekday:V,month:"long",day:"numeric"},"weekday"),R=V=>{let mt=qt.macroTokenToFormatOpts(V);return mt?this.formatWithSystemDefault(e,mt):V},B=V=>s?Ta(e,V):h({era:V},"era"),it=V=>{switch(V){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return m();case"d":return l?h({day:"numeric"},"day"):this.num(e.day);case"dd":return l?h({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return D("short",!0);case"cccc":return D("long",!0);case"ccccc":return D("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return D("short",!1);case"EEEE":return D("long",!1);case"EEEEE":return D("narrow",!1);case"L":return l?h({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return l?h({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return g("short",!0);case"LLLL":return g("long",!0);case"LLLLL":return g("narrow",!0);case"M":return l?h({month:"numeric"},"month"):this.num(e.month);case"MM":return l?h({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return g("short",!1);case"MMMM":return g("long",!1);case"MMMMM":return g("narrow",!1);case"y":return l?h({year:"numeric"},"year"):this.num(e.year);case"yy":return l?h({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return l?h({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return l?h({year:"numeric"},"year"):this.num(e.year,6);case"G":return B("short");case"GG":return B("long");case"GGGGG":return B("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return R(V)}};return wa(qt.parseFormat(i),it)}formatDurationFromString(e,i){let s=g=>{switch(g[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},l=g=>D=>{let R=s(D);return R?this.num(g.get(R),D.length):D},h=qt.parseFormat(i),f=h.reduce((g,{literal:D,val:R})=>D?g:g.concat(R),[]),m=e.shiftTo(...f.map(s).filter(g=>g));return wa(h,l(m))}};var Jt=class{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var pe=class{get type(){throw new Le}get name(){throw new Le}get ianaName(){return this.name}get isUniversal(){throw new Le}offsetName(e,i){throw new Le}formatOffset(e,i){throw new Le}offset(e){throw new Le}equals(e){throw new Le}get isValid(){throw new Le}};var ro=null,tr=class extends pe{static get instance(){return ro===null&&(ro=new tr),ro}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return jn(e,i,s)}formatOffset(e,i){return Ze(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var qn={};function Vc(n){return qn[n]||(qn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),qn[n]}var Hc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Wc(n,e){let i=n.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,l,h,f,m,g,D,R]=s;return[f,l,h,m,g,D,R]}function $c(n,e){let i=n.formatToParts(e),s=[];for(let l=0;l<i.length;l++){let{type:h,value:f}=i[l],m=Hc[h];h==="era"?s[m]=f:nt(m)||(s[m]=parseInt(f,10))}return s}var Pn={},Wt=class extends pe{static create(e){return Pn[e]||(Pn[e]=new Wt(e)),Pn[e]}static resetCache(){Pn={},qn={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super();this.zoneName=e,this.valid=Wt.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:s}){return jn(e,i,s,this.name)}formatOffset(e,i){return Ze(this.offset(e),i)}offset(e){let i=new Date(e);if(isNaN(i))return NaN;let s=Vc(this.name),[l,h,f,m,g,D,R]=s.formatToParts?$c(s,i):Wc(s,i);m==="BC"&&(l=-Math.abs(l)+1);let it=hn({year:l,month:h,day:f,hour:g===24?0:g,minute:D,second:R,millisecond:0}),V=+i,mt=V%1e3;return V-=mt>=0?mt:1e3+mt,(it-V)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var no=null,Ft=class extends pe{static get utcInstance(){return no===null&&(no=new Ft(0)),no}static instance(e){return e===0?Ft.utcInstance:new Ft(e)}static parseSpecifier(e){if(e){let i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Ft(Qe(i[1],i[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ze(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ze(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Ze(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var mn=class extends pe{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Me(n,e){let i;if(nt(n)||n===null)return e;if(n instanceof pe)return n;if(da(n)){let s=n.toLowerCase();return s==="local"||s==="system"?e:s==="utc"||s==="gmt"?Ft.utcInstance:Ft.parseSpecifier(s)||Wt.create(n)}else return ze(n)?Ft.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new mn(n)}var Ia=()=>Date.now(),Sa="system",Oa=null,ba=null,ka=null,Ma,St=class{static get now(){return Ia}static set now(e){Ia=e}static set defaultZone(e){Sa=e}static get defaultZone(){return Me(Sa,tr.instance)}static get defaultLocale(){return Oa}static set defaultLocale(e){Oa=e}static get defaultNumberingSystem(){return ba}static set defaultNumberingSystem(e){ba=e}static get defaultOutputCalendar(){return ka}static set defaultOutputCalendar(e){ka=e}static get throwOnInvalid(){return Ma}static set throwOnInvalid(e){Ma=e}static resetCaches(){gt.resetCache(),Wt.resetCache()}};var Da={};function Bc(n,e={}){let i=JSON.stringify([n,e]),s=Da[i];return s||(s=new Intl.ListFormat(n,e),Da[i]=s),s}var io={};function oo(n,e={}){let i=JSON.stringify([n,e]),s=io[i];return s||(s=new Intl.DateTimeFormat(n,e),io[i]=s),s}var so={};function Zc(n,e={}){let i=JSON.stringify([n,e]),s=so[i];return s||(s=new Intl.NumberFormat(n,e),so[i]=s),s}var ao={};function Gc(n,e={}){let{base:i,...s}=e,l=JSON.stringify([n,s]),h=ao[l];return h||(h=new Intl.RelativeTimeFormat(n,e),ao[l]=h),h}var yn=null;function Yc(){return yn||(yn=new Intl.DateTimeFormat().resolvedOptions().locale,yn)}function Jc(n){let e=n.indexOf("-u-");if(e===-1)return[n];{let i,s=n.substring(0,e);try{i=oo(n).resolvedOptions()}catch{i=oo(s).resolvedOptions()}let{numberingSystem:l,calendar:h}=i;return[s,l,h]}}function Kc(n,e,i){return(i||e)&&(n+="-u",i&&(n+=`-ca-${i}`),e&&(n+=`-nu-${e}`)),n}function Xc(n){let e=[];for(let i=1;i<=12;i++){let s=Z.utc(2016,i,1);e.push(n(s))}return e}function Qc(n){let e=[];for(let i=1;i<=7;i++){let s=Z.utc(2016,11,13+i);e.push(n(s))}return e}function Vn(n,e,i,s,l){let h=n.listingMode(i);return h==="error"?null:h==="en"?s(e):l(e)}function tf(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var xa=class{constructor(e,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:l,floor:h,...f}=s;if(!i||Object.keys(f).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=Zc(e,m)}}format(e){if(this.inf){let i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{let i=this.floor?Math.floor(e):yr(e,3);return Nt(i,this.padTo)}}},Aa=class{constructor(e,i,s){this.opts=s;let l;if(e.zone.isUniversal){let f=-1*(e.offset/60),m=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;e.offset!==0&&Wt.create(m).valid?(l=m,this.dt=e):(l="UTC",s.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Z.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,l=e.zone.name);let h={...this.opts};l&&(h.timeZone=l),this.dtf=oo(i,h)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Na=class{constructor(e,i,s){this.opts={style:"long",...s},!i&&Un()&&(this.rtf=Gc(e,s))}format(e,i){return this.rtf?this.rtf.format(e,i):Ea(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}},gt=class{static fromOpts(e){return gt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,i,s,l=!1){let h=e||St.defaultLocale,f=h||(l?"en-US":Yc()),m=i||St.defaultNumberingSystem,g=s||St.defaultOutputCalendar;return new gt(f,m,g,h)}static resetCache(){yn=null,io={},so={},ao={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:s}={}){return gt.create(e,i,s)}constructor(e,i,s,l){let[h,f,m]=Jc(e);this.locale=h,this.numberingSystem=i||f||null,this.outputCalendar=s||m||null,this.intl=Kc(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=l,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=tf(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:gt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1,s=!0){return Vn(this,e,s,Yi,()=>{let l=i?{month:e,day:"numeric"}:{month:e},h=i?"format":"standalone";return this.monthsCache[h][e]||(this.monthsCache[h][e]=Xc(f=>this.extract(f,l,"month"))),this.monthsCache[h][e]})}weekdays(e,i=!1,s=!0){return Vn(this,e,s,Xi,()=>{let l=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},h=i?"format":"standalone";return this.weekdaysCache[h][e]||(this.weekdaysCache[h][e]=Qc(f=>this.extract(f,l,"weekday"))),this.weekdaysCache[h][e]})}meridiems(e=!0){return Vn(this,void 0,e,()=>Qi,()=>{if(!this.meridiemCache){let i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Z.utc(2016,11,13,9),Z.utc(2016,11,13,19)].map(s=>this.extract(s,i,"dayperiod"))}return this.meridiemCache})}eras(e,i=!0){return Vn(this,e,i,to,()=>{let s={era:e};return this.eraCache[e]||(this.eraCache[e]=[Z.utc(-40,1,1),Z.utc(2017,1,1)].map(l=>this.extract(l,s,"era"))),this.eraCache[e]})}extract(e,i,s){let l=this.dtFormatter(e,i),h=l.formatToParts(),f=h.find(m=>m.type.toLowerCase()===s);return f?f.value:null}numberFormatter(e={}){return new xa(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Aa(e,this.intl,i)}relFormatter(e={}){return new Na(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Bc(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}};function Er(...n){let e=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${e}$`)}function wr(...n){return e=>n.reduce(([i,s,l],h)=>{let[f,m,g]=h(e,l);return[{...i,...f},m||s,g]},[{},null,1]).slice(0,2)}function Ir(n,...e){if(n==null)return[null,null];for(let[i,s]of e){let l=i.exec(n);if(l)return s(l)}return[null,null]}function La(...n){return(e,i)=>{let s={},l;for(l=0;l<n.length;l++)s[n[l]]=Ue(e[i+l]);return[s,null,i+l]}}var za=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,ef=`(?:${za.source}?(?:\\[(${Zi.source})\\])?)?`,uo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ca=RegExp(`${uo.source}${ef}`),lo=RegExp(`(?:T${Ca.source})?`),rf=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nf=/(\d{4})-?W(\d\d)(?:-?(\d))?/,of=/(\d{4})-?(\d{3})/,sf=La("weekYear","weekNumber","weekDay"),af=La("year","ordinal"),uf=/(\d{4})-(\d\d)-(\d\d)/,Ra=RegExp(`${uo.source} ?(?:${za.source}|(${Zi.source}))?`),lf=RegExp(`(?: ${Ra.source})?`);function Tr(n,e,i){let s=n[e];return nt(s)?i:Ue(s)}function cf(n,e){return[{year:Tr(n,e),month:Tr(n,e+1,1),day:Tr(n,e+2,1)},null,e+3]}function Sr(n,e){return[{hours:Tr(n,e,0),minutes:Tr(n,e+1,0),seconds:Tr(n,e+2,0),milliseconds:fn(n[e+3])},null,e+4]}function vn(n,e){let i=!n[e]&&!n[e+1],s=Qe(n[e+1],n[e+2]),l=i?null:Ft.instance(s);return[{},l,e+3]}function gn(n,e){let i=n[e]?Wt.create(n[e]):null;return[{},i,e+1]}var ff=RegExp(`^T?${uo.source}$`),hf=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function df(n){let[e,i,s,l,h,f,m,g,D]=n,R=e[0]==="-",B=g&&g[0]==="-",it=(V,mt=!1)=>V!==void 0&&(mt||V&&R)?-V:V;return[{years:it(Be(i)),months:it(Be(s)),weeks:it(Be(l)),days:it(Be(h)),hours:it(Be(f)),minutes:it(Be(m)),seconds:it(Be(g),g==="-0"),milliseconds:it(fn(D),B)}]}var pf={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function co(n,e,i,s,l,h,f){let m={year:e.length===2?dn(Ue(e)):Ue(e),month:Gi.indexOf(i)+1,day:Ue(s),hour:Ue(l),minute:Ue(h)};return f&&(m.second=Ue(f)),n&&(m.weekday=n.length>3?Ji.indexOf(n)+1:Ki.indexOf(n)+1),m}var mf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function yf(n){let[,e,i,s,l,h,f,m,g,D,R,B]=n,it=co(e,l,s,i,h,f,m),V;return g?V=pf[g]:D?V=0:V=Qe(R,B),[it,new Ft(V)]}function vf(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var gf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,_f=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Tf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Fa(n){let[,e,i,s,l,h,f,m]=n;return[co(e,l,s,i,h,f,m),Ft.utcInstance]}function Ef(n){let[,e,i,s,l,h,f,m]=n;return[co(e,m,i,s,l,h,f),Ft.utcInstance]}var wf=Er(rf,lo),If=Er(nf,lo),Sf=Er(of,lo),Of=Er(Ca),Ua=wr(cf,Sr,vn,gn),bf=wr(sf,Sr,vn,gn),kf=wr(af,Sr,vn,gn),Mf=wr(Sr,vn,gn);function ja(n){return Ir(n,[wf,Ua],[If,bf],[Sf,kf],[Of,Mf])}function Pa(n){return Ir(vf(n),[mf,yf])}function qa(n){return Ir(n,[gf,Fa],[_f,Fa],[Tf,Ef])}function Va(n){return Ir(n,[hf,df])}var Df=wr(Sr);function Ha(n){return Ir(n,[ff,Df])}var xf=Er(uf,lf),Af=Er(Ra),Nf=wr(Sr,vn,gn);function Wa(n){return Ir(n,[xf,Ua],[Af,Nf])}var Ff="Invalid Duration",$a={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Lf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...$a},Te=146097/400,Or=146097/4800,zf={years:{quarters:4,months:12,weeks:Te/7,days:Te,hours:Te*24,minutes:Te*24*60,seconds:Te*24*60*60,milliseconds:Te*24*60*60*1e3},quarters:{months:3,weeks:Te/28,days:Te/4,hours:Te*24/4,minutes:Te*24*60/4,seconds:Te*24*60*60/4,milliseconds:Te*24*60*60*1e3/4},months:{weeks:Or/7,days:Or,hours:Or*24,minutes:Or*24*60,seconds:Or*24*60*60,milliseconds:Or*24*60*60*1e3},...$a},rr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Cf=rr.slice(0).reverse();function er(n,e,i=!1){let s={values:i?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new ot(s)}function Rf(n){return n<0?Math.floor(n):Math.ceil(n)}function Ba(n,e,i,s,l){let h=n[l][i],f=e[i]/h,m=Math.sign(f)===Math.sign(s[l]),g=!m&&s[l]!==0&&Math.abs(f)<=1?Rf(f):Math.trunc(f);s[l]+=g,e[i]-=g*h}function Uf(n,e){Cf.reduce((i,s)=>nt(e[s])?i:(i&&Ba(n,e,i,e,s),s),null)}var ot=class{constructor(e){let i=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||gt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i?zf:Lf,this.isLuxonDuration=!0}static fromMillis(e,i){return ot.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Yt(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ot({values:_r(e,ot.normalizeUnit),loc:gt.fromObject(i),conversionAccuracy:i.conversionAccuracy})}static fromDurationLike(e){if(ze(e))return ot.fromMillis(e);if(ot.isDuration(e))return e;if(typeof e=="object")return ot.fromObject(e);throw new Yt(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){let[s]=Va(e);return s?ot.fromObject(s,i):ot.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){let[s]=Ha(e);return s?ot.fromObject(s,i):ot.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the Duration is invalid");let s=e instanceof Jt?e:new Jt(e,i);if(St.throwOnInvalid)throw new qi(s);return new ot({invalid:s})}static normalizeUnit(e){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new Hr(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?qt.create(this.loc,s).formatDurationFromString(this,e):Ff}toHuman(e={}){let i=rr.map(s=>{let l=this.values[s];return nt(l)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(l)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=yr(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let i=this.toMillis();if(i<0||i>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let s=this.shiftTo("hours","minutes","seconds","milliseconds"),l=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||s.seconds!==0||s.milliseconds!==0)&&(l+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||s.milliseconds!==0)&&(l+=".SSS"));let h=s.toFormat(l);return e.includePrefix&&(h="T"+h),h}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let i=ot.fromDurationLike(e),s={};for(let l of rr)($e(i.values,l)||$e(this.values,l))&&(s[l]=i.get(l)+this.get(l));return er(this,{values:s},!0)}minus(e){if(!this.isValid)return this;let i=ot.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=Bi(e(this.values[s],s));return er(this,{values:i},!0)}get(e){return this[ot.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let i={...this.values,..._r(e,ot.normalizeUnit)};return er(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:s}={}){let l=this.loc.clone({locale:e,numberingSystem:i}),h={loc:l};return s&&(h.conversionAccuracy=s),er(this,h)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Uf(this.matrix,e),er(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(f=>ot.normalizeUnit(f));let i={},s={},l=this.toObject(),h;for(let f of rr)if(e.indexOf(f)>=0){h=f;let m=0;for(let D in s)m+=this.matrix[D][f]*s[D],s[D]=0;ze(l[f])&&(m+=l[f]);let g=Math.trunc(m);i[f]=g,s[f]=(m*1e3-g*1e3)/1e3;for(let D in l)rr.indexOf(D)>rr.indexOf(f)&&Ba(this.matrix,l,D,i,f)}else ze(l[f])&&(s[f]=l[f]);for(let f in s)s[f]!==0&&(i[h]+=f===h?s[f]:s[f]/this.matrix[h][f]);return er(this,{values:i},!0).normalize()}negate(){if(!this.isValid)return this;let e={};for(let i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return er(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(let s of rr)if(!i(this.values[s],e.values[s]))return!1;return!0}};var _n="Invalid Interval";function jf(n,e){return!n||!n.isValid?bt.invalid("missing or invalid start"):!e||!e.isValid?bt.invalid("missing or invalid end"):e<n?bt.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}var bt=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the Interval is invalid");let s=e instanceof Jt?e:new Jt(e,i);if(St.throwOnInvalid)throw new Pi(s);return new bt({invalid:s})}static fromDateTimes(e,i){let s=br(e),l=br(i),h=jf(s,l);return h??new bt({start:s,end:l})}static after(e,i){let s=ot.fromDurationLike(i),l=br(e);return bt.fromDateTimes(l,l.plus(s))}static before(e,i){let s=ot.fromDurationLike(i),l=br(e);return bt.fromDateTimes(l.minus(s),l)}static fromISO(e,i){let[s,l]=(e||"").split("/",2);if(s&&l){let h,f;try{h=Z.fromISO(s,i),f=h.isValid}catch{f=!1}let m,g;try{m=Z.fromISO(l,i),g=m.isValid}catch{g=!1}if(f&&g)return bt.fromDateTimes(h,m);if(f){let D=ot.fromISO(l,i);if(D.isValid)return bt.after(h,D)}else if(g){let D=ot.fromISO(s,i);if(D.isValid)return bt.before(m,D)}}return bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let i=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(i,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?bt.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];let i=e.map(br).filter(f=>this.contains(f)).sort(),s=[],{s:l}=this,h=0;for(;l<this.e;){let f=i[h]||this.e,m=+f>+this.e?this.e:f;s.push(bt.fromDateTimes(l,m)),l=m,h+=1}return s}splitBy(e){let i=ot.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,l=1,h,f=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(g=>g*l));h=+m>+this.e?this.e:m,f.push(bt.fromDateTimes(s,h)),s=h,l+=1}return f}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let i=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return i>=s?null:bt.fromDateTimes(i,s)}union(e){if(!this.isValid)return this;let i=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return bt.fromDateTimes(i,s)}static merge(e){let[i,s]=e.sort((l,h)=>l.s-h.s).reduce(([l,h],f)=>h?h.overlaps(f)||h.abutsStart(f)?[l,h.union(f)]:[l.concat([h]),f]:[l,f],[[],null]);return s&&i.push(s),i}static xor(e){let i=null,s=0,l=[],h=e.map(g=>[{time:g.s,type:"s"},{time:g.e,type:"e"}]),f=Array.prototype.concat(...h),m=f.sort((g,D)=>g.time-D.time);for(let g of m)s+=g.type==="s"?1:-1,s===1?i=g.time:(i&&+i!=+g.time&&l.push(bt.fromDateTimes(i,g.time)),i=null);return bt.merge(l)}difference(...e){return bt.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:_n}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:_n}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:_n}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:_n}toFormat(e,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:_n}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):ot.invalid(this.invalidReason)}mapEndpoints(e){return bt.fromDateTimes(e(this.s),e(this.e))}};var Ge=class{static hasDST(e=St.defaultZone){let i=Z.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Wt.isValidZone(e)}static normalizeZone(e){return Me(e,St.defaultZone)}static months(e="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:h="gregory"}={}){return(l||gt.create(i,s,h)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:h="gregory"}={}){return(l||gt.create(i,s,h)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||gt.create(i,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||gt.create(i,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return gt.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return gt.create(i,null,"gregory").eras(e)}static features(){return{relative:Un()}}};function Za(n,e){let i=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(e)-i(n);return Math.floor(ot.fromMillis(s).as("days"))}function Pf(n,e,i){let s=[["years",(m,g)=>g.year-m.year],["quarters",(m,g)=>g.quarter-m.quarter],["months",(m,g)=>g.month-m.month+(g.year-m.year)*12],["weeks",(m,g)=>{let D=Za(m,g);return(D-D%7)/7}],["days",Za]],l={},h,f;for(let[m,g]of s)if(i.indexOf(m)>=0){h=m;let D=g(n,e);f=n.plus({[m]:D}),f>e?(n=n.plus({[m]:D-1}),D-=1):n=f,l[m]=D}return[n,l,f,h]}function Ga(n,e,i,s){let[l,h,f,m]=Pf(n,e,i),g=e-l,D=i.filter(B=>["hours","minutes","seconds","milliseconds"].indexOf(B)>=0);D.length===0&&(f<e&&(f=l.plus({[m]:1})),f!==l&&(h[m]=(h[m]||0)+g/(f-l)));let R=ot.fromObject(h,s);return D.length>0?ot.fromMillis(g,s).shiftTo(...D).plus(R):R}var fo={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Ya={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},qf=fo.hanidec.replace(/[\[|\]]/g,"").split("");function Ja(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(fo.hanidec)!==-1)e+=qf.indexOf(n[i]);else for(let l in Ya){let[h,f]=Ya[l];s>=h&&s<=f&&(e+=s-h)}}return parseInt(e,10)}else return e}function Ee({numberingSystem:n},e=""){return new RegExp(`${fo[n||"latn"]}${e}`)}var Vf="missing Intl.DateTimeFormat.formatToParts support";function vt(n,e=i=>i){return{regex:n,deser:([i])=>e(Ja(i))}}var Hf=String.fromCharCode(160),Qa=`[ ${Hf}]`,tu=new RegExp(Qa,"g");function Wf(n){return n.replace(/\./g,"\\.?").replace(tu,Qa)}function Ka(n){return n.replace(/\./g,"").replace(tu," ").toLowerCase()}function De(n,e){return n===null?null:{regex:RegExp(n.map(Wf).join("|")),deser:([i])=>n.findIndex(s=>Ka(i)===Ka(s))+e}}function Xa(n,e){return{regex:n,deser:([,i,s])=>Qe(i,s),groups:e}}function ho(n){return{regex:n,deser:([e])=>e}}function $f(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Bf(n,e){let i=Ee(e),s=Ee(e,"{2}"),l=Ee(e,"{3}"),h=Ee(e,"{4}"),f=Ee(e,"{6}"),m=Ee(e,"{1,2}"),g=Ee(e,"{1,3}"),D=Ee(e,"{1,6}"),R=Ee(e,"{1,9}"),B=Ee(e,"{2,4}"),it=Ee(e,"{4,6}"),V=Et=>({regex:RegExp($f(Et.val)),deser:([Lt])=>Lt,literal:!0}),Ot=(Et=>{if(n.literal)return V(Et);switch(Et.val){case"G":return De(e.eras("short",!1),0);case"GG":return De(e.eras("long",!1),0);case"y":return vt(D);case"yy":return vt(B,dn);case"yyyy":return vt(h);case"yyyyy":return vt(it);case"yyyyyy":return vt(f);case"M":return vt(m);case"MM":return vt(s);case"MMM":return De(e.months("short",!0,!1),1);case"MMMM":return De(e.months("long",!0,!1),1);case"L":return vt(m);case"LL":return vt(s);case"LLL":return De(e.months("short",!1,!1),1);case"LLLL":return De(e.months("long",!1,!1),1);case"d":return vt(m);case"dd":return vt(s);case"o":return vt(g);case"ooo":return vt(l);case"HH":return vt(s);case"H":return vt(m);case"hh":return vt(s);case"h":return vt(m);case"mm":return vt(s);case"m":return vt(m);case"q":return vt(m);case"qq":return vt(s);case"s":return vt(m);case"ss":return vt(s);case"S":return vt(g);case"SSS":return vt(l);case"u":return ho(R);case"uu":return ho(m);case"uuu":return vt(i);case"a":return De(e.meridiems(),0);case"kkkk":return vt(h);case"kk":return vt(B,dn);case"W":return vt(m);case"WW":return vt(s);case"E":case"c":return vt(i);case"EEE":return De(e.weekdays("short",!1,!1),1);case"EEEE":return De(e.weekdays("long",!1,!1),1);case"ccc":return De(e.weekdays("short",!0,!1),1);case"cccc":return De(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Xa(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return Xa(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return ho(/[a-z_+-/]{1,256}?/i);default:return V(Et)}})(n)||{invalidReason:Vf};return Ot.token=n,Ot}var Zf={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function Gf(n,e,i){let{type:s,value:l}=n;if(s==="literal")return{literal:!0,val:l};let h=i[s],f=Zf[s];if(typeof f=="object"&&(f=f[h]),f)return{literal:!1,val:f}}function Yf(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function Jf(n,e,i){let s=n.match(e);if(s){let l={},h=1;for(let f in i)if($e(i,f)){let m=i[f],g=m.groups?m.groups+1:1;!m.literal&&m.token&&(l[m.token.val[0]]=m.deser(s.slice(h,h+g))),h+=g}return[s,l]}else return[s,{}]}function Kf(n){let e=h=>{switch(h){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return nt(n.z)||(i=Wt.create(n.z)),nt(n.Z)||(i||(i=new Ft(n.Z)),s=n.Z),nt(n.q)||(n.M=(n.q-1)*3+1),nt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),nt(n.u)||(n.S=fn(n.u)),[Object.keys(n).reduce((h,f)=>{let m=e(f);return m&&(h[m]=n[f]),h},{}),i,s]}var po=null;function Xf(){return po||(po=Z.fromMillis(1555555555555)),po}function Qf(n,e){if(n.literal)return n;let i=qt.macroTokenToFormatOpts(n.val);if(!i)return n;let h=qt.create(e,i).formatDateTimeParts(Xf()).map(f=>Gf(f,e,i));return h.includes(void 0)?n:h}function th(n,e){return Array.prototype.concat(...n.map(i=>Qf(i,e)))}function mo(n,e,i){let s=th(qt.parseFormat(i),n),l=s.map(f=>Bf(f,n)),h=l.find(f=>f.invalidReason);if(h)return{input:e,tokens:s,invalidReason:h.invalidReason};{let[f,m]=Yf(l),g=RegExp(f,"i"),[D,R]=Jf(e,g,m),[B,it,V]=R?Kf(R):[null,null,void 0];if($e(R,"a")&&$e(R,"H"))throw new We("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:g,rawMatches:D,matches:R,result:B,zone:it,specificOffset:V}}}function eu(n,e,i){let{result:s,zone:l,specificOffset:h,invalidReason:f}=mo(n,e,i);return[s,l,h,f]}var ru=[0,31,59,90,120,151,181,212,243,273,304,334],nu=[0,31,60,91,121,152,182,213,244,274,305,335];function we(n,e){return new Jt("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function iu(n,e,i){let s=new Date(Date.UTC(n,e-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let l=s.getUTCDay();return l===0?7:l}function ou(n,e,i){return i+(Ke(n)?nu:ru)[e-1]}function su(n,e){let i=Ke(n)?nu:ru,s=i.findIndex(h=>h<e),l=e-i[s];return{month:s+1,day:l}}function Hn(n){let{year:e,month:i,day:s}=n,l=ou(e,i,s),h=iu(e,i,s),f=Math.floor((l-h+10)/7),m;return f<1?(m=e-1,f=gr(m)):f>gr(e)?(m=e+1,f=1):m=e,{weekYear:m,weekNumber:f,weekday:h,...pn(n)}}function yo(n){let{weekYear:e,weekNumber:i,weekday:s}=n,l=iu(e,1,4),h=Xe(e),f=i*7+s-l-3,m;f<1?(m=e-1,f+=Xe(m)):f>h?(m=e+1,f-=Xe(e)):m=e;let{month:g,day:D}=su(m,f);return{year:m,month:g,day:D,...pn(n)}}function Wn(n){let{year:e,month:i,day:s}=n,l=ou(e,i,s);return{year:e,ordinal:l,...pn(n)}}function vo(n){let{year:e,ordinal:i}=n,{month:s,day:l}=su(e,i);return{year:e,month:s,day:l,...pn(n)}}function au(n){let e=cn(n.weekYear),i=Ce(n.weekNumber,1,gr(n.weekYear)),s=Ce(n.weekday,1,7);return e?i?s?!1:we("weekday",n.weekday):we("week",n.week):we("weekYear",n.weekYear)}function uu(n){let e=cn(n.year),i=Ce(n.ordinal,1,Xe(n.year));return e?i?!1:we("ordinal",n.ordinal):we("year",n.year)}function go(n){let e=cn(n.year),i=Ce(n.month,1,12),s=Ce(n.day,1,vr(n.year,n.month));return e?i?s?!1:we("day",n.day):we("month",n.month):we("year",n.year)}function _o(n){let{hour:e,minute:i,second:s,millisecond:l}=n,h=Ce(e,0,23)||e===24&&i===0&&s===0&&l===0,f=Ce(i,0,59),m=Ce(s,0,59),g=Ce(l,0,999);return h?f?m?g?!1:we("millisecond",l):we("second",s):we("minute",i):we("hour",e)}var To="Invalid DateTime",lu=864e13;function $n(n){return new Jt("unsupported zone",`the zone "${n.name}" is not supported`)}function Eo(n){return n.weekData===null&&(n.weekData=Hn(n.c)),n.weekData}function Tn(n,e){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Z({...i,...e,old:i})}function vu(n,e,i){let s=n-e*60*1e3,l=i.offset(s);if(e===l)return[s,e];s-=(l-e)*60*1e3;let h=i.offset(s);return l===h?[s,l]:[n-Math.min(l,h)*60*1e3,Math.max(l,h)]}function cu(n,e){n+=e*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Zn(n,e,i){return vu(hn(n),e,i)}function fu(n,e){let i=n.o,s=n.c.year+Math.trunc(e.years),l=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,h={...n.c,year:s,month:l,day:Math.min(n.c.day,vr(s,l))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},f=ot.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),m=hn(h),[g,D]=vu(m,i,n.zone);return f!==0&&(g+=f,D=n.zone.offset(g)),{ts:g,o:D}}function En(n,e,i,s,l,h){let{setZone:f,zone:m}=i;if(n&&Object.keys(n).length!==0){let g=e||m,D=Z.fromObject(n,{...i,zone:g,specificOffset:h});return f?D:D.setZone(m)}else return Z.invalid(new Jt("unparsable",`the input "${l}" can't be parsed as ${s}`))}function Bn(n,e,i=!0){return n.isValid?qt.create(gt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,e):null}function wo(n,e){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=Nt(n.c.year,i?6:4),e?(s+="-",s+=Nt(n.c.month),s+="-",s+=Nt(n.c.day)):(s+=Nt(n.c.month),s+=Nt(n.c.day)),s}function hu(n,e,i,s,l,h){let f=Nt(n.c.hour);return e?(f+=":",f+=Nt(n.c.minute),(n.c.second!==0||!i)&&(f+=":")):f+=Nt(n.c.minute),(n.c.second!==0||!i)&&(f+=Nt(n.c.second),(n.c.millisecond!==0||!s)&&(f+=".",f+=Nt(n.c.millisecond,3))),l&&(n.isOffsetFixed&&n.offset===0&&!h?f+="Z":n.o<0?(f+="-",f+=Nt(Math.trunc(-n.o/60)),f+=":",f+=Nt(Math.trunc(-n.o%60))):(f+="+",f+=Nt(Math.trunc(n.o/60)),f+=":",f+=Nt(Math.trunc(n.o%60)))),h&&(f+="["+n.zone.ianaName+"]"),f}var gu={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},eh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},_u=["year","month","day","hour","minute","second","millisecond"],nh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],ih=["year","ordinal","hour","minute","second","millisecond"];function du(n){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Hr(n);return e}function pu(n,e){let i=Me(e.zone,St.defaultZone),s=gt.fromObject(e),l=St.now(),h,f;if(nt(n.year))h=l;else{for(let D of _u)nt(n[D])&&(n[D]=gu[D]);let m=go(n)||_o(n);if(m)return Z.invalid(m);let g=i.offset(l);[h,f]=Zn(n,g,i)}return new Z({ts:h,zone:i,loc:s,o:f})}function mu(n,e,i){let s=nt(i.round)?!0:i.round,l=(f,m)=>(f=yr(f,s||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(f,m)),h=f=>i.calendary?e.hasSame(n,f)?0:e.startOf(f).diff(n.startOf(f),f).get(f):e.diff(n,f).get(f);if(i.unit)return l(h(i.unit),i.unit);for(let f of i.units){let m=h(f);if(Math.abs(m)>=1)return l(m,f)}return l(n>e?-0:0,i.units[i.units.length-1])}function yu(n){let e={},i;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[e,i]}var Z=class{constructor(e){let i=e.zone||St.defaultZone,s=e.invalid||(Number.isNaN(e.ts)?new Jt("invalid input"):null)||(i.isValid?null:$n(i));this.ts=nt(e.ts)?St.now():e.ts;let l=null,h=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[l,h]=[e.old.c,e.old.o];else{let m=i.offset(this.ts);l=cu(this.ts,m),s=Number.isNaN(l.year)?new Jt("invalid input"):null,l=s?null:l,h=s?null:m}this._zone=i,this.loc=e.loc||gt.create(),this.invalid=s,this.weekData=null,this.c=l,this.o=h,this.isLuxonDateTime=!0}static now(){return new Z({})}static local(){let[e,i]=yu(arguments),[s,l,h,f,m,g,D]=i;return pu({year:s,month:l,day:h,hour:f,minute:m,second:g,millisecond:D},e)}static utc(){let[e,i]=yu(arguments),[s,l,h,f,m,g,D]=i;return e.zone=Ft.utcInstance,pu({year:s,month:l,day:h,hour:f,minute:m,second:g,millisecond:D},e)}static fromJSDate(e,i={}){let s=pa(e)?e.valueOf():NaN;if(Number.isNaN(s))return Z.invalid("invalid input");let l=Me(i.zone,St.defaultZone);return l.isValid?new Z({ts:s,zone:l,loc:gt.fromObject(i)}):Z.invalid($n(l))}static fromMillis(e,i={}){if(ze(e))return e<-lu||e>lu?Z.invalid("Timestamp out of range"):new Z({ts:e,zone:Me(i.zone,St.defaultZone),loc:gt.fromObject(i)});throw new Yt(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(ze(e))return new Z({ts:e*1e3,zone:Me(i.zone,St.defaultZone),loc:gt.fromObject(i)});throw new Yt("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};let s=Me(i.zone,St.defaultZone);if(!s.isValid)return Z.invalid($n(s));let l=St.now(),h=nt(i.specificOffset)?s.offset(l):i.specificOffset,f=_r(e,du),m=!nt(f.ordinal),g=!nt(f.year),D=!nt(f.month)||!nt(f.day),R=g||D,B=f.weekYear||f.weekNumber,it=gt.fromObject(i);if((R||m)&&B)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(D&&m)throw new We("Can't mix ordinal dates with month/day");let V=B||f.weekday&&!R,mt,Ot,Et=cu(l,h);V?(mt=nh,Ot=eh,Et=Hn(Et)):m?(mt=ih,Ot=rh,Et=Wn(Et)):(mt=_u,Ot=gu);let Lt=!1;for(let Ie of mt){let Mr=f[Ie];nt(Mr)?Lt?f[Ie]=Ot[Ie]:f[Ie]=Et[Ie]:Lt=!0}let $t=V?au(f):m?uu(f):go(f),je=$t||_o(f);if(je)return Z.invalid(je);let oe=V?yo(f):m?vo(f):f,[se,kr]=Zn(oe,h,s),ae=new Z({ts:se,zone:s,o:kr,loc:it});return f.weekday&&R&&e.weekday!==ae.weekday?Z.invalid("mismatched weekday",`you can't specify both a weekday of ${f.weekday} and a date of ${ae.toISO()}`):ae}static fromISO(e,i={}){let[s,l]=ja(e);return En(s,l,i,"ISO 8601",e)}static fromRFC2822(e,i={}){let[s,l]=Pa(e);return En(s,l,i,"RFC 2822",e)}static fromHTTP(e,i={}){let[s,l]=qa(e);return En(s,l,i,"HTTP",i)}static fromFormat(e,i,s={}){if(nt(e)||nt(i))throw new Yt("fromFormat requires an input string and a format");let{locale:l=null,numberingSystem:h=null}=s,f=gt.fromOpts({locale:l,numberingSystem:h,defaultToEN:!0}),[m,g,D,R]=eu(f,e,i);return R?Z.invalid(R):En(m,g,s,`format ${i}`,e,D)}static fromString(e,i,s={}){return Z.fromFormat(e,i,s)}static fromSQL(e,i={}){let[s,l]=Wa(e);return En(s,l,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Yt("need to specify a reason the DateTime is invalid");let s=e instanceof Jt?e:new Jt(e,i);if(St.throwOnInvalid)throw new ji(s);return new Z({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Eo(this).weekYear:NaN}get weekNumber(){return this.isValid?Eo(this).weekNumber:NaN}get weekday(){return this.isValid?Eo(this).weekday:NaN}get ordinal(){return this.isValid?Wn(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ge.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ge.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ge.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ge.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Ke(this.year)}get daysInMonth(){return vr(this.year,this.month)}get daysInYear(){return this.isValid?Xe(this.year):NaN}get weeksInWeekYear(){return this.isValid?gr(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:i,numberingSystem:s,calendar:l}=qt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:l}}toUTC(e=0,i={}){return this.setZone(Ft.instance(e),i)}toLocal(){return this.setZone(St.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(e=Me(e,St.defaultZone),e.equals(this.zone))return this;if(e.isValid){let l=this.ts;if(i||s){let h=e.offset(this.ts),f=this.toObject();[l]=Zn(f,h,e)}return Tn(this,{ts:l,zone:e})}else return Z.invalid($n(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:s}={}){let l=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:s});return Tn(this,{loc:l})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let i=_r(e,du),s=!nt(i.weekYear)||!nt(i.weekNumber)||!nt(i.weekday),l=!nt(i.ordinal),h=!nt(i.year),f=!nt(i.month)||!nt(i.day),m=h||f,g=i.weekYear||i.weekNumber;if((m||l)&&g)throw new We("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&l)throw new We("Can't mix ordinal dates with month/day");let D;s?D=yo({...Hn(this.c),...i}):nt(i.ordinal)?(D={...this.toObject(),...i},nt(i.day)&&(D.day=Math.min(vr(D.year,D.month),D.day))):D=vo({...Wn(this.c),...i});let[R,B]=Zn(D,this.o,this.zone);return Tn(this,{ts:R,o:B})}plus(e){if(!this.isValid)return this;let i=ot.fromDurationLike(e);return Tn(this,fu(this,i))}minus(e){if(!this.isValid)return this;let i=ot.fromDurationLike(e).negate();return Tn(this,fu(this,i))}startOf(e){if(!this.isValid)return this;let i={},s=ot.normalizeUnit(e);switch(s){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(s==="weeks"&&(i.weekday=1),s==="quarters"){let l=Math.ceil(this.month/3);i.month=(l-1)*3+1}return this.set(i)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,i={}){return this.isValid?qt.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):To}toLocaleString(e=mr,i={}){return this.isValid?qt.create(this.loc.clone(i),e).formatDateTime(this):To}toLocaleParts(e={}){return this.isValid?qt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:h=!1}={}){if(!this.isValid)return null;let f=e==="extended",m=wo(this,f);return m+="T",m+=hu(this,f,i,s,l,h),m}toISODate({format:e="extended"}={}){return this.isValid?wo(this,e==="extended"):null}toISOWeekDate(){return Bn(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:h=!1,format:f="extended"}={}){return this.isValid?(l?"T":"")+hu(this,f==="extended",i,e,s,h):null}toRFC2822(){return Bn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Bn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?wo(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(i||e)&&(s&&(l+=" "),i?l+="z":e&&(l+="ZZ")),Bn(this,l,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():To}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",s={}){if(!this.isValid||!e.isValid)return ot.invalid("created by diffing an invalid DateTime");let l={locale:this.locale,numberingSystem:this.numberingSystem,...s},h=ma(i).map(ot.normalizeUnit),f=e.valueOf()>this.valueOf(),m=f?this:e,g=f?e:this,D=Ga(m,g,h,l);return f?D.negate():D}diffNow(e="milliseconds",i={}){return this.diff(Z.now(),e,i)}until(e){return this.isValid?bt.fromDateTimes(this,e):this}hasSame(e,i){if(!this.isValid)return!1;let s=e.valueOf(),l=this.setZone(e.zone,{keepLocalTime:!0});return l.startOf(i)<=s&&s<=l.endOf(i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let i=e.base||Z.fromObject({},{zone:this.zone}),s=e.padding?this<i?-e.padding:e.padding:0,l=["years","months","days","hours","minutes","seconds"],h=e.unit;return Array.isArray(e.unit)&&(l=e.unit,h=void 0),mu(i,this.plus(s),{...e,numeric:"always",units:l,unit:h})}toRelativeCalendar(e={}){return this.isValid?mu(e.base||Z.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Z.isDateTime))throw new Yt("min requires all arguments be DateTimes");return $i(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(Z.isDateTime))throw new Yt("max requires all arguments be DateTimes");return $i(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,s={}){let{locale:l=null,numberingSystem:h=null}=s,f=gt.fromOpts({locale:l,numberingSystem:h,defaultToEN:!0});return mo(f,e,i)}static fromStringExplain(e,i,s={}){return Z.fromFormatExplain(e,i,s)}static get DATE_SHORT(){return mr}static get DATE_MED(){return Wr}static get DATE_MED_WITH_WEEKDAY(){return Vi}static get DATE_FULL(){return $r}static get DATE_HUGE(){return Br}static get TIME_SIMPLE(){return Zr}static get TIME_WITH_SECONDS(){return Gr}static get TIME_WITH_SHORT_OFFSET(){return Yr}static get TIME_WITH_LONG_OFFSET(){return Jr}static get TIME_24_SIMPLE(){return Kr}static get TIME_24_WITH_SECONDS(){return Xr}static get TIME_24_WITH_SHORT_OFFSET(){return Qr}static get TIME_24_WITH_LONG_OFFSET(){return tn}static get DATETIME_SHORT(){return en}static get DATETIME_SHORT_WITH_SECONDS(){return rn}static get DATETIME_MED(){return nn}static get DATETIME_MED_WITH_SECONDS(){return on}static get DATETIME_MED_WITH_WEEKDAY(){return Hi}static get DATETIME_FULL(){return sn}static get DATETIME_FULL_WITH_SECONDS(){return an}static get DATETIME_HUGE(){return un}static get DATETIME_HUGE_WITH_SECONDS(){return ln}};function br(n){if(Z.isDateTime(n))return n;if(n&&n.valueOf&&ze(n.valueOf()))return Z.fromJSDate(n);if(n&&typeof n=="object")return Z.fromObject(n);throw new Yt(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var ie=ra(Eu(),1);var Yn,oh=new Uint8Array(16);function Io(){if(!Yn&&(Yn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yn(oh)}var wu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function sh(n){return typeof n=="string"&&wu.test(n)}var Iu=sh;var Kt=[];for(Jn=0;Jn<256;++Jn)Kt.push((Jn+256).toString(16).substr(1));var Jn;function ah(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(Kt[n[e+0]]+Kt[n[e+1]]+Kt[n[e+2]]+Kt[n[e+3]]+"-"+Kt[n[e+4]]+Kt[n[e+5]]+"-"+Kt[n[e+6]]+Kt[n[e+7]]+"-"+Kt[n[e+8]]+Kt[n[e+9]]+"-"+Kt[n[e+10]]+Kt[n[e+11]]+Kt[n[e+12]]+Kt[n[e+13]]+Kt[n[e+14]]+Kt[n[e+15]]).toLowerCase();if(!Iu(i))throw TypeError("Stringified UUID is invalid");return i}var Su=ah;function uh(n,e,i){n=n||{};var s=n.random||(n.rng||Io)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){i=i||0;for(var l=0;l<16;++l)e[i+l]=s[l];return e}return Su(s)}var So=uh;var lh=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),bo={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},ch={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},fh=[2,3,4,9,10,11],hh=[4,5,6,10,11,12,1],dh={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},ph={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function mh(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,lh)}function Ou(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function ko(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function yh(n){return e=>e.set({hour:n.hour,minute:n.minute})}var ku=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,Mu=new RegExp(ku);function vh(n){return Mu.test(n)}var gh=`${Object.keys(bo).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${ku}|\\(|\\)`;function _h(n,e){let i=!0,s=parseInt(n[2]),l=parseInt(e[2]),h=parseInt(n[3]+n[2]+n[1]),f=parseInt(e[3]+e[2]+e[1]);return(fh.indexOf(s)===-1||hh.indexOf(l)===-1||s>12||l>12||h>f)&&(i=!1),i}function bu(n){let e=n.split("-"),i=parseInt(e[2]),s=ch[e[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let l=parseInt(e[0]);return Z.fromObject({year:i,month:s,day:l,hour:12,minute:0},{zone:"Europe/Rome"})}function Th(n,e){let i=[];for(let h of e)h[3]!==void 0&&i.push(h[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,l=[...n.matchAll(s)];for(let h of l)i.push(h[1].trim());return i=[...new Set(i)],i}function Du(n,e){let i=null,s=ph[dh[n]||"en"];e.length===1?i="one":e.length>1&&(i="many");let l="";return i!=null&&(l=s[i]),l}function Eh(n,e,i){let s=[],l=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2}), (.+?(?=\sin\s|\sClassroom\s|\sAula\s))(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,h=[...n.split(l)];h.splice(0,1);let f=8,m=h.length/f;for(let g=0;g<m;g++){let D=h[g*f+1],R=h[g*f+2],B=h[g*f+3],it=h[g*f+4],V=h[g*f+5];V=V[0].toUpperCase()+V.substring(1);let mt=h[g*f+6],Ot=h[g*f+7].split(`

`)[0].trim().split(`
`);Ot=Ot.filter(vh);let Et=bu(Ot.splice(0,1)[0]),Lt=Et.set({hour:D,minute:R}),$t=Et.set({hour:B,minute:it}),je=Du(V,e),oe={summary:i,start:Lt,end:$t,dtstamp:Z.now(),location:mt,description:V+`
`+je+`
`+e.join(`
`)};Ot.length>0&&(oe.rdate=Ot.map(bu).map(yh(Lt)).map(ko).join(",")),s.push(oe)}return{data:s,error:null}}function wh(n,e,i,s,l){e.lastIndex=0;let h=[...n.matchAll(e)];if(h.length>1){let f=[],m="";for(let R of n.split(`
`))i.test(R)?(m=m.trim(),m!==""&&f.push(m),m=R):m+=`
`+R;m=m.trim(),m!==""&&f.push(m);let g=Kn(f[0],s),D=Kn(f.slice(1).join(`
`),s);return{data:[...g.data,...D.data],error:g.error||D.error}}else if(h.length===1){let f=h[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,g=m.exec(f[2]),D=m.exec(f[3]),B=_h(g,D)?"dd/MM/yyyy":"MM/dd/yyyy",it=Z.fromFormat(f[2],B,{zone:"Europe/Rome"}),V=Z.fromFormat(f[3],B,{zone:"Europe/Rome"});if(it.valueOf()>V.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${it} > ${V})`};let mt=[],Ot=/[^\n]+\n[^\n]+\n?([\s\S]*)/.exec(n);if(Ot!==null&&Ot[1]!==""){let Et=Ot[1].trim().split(`

`)[0].split(`
`);for(let Lt of Et){let $t=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(Lt);if($t===null)continue;let je=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,oe=bo[$t[1]],se=it;oe<it.weekday?se=it.set({day:it.day-it.weekday+7+oe}):se=it.set({day:it.day-it.weekday+oe});let kr=$t.groups.startMidday!==void 0&&$t.groups.startMidday[0]==="p"?12:0;se=se.set({hour:parseInt($t[2])+kr,minute:parseInt($t[3])});let ae=V;if(oe<=V.weekday?ae=V.set({day:V.day-V.weekday+oe}):ae=V.set({day:V.day-V.weekday-7+oe}),ae=ae.set({hour:se.hour,minute:se.minute}),se.valueOf()>ae.valueOf())return{data:mt,error:`First day is unexpectedly greater than Last day (${se} > ${ae})`};let Ie=se,Mr=$t.groups.endMidday!==void 0&&$t.groups.endMidday[0]==="p"?12:0;Ie=Ie.set({hour:parseInt($t[5])+Mr,minute:parseInt($t[6])});let Dr=null,nr=null;if(!je.test(Lt)){let ir=/,\s*(.+)\s+in\s+(?:.*?)(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(Lt);if(ir===null){let In=/,\s*(?:classroom lesson)?\s*(.*)/.exec(Lt);In!==null&&(nr="Lesson",Dr=In[1])}else nr=ir[1][0].toUpperCase()+ir[1].substring(1),Dr=ir[2]}let Qn=Du(nr,s);mt.push({summary:l,start:se,end:Ie,dtstamp:Z.now(),location:Dr,rrule:"FREQ=WEEKLY;UNTIL="+ko(ae),description:nr+`
`+Qn+`
`+s.join(`
`)})}}return{data:mt,error:null}}}var Oo=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${gh})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function Kn(n,e=null,i=null){let s=[...n.matchAll(Oo)];if(s.length===0)return{data:[],error:null};let l=Th(n,s);if(l.length===0&&e!==null&&(l=e),i!==null&&s.length>1&&n.includes(i)){let D=[];for(let R of n.split(i)){let B=Kn(R.trim(),l);if(D=[...D,...B.data],B.error!==null)return{data:D,error:B.error}}return{data:D,error:null}}let h=/\s*(?:L'orario non è stato definito|The schedule has not been defined)/,f=/\s*(?:Nessun orario definito|No timetable defined)/;if(h.test(n)||f.test(n))return{data:[],error:null};let m=s[s.length-1][2],g=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return g.test(n)?wh(n,g,Oo,l,m):Eh(n,l,m)}var Ih=Object.keys(bo).join("|");function Sh(n,e,i,s,l,h){let f=i.match(/.{11}/g);return`${e}
${f.join(`
`)}`}function Oh(n){return n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<aiucDate>(${Mu.source})+)`,"g"),Sh).replace(new RegExp(`(\\S)(${Ih})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${Oo.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`)}function Mo(n){try{let e=Oh(n),i=`


`;e.trim().includes(`



`)&&(i=`



`);let s=e.trim().split(i),l=[];for(let h of s){let f=Kn(h.trim(),null,i.slice(0,-1));if(l=[...l,...f.data],f.error!==null)return{data:l,error:f.error}}return l.length===0&&e.trim().length!==0?{data:[],error:"No courses detected"}:{data:l,error:null}}catch(e){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+e.message+")"),{data:[],error:e.message}}}function xu(n,e=!0){let i=Mo(n);if(i.error!==null)return e&&console.error("Unable to create iCalendar file! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),{data:"",error:i.error};{let s=new ie.Property({name:"VERSION",value:2}),l=new ie.Property({name:"PRODID",value:"bebora@github"}),h=new ie.Component({name:"VCALENDAR",properties:[s,l]});for(let m of i.data){let g=new ie.Component({name:"VEVENT",properties:[new ie.Property({name:"SUMMARY",value:m.summary}),new ie.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:Ou(m.start)}),new ie.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:Ou(m.end)}),new ie.Property({name:"DTSTAMP",value:ko(m.dtstamp)}),new ie.Property({name:"UID",value:So()})]});m.location!==void 0&&(g=g.pushProperty(new ie.Property({name:"LOCATION",value:m.location}))),m.description!==void 0&&(g=g.pushProperty(new ie.Property({name:"DESCRIPTION",value:m.description}))),m.rrule!==void 0&&(g=g.pushProperty(new ie.Property({name:"RRULE",value:m.rrule}))),m.rdate!==void 0&&(g=g.pushProperty(new ie.Property({name:"RDATE",value:m.rdate}))),h=h.pushComponent(g)}let f=h.toString();return{data:mh(f),error:null}}}var Lu=ra(Au(),1);var bh=["wwPttUUOIWAu_giTon7gdEXNXS0MWMrREnQw8CeZLpM","eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFobXBrdXNoa2tja29kbnFwYm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQwMTQ2OTQsImV4cCI6MTk3OTU5MDY5NH0","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"],Nu=bh.reverse().join("."),kh="qhmpkushkkckodnqpbnz",Mh=`https://${kh}.supabase.co/rest/v1/error_logs`;function Fu(n,e,i){fetch(Mh,{method:"POST",headers:{apikey:Nu,Authorization:`Bearer ${Nu}`,"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify({user_agent:n,lessons_timetable:e,exception:i})})}function Dh(n){n>0?document.getElementById("eventsCount").innerText=`${n}`:n===0?(document.getElementById("importProgress").style.display="none",document.getElementById("importOk").style.display="block",setTimeout(function(){document.getElementById("importOk").style.display="none"},5e3)):(document.getElementById("importProgress").style.display="none",document.getElementById("importFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},3e3))}document.getElementById("download").addEventListener("click",function(){let n=xu(document.getElementById("input").value);if(n.error!==null)document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),Xn(n.error);else{let e=new Blob([n.data],{type:"text/plain;charset=utf-8"});(0,Lu.saveAs)(e,"orarioPolimi.ics")}});document.getElementById("import_button").addEventListener("click",function(){let n=Mo(document.getElementById("input").value);n.error!==null?(document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),console.error("Unable to parse courses data! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),Xn(n.error)):ha(n.data,Xn,Dh)});document.getElementById("import-gcal").addEventListener("click",function(){zu("google-pop")});document.querySelectorAll(".pop-window").forEach(n=>n.addEventListener("click",e=>{e.stopPropagation()}));function wn(n){document.getElementById(n).style.display="none"}function zu(n){document.getElementById(n).style.display="block"}function Cu(){let n=document.getElementById("newCalendar"),e=document.getElementById("inputElem");n.checked===!0?e.style.display="block":e.style.display="none"}var Ao=null,xh=atob("cG9saW1p"),Ah=[..."troppus_sj_eludehcs"].reverse().join(""),Nh="https://github.com/bebora/polimi-schedule-js/issues/new";function Fh(n=null){Ao===null&&(Ao=`https://t.me/${xh}_${Ah}`,document.getElementById("telegram-link").href=Ao);let e=document.getElementById("input").value,i=`<!-- Please add a title above and describe the problem on the next line -->



<details>
    <summary>Debug info</summary>

User agent: \`${navigator.userAgent}\`
Timetable input:
\`\`\`
${e}
\`\`\`
`;n!==null&&(i+=`Error info: \`${n}\`
`),i+="</details>",document.getElementById("github-link").href=`${Nh}?body=${encodeURIComponent(i)}`}function Xn(n=null){let e;n instanceof String?e=n:e=JSON.stringify(n,null,0),Fh(e),zu("error-pop"),console.error("Error info:",e),window.localStorage.getItem("disable-reporting")===null&&Fu(navigator.userAgent,document.getElementById("input").value,JSON.stringify(e,null,0))}document.getElementById("manualErrorPopup").addEventListener("click",()=>{Xn()});function Lh(){document.getElementById("google-pop").addEventListener("click",()=>{wn("google-pop")}),document.getElementById("google-close-button").addEventListener("click",()=>{wn("google-pop")}),document.getElementById("error-pop").addEventListener("click",()=>{wn("error-pop")}),document.getElementById("error-close-button").addEventListener("click",()=>{wn("error-pop")}),document.getElementById("itFlag").addEventListener("click",()=>{Rn("it")}),document.getElementById("enFlag").addEventListener("click",()=>{Rn("en")}),document.getElementById("newCalendar").addEventListener("click",Cu)}function zh(){Lh(),Rn((navigator.language||navigator.userLanguage).slice(0,2)),Cu()}zh();return Sc(Ch);})();
//# sourceMappingURL=web-core-bundle.js.map
