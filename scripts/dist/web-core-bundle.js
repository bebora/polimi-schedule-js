var bundle=(()=>{var Lc=Object.create;var Vn=Object.defineProperty;var Cc=Object.getOwnPropertyDescriptor;var zc=Object.getOwnPropertyNames;var Rc=Object.getPrototypeOf,Uc=Object.prototype.hasOwnProperty;var ya=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports),Wc=(n,t)=>{for(var i in t)Vn(n,i,{get:t[i],enumerable:!0})},va=(n,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of zc(t))!Uc.call(n,l)&&l!==i&&Vn(n,l,{get:()=>t[l],enumerable:!(s=Cc(t,l))||s.enumerable});return n};var ga=(n,t,i)=>(i=n!=null?Lc(Rc(n)):{},va(t||!n||!n.__esModule?Vn(i,"default",{value:n,enumerable:!0}):i,n)),jc=n=>va(Vn({},"__esModule",{value:!0}),n);var ju=ya((li,Wu)=>{(function(n,t){typeof li=="object"&&typeof Wu<"u"?t(li):typeof define=="function"&&define.amd?define(["exports"],t):t(n["immutable-ics"]={})})(li,function(n){"use strict";var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i(v,T){return T={exports:{}},v(T,T.exports),T.exports}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l=function(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")},c=function(){function v(T,L){for(var w=0;w<L.length;w++){var U=L[w];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,U.key,U)}}return function(T,L,w){return L&&v(T.prototype,L),w&&v(T,w),T}}(),h=function(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(v,T):v.__proto__=T)},m=function(v,T){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:v},y=function(){function v(T,L){var w=[],U=!0,ne=!1,K=void 0;try{for(var X=T[Symbol.iterator](),ue;!(U=(ue=X.next()).done)&&(w.push(ue.value),!(L&&w.length===L));U=!0);}catch(fe){ne=!0,K=fe}finally{try{!U&&X.return&&X.return()}finally{if(ne)throw K}}return w}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return v(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=function(v){if(Array.isArray(v)){for(var T=0,L=Array(v.length);T<v.length;T++)L[T]=v[T];return L}else return Array.from(v)},C=i(function(v){(function(T,L){v.exports=L()})(t,function(){"use strict";function T(e,r){r&&(e.prototype=Object.create(r.prototype)),e.prototype.constructor=e}function L(e){return K(e)?e:x(e)}function w(e){return X(e)?e:E(e)}function U(e){return ue(e)?e:I(e)}function ne(e){return K(e)&&!fe(e)?e:b(e)}function K(e){return!!(e&&e[Ks])}function X(e){return!!(e&&e[Xs])}function ue(e){return!!(e&&e[Qs])}function fe(e){return X(e)||ue(e)}function de(e){return!!(e&&e[gr])}function We(e){return e.value=!1,e}function _e(e){e&&(e.value=!0)}function Te(){}function ie(e,r){r=r||0;for(var o=nr(0,e.length-r),a=Array(o),u=0;u<o;u++)a[u]=e[u+r];return a}function Z(e){return e.size===void 0&&(e.size=e.__iterate(Pe)),e.size}function te(e,r){if(typeof r!="number"){var o=r>>>0;if(""+o!==r||o==4294967295)return NaN;r=o}return 0>r?Z(e)+r:r}function Pe(){return!0}function at(e,r,o){return(e===0||o!==void 0&&e<=-o)&&(r===void 0||o!==void 0&&r>=o)}function Ve(e,r){return Ce(e,r,0)}function Ze(e,r){return Ce(e,r,r)}function Ce(e,r,o){return e===void 0?o:0>e?nr(0,r+e):r===void 0?e:Math.min(r,e)}function J(e){this.next=e}function z(e,r,o,a){var u=e===0?r:e===1?o:[r,o];return a?a.value=u:a={value:u,done:!1},a}function ye(){return{value:void 0,done:!0}}function Qe(e){return!!G(e)}function je(e){return e&&typeof e.next=="function"}function et(e){var r=G(e);return r&&r.call(e)}function G(e){var r=e&&(Hi&&e[Hi]||e[ta]);if(typeof r=="function")return r}function Y(e){return e&&typeof e.length=="number"}function x(e){return e==null?A():K(e)?e.toSeq():H(e)}function E(e){return e==null?A().toKeyedSeq():K(e)?X(e)?e.toSeq():e.fromEntrySeq():R(e)}function I(e){return e==null?A():K(e)?X(e)?e.entrySeq():e.toIndexedSeq():V(e)}function b(e){return(e==null?A():K(e)?X(e)?e.entrySeq():e:V(e)).toSetSeq()}function M(e){this._array=e,this.size=e.length}function F(e){var r=Object.keys(e);this._object=e,this._keys=r,this.size=r.length}function S(e){this._iterable=e,this.size=e.length||e.size}function p(e){this._iterator=e,this._iteratorCache=[]}function _(e){return!!(e&&e[ra])}function A(){return na||(na=new M([]))}function R(e){var r=Array.isArray(e)?new M(e).fromEntrySeq():je(e)?new p(e).fromEntrySeq():Qe(e)?new S(e).fromEntrySeq():(typeof e>"u"?"undefined":s(e))==="object"?new F(e):void 0;if(!r)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return r}function V(e){var r=re(e);if(!r)throw new TypeError("Expected Array or iterable object of values: "+e);return r}function H(e){var r=re(e)||(typeof e>"u"?"undefined":s(e))==="object"&&new F(e);if(!r)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return r}function re(e){return Y(e)?new M(e):je(e)?new p(e):Qe(e)?new S(e):void 0}function oe(e,r,o,a){var u=e._cache;if(u){for(var f,d=u.length-1,g=0;g<=d;g++)if(f=u[o?d-g:g],r(f[1],a?f[0]:g,e)===!1)return g+1;return g}return e.__iterateUncached(r,o)}function Me(e,r,o,a){var u=e._cache;if(u){var f=u.length-1,d=0;return new J(function(){var g=u[o?f-d:d];return d++>f?ye():z(r,a?g[0]:d-1,g[1])})}return e.__iteratorUncached(r,o)}function St(e,r){return r?wi(r,e,"",{"":e}):Ei(e)}function wi(e,r,o,a){return Array.isArray(r)?e.call(a,o,I(r).map(function(u,f){return wi(e,u,f,r)})):ms(r)?e.call(a,o,E(r).map(function(u,f){return wi(e,u,f,r)})):r}function Ei(e){return Array.isArray(e)?I(e).map(Ei).toList():ms(e)?E(e).map(Ei).toMap():e}function ms(e){return e&&(e.constructor===Object||e.constructor===void 0)}function Re(e,r){if(e===r||e!==e&&r!==r)return!0;if(!e||!r)return!1;if(typeof e.valueOf=="function"&&typeof r.valueOf=="function"){if(e=e.valueOf(),r=r.valueOf(),e===r||e!==e&&r!==r)return!0;if(!e||!r)return!1}return typeof e.equals=="function"&&typeof r.equals=="function"&&e.equals(r)}function Ii(e,r){if(e===r)return!0;if(!K(r)||e.size!==void 0&&r.size!==void 0&&e.size!==r.size||e.__hash!==void 0&&r.__hash!==void 0&&e.__hash!==r.__hash||X(e)!==X(r)||ue(e)!==ue(r)||de(e)!==de(r))return!1;if(e.size===0&&r.size===0)return!0;var o=!fe(e);if(de(e)){var a=e.entries();return r.every(function(O,k){var N=a.next().value;return N&&Re(N[1],O)&&(o||Re(N[0],k))})&&a.next().done}var u=!1;if(e.size===void 0)if(r.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{u=!0;var f=e;e=r,r=f}var d=!0,g=r.__iterate(function(O,k){if(o?!e.has(O):u?!Re(O,e.get(k,le)):!Re(e.get(k,le),O))return d=!1,!1});return d&&e.size===g}function Je(e,r){if(!(this instanceof Je))return new Je(e,r);if(this._value=e,this.size=r===void 0?1/0:nr(0,r),this.size===0){if(Zi)return Zi;Zi=this}}function An(e,r){if(!e)throw new Error(r)}function Be(e,r,o){if(!(this instanceof Be))return new Be(e,r,o);if(An(o!==0,"Cannot step a Range by 0"),e=e||0,r===void 0&&(r=1/0),o=o===void 0?1:Math.abs(o),r<e&&(o=-o),this._start=e,this._end=r,this._step=o,this.size=nr(0,Math.ceil((r-e)/o-1)+1),this.size===0){if(Bi)return Bi;Bi=this}}function $t(){throw TypeError("Abstract")}function Ur(){}function cr(){}function Nn(){}function Si(e){return 1073741824&e>>>1|3221225471&e}function ut(e){if(e===!1||e===null||e===void 0||typeof e.valueOf=="function"&&(e=e.valueOf(),e===!1||e===null||e===void 0))return 0;if(e===!0)return 1;var r=typeof e>"u"?"undefined":s(e);if(r==="number"){if(e!==e||e===1/0)return 0;var o=0|e;for(o!==e&&(o^=4294967295*e);4294967295<e;)e/=4294967295,o^=e;return Si(o)}if(r==="string")return e.length>Mc?sc(e):Oi(e);if(typeof e.hashCode=="function")return e.hashCode();if(r==="object")return ac(e);if(typeof e.toString=="function")return Oi(e.toString());throw new Error("Value type "+r+" cannot be hashed.")}function sc(e){var r=Xi[e];return r===void 0&&(r=Oi(e),Ki===xc&&(Ki=0,Xi={}),Ki++,Xi[e]=r),r}function Oi(e){for(var r=0,o=0;o<e.length;o++)r=0|31*r+e.charCodeAt(o);return Si(r)}function ac(e){var r;if(Yi&&(r=Gi.get(e),r!==void 0)||(r=e[ir],r!==void 0)||!oa&&(r=e.propertyIsEnumerable&&e.propertyIsEnumerable[ir],r!==void 0||(r=uc(e),r!==void 0)))return r;if(r=++Ji,1073741824&Ji&&(Ji=0),Yi)Gi.set(e,r);else{if(ia!==void 0&&ia(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(oa)Object.defineProperty(e,ir,{enumerable:!1,configurable:!1,writable:!1,value:r});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ir]=r;else if(e.nodeType!==void 0)e[ir]=r;else throw new Error("Unable to set a non-enumerable property on object.")}return r}function uc(e){if(e&&0<e.nodeType)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function lt(e){An(e!==1/0,"Cannot perform this action with an infinite size.")}function he(e){return e==null?Ot():ki(e)&&!de(e)?e:Ot().withMutations(function(r){var o=w(e);lt(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function ki(e){return!!(e&&e[sa])}function Wr(e,r){this.ownerID=e,this.entries=r}function fr(e,r,o){this.ownerID=e,this.bitmap=r,this.nodes=o}function jr(e,r,o){this.ownerID=e,this.count=r,this.nodes=o}function hr(e,r,o){this.ownerID=e,this.keyHash=r,this.entries=o}function Wt(e,r,o){this.ownerID=e,this.keyHash=r,this.entry=o}function Di(e,r,o){this._type=r,this._reverse=o,this._stack=e._root&&ys(e._root)}function bi(e,r){return z(e,r[0],r[1])}function ys(e,r){return{node:e,index:0,__prev:r}}function Mi(e,r,o,a){var u=Object.create(ae);return u.size=e,u._root=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function Ot(){return aa||(aa=Mi(0))}function vs(e,r,o){var a,u;if(e._root){var f=We(bc),d=We(ea);if(a=xi(e._root,e.__ownerID,0,void 0,r,o,f,d),!d.value)return e;u=e.size+(f.value?o===le?-1:1:0)}else{if(o===le)return e;u=1,a=new Wr(e.__ownerID,[[r,o]])}return e.__ownerID?(e.size=u,e._root=a,e.__hash=void 0,e.__altered=!0,e):a?Mi(u,a):Ot()}function xi(e,r,o,a,u,f,d,g){return e?e.update(r,o,a,u,f,d,g):f===le?e:(_e(g),_e(d),new Wt(r,a,[u,f]))}function gs(e){return e.constructor===Wt||e.constructor===hr}function Ai(e,r,o,a,u){if(e.keyHash===a)return new hr(r,a,[e.entry,u]);var f,d=(o===0?e.keyHash:e.keyHash>>>o)&tt,g=(o===0?a:a>>>o)&tt,O=d==g?[Ai(e,r,o+ke,a,u)]:(f=new Wt(r,a,u),d<g?[e,f]:[f,e]);return new fr(r,1<<d|1<<g,O)}function lc(e,r,o,a){e||(e=new Te);for(var u,f=new Wt(e,ut(o),[o,a]),d=0;d<r.length;d++)u=r[d],f=f.update(e,0,void 0,u[0],u[1]);return f}function cc(e,r,o,a){for(var u,f=0,d=0,g=Array(o),O=0,k=1,N=r.length;O<N;O++,k<<=1)u=r[O],u!==void 0&&O!==a&&(f|=k,g[d++]=u);return new fr(e,f,g)}function fc(e,r,o,a,u){for(var f=0,d=Array(yt),g=0;o!==0;g++,o>>>=1)d[g]=1&o?r[f++]:void 0;return d[a]=u,new jr(e,f+1,d)}function Fn(e,r,o){for(var a=[],u=0;u<o.length;u++){var f=o[u],d=w(f);K(f)||(d=d.map(function(g){return St(g)})),a.push(d)}return ws(e,r,a)}function _s(e,r){return e&&e.mergeDeep&&K(r)?e.mergeDeep(r):Re(e,r)?e:r}function Ts(e){return function(r,o,a){if(r&&r.mergeDeepWith&&K(o))return r.mergeDeepWith(e,o);var u=e(r,o,a);return Re(r,u)?r:u}}function ws(e,r,o){return o=o.filter(function(a){return a.size!==0}),o.length===0?e:e.size!==0||e.__ownerID||o.length!==1?e.withMutations(function(a){for(var u=r?function(d,g){a.update(g,le,function(O){return O===le?d:r(O,d,g)})}:function(d,g){a.set(g,d)},f=0;f<o.length;f++)o[f].forEach(u)}):e.constructor(o[0])}function Es(e,r,o,a){var u=e===le,f=r.next();if(f.done){var d=u?o:e,g=a(d);return g===d?e:g}An(u||e&&e.set,"invalid keyPath");var O=f.value,k=u?le:e.get(O,le),N=Es(k,r,o,a);return N===k?e:N===le?e.remove(O):(u?Ot():e).set(O,N)}function Is(e){return e-=1431655765&e>>1,e=(858993459&e)+(858993459&e>>2),e=252645135&e+(e>>4),e+=e>>8,e+=e>>16,127&e}function Ss(e,r,o,a){var u=a?e:ie(e);return u[r]=o,u}function hc(e,r,o,a){var u=e.length+1;if(a&&r+1===u)return e[r]=o,e;for(var f=Array(u),d=0,g=0;g<u;g++)g===r?(f[g]=o,d=-1):f[g]=e[g+d];return f}function dc(e,r,o){var a=e.length-1;if(o&&r===a)return e.pop(),e;for(var u=Array(a),f=0,d=0;d<a;d++)d===r&&(f=1),u[d]=e[d+f];return u}function Oe(e){var r=Ni();if(e==null)return r;if(Os(e))return e;var o=U(e),a=o.size;return a===0?r:(lt(a),0<a&&a<yt?Pr(0,a,ke,null,new Zt(o.toArray())):r.withMutations(function(u){u.setSize(a),o.forEach(function(f,d){return u.set(d,f)})}))}function Os(e){return!!(e&&e[ua])}function Zt(e,r){this.array=e,this.ownerID=r}function ks(e,r){function o(k,N,j){return N===0?a(k,j):u(k,N,j)}function a(k,N){var j=N===g?O&&O.array:k&&k.array,$=N>f?0:f-N,Q=d-N;return Q>yt&&(Q=yt),function(){if($==Q)return Br;var ce=r?--Q:$++;return j&&j[ce]}}function u(k,N,j){var $,Q=k&&k.array,ce=j>f?0:f-j>>N,xe=(d-j>>N)+1;return xe>yt&&(xe=yt),function(){do{if($){var gt=$();if(gt!==Br)return gt;$=null}if(ce==xe)return Br;var kt=r?--xe:ce++;$=o(Q&&Q[kt],N-ke,j+(kt<<N))}while(!0)}}var f=e._origin,d=e._capacity,g=Vr(d),O=e._tail;return o(e._root,e._level,0)}function Pr(e,r,o,a,u,f,d){var g=Object.create(rt);return g.size=r-e,g._origin=e,g._capacity=r,g._level=o,g._root=a,g._tail=u,g.__ownerID=f,g.__hash=d,g.__altered=!1,g}function Ni(){return la||(la=Pr(0,0,ke))}function pc(e,r,o){if(r=te(e,r),r!==r)return e;if(r>=e.size||0>r)return e.withMutations(function(d){0>r?Bt(d,r).set(0,o):Bt(d,0,r+1).set(r,o)});r+=e._origin;var a=e._tail,u=e._root,f=We(ea);return r>=Vr(e._capacity)?a=Fi(a,e.__ownerID,0,r,o,f):u=Fi(u,e.__ownerID,e._level,r,o,f),f.value?e.__ownerID?(e._root=u,e._tail=a,e.__hash=void 0,e.__altered=!0,e):Pr(e._origin,e._capacity,e._level,u,a):e}function Fi(e,r,o,a,u,f){var d=a>>>o&tt,g=e&&d<e.array.length;if(!g&&u===void 0)return e;var O;if(0<o){var k=e&&e.array[d],N=Fi(k,r,o-ke,a,u,f);return N===k?e:(O=dr(e,r),O.array[d]=N,O)}return g&&e.array[d]===u?e:(_e(f),O=dr(e,r),u===void 0&&d==O.array.length-1?O.array.pop():O.array[d]=u,O)}function dr(e,r){return r&&e&&r===e.ownerID?e:new Zt(e?e.array.slice():[],r)}function Ds(e,r){if(r>=Vr(e._capacity))return e._tail;if(r<1<<e._level+ke){for(var o=e._root,a=e._level;o&&0<a;)o=o.array[r>>>a&tt],a-=ke;return o}}function Bt(e,r,o){r!==void 0&&(r|=0),o!==void 0&&(o|=0);var a=e.__ownerID||new Te,u=e._origin,f=e._capacity,d=u+r,g=o===void 0?f:0>o?f+o:u+o;if(d===u&&g===f)return e;if(d>=g)return e.clear();for(var O=e._level,k=e._root,N=0;0>d+N;)k=new Zt(k&&k.array.length?[void 0,k]:[],a),O+=ke,N+=1<<O;N&&(d+=N,u+=N,g+=N,f+=N);for(var j=Vr(f),$=Vr(g);$>=1<<O+ke;)k=new Zt(k&&k.array.length?[k]:[],a),O+=ke;var Q=e._tail,ce=$<j?Ds(e,g-1):$>j?new Zt([],a):Q;if(Q&&$>j&&d<f&&Q.array.length){k=dr(k,a);for(var xe,gt=k,kt=O;kt>ke;kt-=ke)xe=j>>>kt&tt,gt=gt.array[xe]=dr(gt.array[xe],a);gt.array[j>>>ke&tt]=Q}if(g<f&&(ce=ce&&ce.removeAfter(a,0,g)),d>=$)d-=$,g-=$,O=ke,k=null,ce=ce&&ce.removeBefore(a,0,d);else if(d>u||$<j){for(N=0;k;){var Pn=d>>>O&tt;if(Pn!=$>>>O&tt)break;Pn&&(N+=(1<<O)*Pn),O-=ke,k=k.array[Pn]}k&&d>u&&(k=k.removeBefore(a,O,d-N)),k&&$<j&&(k=k.removeAfter(a,O,$-N)),N&&(d-=N,g-=N)}return e.__ownerID?(e.size=g-d,e._origin=d,e._capacity=g,e._level=O,e._root=k,e._tail=ce,e.__hash=void 0,e.__altered=!0,e):Pr(d,g,O,k,ce)}function Ln(e,r,o){for(var a=[],u=0,f=0;f<o.length;f++){var d=o[f],g=U(d);g.size>u&&(u=g.size),K(d)||(g=g.map(function(O){return St(O)})),a.push(g)}return u>e.size&&(e=e.setSize(u)),ws(e,r,a)}function Vr(e){return e<yt?0:e-1>>>ke<<ke}function ze(e){return e==null?Cn():bs(e)?e:Cn().withMutations(function(r){var o=w(e);lt(o.size),o.forEach(function(a,u){return r.set(u,a)})})}function bs(e){return ki(e)&&de(e)}function Li(e,r,o,a){var u=Object.create(ze.prototype);return u.size=e?e.size:0,u._map=e,u._list=r,u.__ownerID=o,u.__hash=a,u}function Cn(){return ca||(ca=Li(Ot(),Ni()))}function Ms(e,r,o){var a,u,f=e._map,d=e._list,g=f.get(r),O=g!==void 0;if(o===le){if(!O)return e;d.size>=yt&&d.size>=2*f.size?(u=d.filter(function(k,N){return k!==void 0&&g!==N}),a=u.toKeyedSeq().map(function(k){return k[0]}).flip().toMap(),e.__ownerID&&(a.__ownerID=u.__ownerID=e.__ownerID)):(a=f.remove(r),u=g===d.size-1?d.pop():d.set(g,void 0))}else if(O){if(o===d.get(g)[1])return e;a=f,u=d.set(g,[r,o])}else a=f.set(r,d.size),u=d.set(d.size,[r,o]);return e.__ownerID?(e.size=a.size,e._map=a,e._list=u,e.__hash=void 0,e):Li(a,u)}function pt(e,r){this._iter=e,this._useKeys=r,this.size=e.size}function pr(e){this._iter=e,this.size=e.size}function mr(e){this._iter=e,this.size=e.size}function yr(e){this._iter=e,this.size=e.size}function xs(e){var r=Ft(e);return r._iter=e,r.size=e.size,r.flip=function(){return e},r.reverse=function(){var o=e.reverse.apply(this);return o.flip=function(){return e.reverse()},o},r.has=function(o){return e.includes(o)},r.includes=function(o){return e.has(o)},r.cacheResult=Ui,r.__iterateUncached=function(o,a){var u=this;return e.__iterate(function(f,d){return o(d,f,u)!==!1},a)},r.__iteratorUncached=function(o,a){if(o===zt){var u=e.__iterator(o,a);return new J(function(){var f=u.next();if(!f.done){var d=f.value[0];f.value[0]=f.value[1],f.value[1]=d}return f})}return e.__iterator(o===vt?$r:vt,a)},r}function As(e,r,o){var a=Ft(e);return a.size=e.size,a.has=function(u){return e.has(u)},a.get=function(u,f){var d=e.get(u,le);return d===le?f:r.call(o,d,u,e)},a.__iterateUncached=function(u,f){var d=this;return e.__iterate(function(g,O,k){return u(r.call(o,g,O,k),O,d)!==!1},f)},a.__iteratorUncached=function(u,f){var d=e.__iterator(zt,f);return new J(function(){var g=d.next();if(g.done)return g;var O=g.value,k=O[0];return z(u,k,r.call(o,O[1],k,e),g)})},a}function Ci(e,r){var o=Ft(e);return o._iter=e,o.size=e.size,o.reverse=function(){return e},e.flip&&(o.flip=function(){var a=xs(e);return a.reverse=function(){return e.flip()},a}),o.get=function(a,u){return e.get(r?a:-1-a,u)},o.has=function(a){return e.has(r?a:-1-a)},o.includes=function(a){return e.includes(a)},o.cacheResult=Ui,o.__iterate=function(a,u){var f=this;return e.__iterate(function(d,g){return a(d,g,f)},!u)},o.__iterator=function(a,u){return e.__iterator(a,!u)},o}function Ns(e,r,o,a){var u=Ft(e);return a&&(u.has=function(f){var d=e.get(f,le);return d!==le&&!!r.call(o,d,f,e)},u.get=function(f,d){var g=e.get(f,le);return g!==le&&r.call(o,g,f,e)?g:d}),u.__iterateUncached=function(f,d){var g=this,O=0;return e.__iterate(function(k,N,j){if(r.call(o,k,N,j))return O++,f(k,a?N:O-1,g)},d),O},u.__iteratorUncached=function(f,d){var g=e.__iterator(zt,d),O=0;return new J(function(){for(;;){var k=g.next();if(k.done)return k;var N=k.value,j=N[0],$=N[1];if(r.call(o,$,j,e))return z(f,a?j:O++,$,k)}})},u}function mc(e,r,o){var a=he().asMutable();return e.__iterate(function(u,f){a.update(r.call(o,u,f,e),0,function(d){return d+1})}),a.asImmutable()}function yc(e,r,o){var a=X(e),u=(de(e)?ze():he()).asMutable();e.__iterate(function(d,g){u.update(r.call(o,d,g,e),function(O){return O=O||[],O.push(a?[g,d]:d),O})});var f=Us(e);return u.map(function(d){return Ee(e,f(d))})}function zi(e,r,o,a){var u=e.size;if(r!==void 0&&(r|=0),o!==void 0&&(o===1/0?o=u:o|=0),at(r,o,u))return e;var f=Ve(r,u),d=Ze(o,u);if(f!==f||d!==d)return zi(e.toSeq().cacheResult(),r,o,a);var g,O=d-f;O==O&&(g=0>O?0:O);var k=Ft(e);return k.size=g===0?g:e.size&&g||void 0,!a&&_(e)&&0<=g&&(k.get=function(N,j){return N=te(this,N),0<=N&&N<g?e.get(N+f,j):j}),k.__iterateUncached=function(N,j){var $=this;if(g===0)return 0;if(j)return this.cacheResult().__iterate(N,j);var Q=0,ce=!0,xe=0;return e.__iterate(function(gt,kt){if(!(ce&&(ce=Q++<f)))return xe++,N(gt,a?kt:xe-1,$)!==!1&&xe!==g}),xe},k.__iteratorUncached=function(N,j){if(g!==0&&j)return this.cacheResult().__iterator(N,j);var $=g!==0&&e.__iterator(N,j),Q=0,ce=0;return new J(function(){for(;Q++<f;)$.next();if(++ce>g)return ye();var xe=$.next();return a||N===vt?xe:N===$r?z(N,ce-1,void 0,xe):z(N,ce-1,xe.value[1],xe)})},k}function vc(e,r,o){var a=Ft(e);return a.__iterateUncached=function(u,f){var d=this;if(f)return this.cacheResult().__iterate(u,f);var g=0;return e.__iterate(function(O,k,N){return r.call(o,O,k,N)&&++g&&u(O,k,d)}),g},a.__iteratorUncached=function(u,f){var d=this;if(f)return this.cacheResult().__iterator(u,f);var g=e.__iterator(zt,f),O=!0;return new J(function(){if(!O)return ye();var k=g.next();if(k.done)return k;var N=k.value,j=N[0],$=N[1];return r.call(o,$,j,d)?u===zt?k:z(u,j,$,k):(O=!1,ye())})},a}function Fs(e,r,o,a){var u=Ft(e);return u.__iterateUncached=function(f,d){var g=this;if(d)return this.cacheResult().__iterate(f,d);var O=!0,k=0;return e.__iterate(function(N,j,$){if(!(O&&(O=r.call(o,N,j,$))))return k++,f(N,a?j:k-1,g)}),k},u.__iteratorUncached=function(f,d){var g=this;if(d)return this.cacheResult().__iterator(f,d);var O=e.__iterator(zt,d),k=!0,N=0;return new J(function(){var j,$,Q;do{if(j=O.next(),j.done)return a||f===vt?j:f===$r?z(f,N++,void 0,j):z(f,N++,j.value[1],j);var ce=j.value;$=ce[0],Q=ce[1],k&&(k=r.call(o,Q,$,g))}while(k);return f===zt?j:z(f,$,Q,j)})},u}function gc(e,r){var o=X(e),a=[e].concat(r).map(function(d){return K(d)?o&&(d=w(d)):d=o?R(d):V(Array.isArray(d)?d:[d]),d}).filter(function(d){return d.size!==0});if(a.length===0)return e;if(a.length===1){var u=a[0];if(u===e||o&&X(u)||ue(e)&&ue(u))return u}var f=new M(a);return o?f=f.toKeyedSeq():!ue(e)&&(f=f.toSetSeq()),f=f.flatten(!0),f.size=a.reduce(function(d,g){if(d!==void 0){var O=g.size;if(O!==void 0)return d+O}},0),f}function Ls(e,r,o){var a=Ft(e);return a.__iterateUncached=function(u,f){function d(k,N){var j=this;k.__iterate(function($,Q){return(!r||N<r)&&K($)?d($,N+1):u($,o?Q:g++,j)===!1&&(O=!0),!O},f)}var g=0,O=!1;return d(e,0),g},a.__iteratorUncached=function(u,f){var d=e.__iterator(u,f),g=[],O=0;return new J(function(){for(;d;){var k=d.next();if(k.done!==!1){d=g.pop();continue}var N=k.value;if(u===zt&&(N=N[1]),(!r||g.length<r)&&K(N))g.push(d),d=N.__iterator(u,f);else return o?k:z(u,O++,N,k)}return ye()})},a}function _c(e,r,o){var a=Us(e);return e.toSeq().map(function(u,f){return a(r.call(o,u,f,e))}).flatten(!0)}function Tc(e,r){var o=Ft(e);return o.size=e.size&&2*e.size-1,o.__iterateUncached=function(a,u){var f=this,d=0;return e.__iterate(function(g){return(!d||a(r,d++,f)!==!1)&&a(g,d++,f)!==!1},u),d},o.__iteratorUncached=function(a,u){var f,d=e.__iterator(vt,u),g=0;return new J(function(){return(!f||g%2)&&(f=d.next(),f.done)?f:g%2?z(a,g++,r):z(a,g++,f.value,f)})},o}function vr(e,r,o){r||(r=Ws);var a=X(e),u=0,f=e.toSeq().map(function(d,g){return[g,d,u++,o?o(d,g,e):d]}).toArray();return f.sort(function(d,g){return r(d[3],g[3])||d[2]-g[2]}).forEach(a?function(d,g){f[g].length=2}:function(d,g){f[g]=d[1]}),a?E(f):ue(e)?I(f):b(f)}function zn(e,r,o){if(r||(r=Ws),o){var a=e.toSeq().map(function(u,f){return[u,o(u,f,e)]}).reduce(function(u,f){return Cs(r,u[1],f[1])?f:u});return a&&a[0]}return e.reduce(function(u,f){return Cs(r,u,f)?f:u})}function Cs(e,r,o){var a=e(o,r);return a===0&&o!==r&&(o==null||o!==o)||0<a}function Ri(e,r,o){var a=Ft(e);return a.size=new M(o).map(function(u){return u.size}).min(),a.__iterate=function(u,f){for(var d,g=this.__iterator(vt,f),O=0;!(d=g.next()).done&&u(d.value,O++,this)!==!1;);return O},a.__iteratorUncached=function(u,f){var d=o.map(function(k){return k=L(k),et(f?k.reverse():k)}),g=0,O=!1;return new J(function(){var k;return O||(k=d.map(function(N){return N.next()}),O=k.some(function(N){return N.done})),O?ye():z(u,g++,r.apply(null,k.map(function(N){return N.value})))})},a}function Ee(e,r){return _(e)?r:e.constructor(r)}function zs(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Rs(e){return lt(e.size),Z(e)}function Us(e){return X(e)?w:ue(e)?U:ne}function Ft(e){return Object.create((X(e)?E:ue(e)?I:b).prototype)}function Ui(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):x.prototype.cacheResult.call(this)}function Ws(e,r){return e>r?1:e<r?-1:0}function js(e){var r=et(e);if(!r){if(!Y(e))throw new TypeError("Expected iterable or array-like: "+e);r=et(L(e))}return r}function ct(e,r){var o,a=function(f){if(f instanceof a)return f;if(!(this instanceof a))return new a(f);if(!o){o=!0;var d=Object.keys(e);wc(u,d),u.size=d.length,u._name=r,u._keys=d,u._defaultValues=e}this._map=he(f)},u=a.prototype=Object.create(Ge);return u.constructor=a,a}function Rn(e,r,o){var a=Object.create(Object.getPrototypeOf(e));return a._map=r,a.__ownerID=o,a}function Ps(e){return e._name||e.constructor.name||"Record"}function wc(e,r){try{r.forEach(Ec.bind(void 0,e))}catch{}}function Ec(e,r){Object.defineProperty(e,r,{get:function(){return this.get(r)},set:function(a){An(this.__ownerID,"Cannot set on an immutable record."),this.set(r,a)}})}function De(e){return e==null?Pi():Wi(e)&&!de(e)?e:Pi().withMutations(function(r){var o=ne(e);lt(o.size),o.forEach(function(a){return r.add(a)})})}function Wi(e){return!!(e&&e[fa])}function ji(e,r){return e.__ownerID?(e.size=r.size,e._map=r,e):r===e._map?e:r.size===0?e.__empty():e.__make(r)}function Vs(e,r){var o=Object.create(ft);return o.size=e?e.size:0,o._map=e,o.__ownerID=r,o}function Pi(){return ha||(ha=Vs(Ot()))}function Lt(e){return e==null?Vi():qs(e)?e:Vi().withMutations(function(r){var o=ne(e);lt(o.size),o.forEach(function(a){return r.add(a)})})}function qs(e){return Wi(e)&&de(e)}function Hs(e,r){var o=Object.create(Wn);return o.size=e?e.size:0,o._map=e,o.__ownerID=r,o}function Vi(){return da||(da=Hs(Cn()))}function Ue(e){return e==null?qi():$s(e)?e:qi().unshiftAll(e)}function $s(e){return!!(e&&e[pa])}function qr(e,r,o,a){var u=Object.create(_r);return u.size=e,u._head=r,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function qi(){return ma||(ma=qr(0))}function Ct(e,r){var o=function(a){e.prototype[a]=r[a]};return Object.keys(r).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(o),e}function Ic(e,r){return r}function Sc(e,r){return[r,e]}function Un(e){return function(){return!e.apply(this,arguments)}}function Zs(e){return function(){return-e.apply(this,arguments)}}function Bs(e){return typeof e=="string"?JSON.stringify(e):e+""}function Oc(){return ie(arguments)}function Gs(e,r){return e<r?1:e>r?-1:0}function kc(e){if(e.size===1/0)return 0;var r=de(e),o=X(e),a=r?1:0,u=e.__iterate(o?r?function(f,d){a=0|31*a+Ys(ut(f),ut(d))}:function(f,d){a=0|a+Ys(ut(f),ut(d))}:r?function(f){a=0|31*a+ut(f)}:function(f){a=0|a+ut(f)});return Dc(u,a)}function Dc(e,r){return r=Zr(r,3432918353),r=Zr(r<<15|r>>>-15,461845907),r=Zr(r<<13|r>>>-13,5),r=(0|r+3864292196)^e,r=Zr(r^r>>>16,2246822507),r=Zr(r^r>>>13,3266489909),r=Si(r^r>>>16),r}function Ys(e,r){return 0|e^r+2654435769+(e<<6)+(e>>2)}var Js=Math.imul,nr=Math.max,mt=Array.prototype.slice;T(w,L),T(U,L),T(ne,L),L.isIterable=K,L.isKeyed=X,L.isIndexed=ue,L.isAssociative=fe,L.isOrdered=de,L.Keyed=w,L.Indexed=U,L.Set=ne;var Ks="@@__IMMUTABLE_ITERABLE__@@",Xs="@@__IMMUTABLE_KEYED__@@",Qs="@@__IMMUTABLE_INDEXED__@@",gr="@@__IMMUTABLE_ORDERED__@@",Hr="delete",ke=5,yt=1<<ke,tt=yt-1,le={},bc={value:!1},ea={value:!1},$r=0,vt=1,zt=2,Hi=typeof Symbol=="function"&&Symbol.iterator,ta="@@iterator",$i=Hi||ta;J.prototype.toString=function(){return"[Iterator]"},J.KEYS=$r,J.VALUES=vt,J.ENTRIES=zt,J.prototype.inspect=J.prototype.toSource=function(){return this.toString()},J.prototype[$i]=function(){return this},T(x,L),x.of=function(){return x(arguments)},x.prototype.toSeq=function(){return this},x.prototype.toString=function(){return this.__toString("Seq {","}")},x.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},x.prototype.__iterate=function(e,r){return oe(this,e,r,!0)},x.prototype.__iterator=function(e,r){return Me(this,e,r,!0)},T(E,x),E.prototype.toKeyedSeq=function(){return this},T(I,x),I.of=function(){return I(arguments)},I.prototype.toIndexedSeq=function(){return this},I.prototype.toString=function(){return this.__toString("Seq [","]")},I.prototype.__iterate=function(e,r){return oe(this,e,r,!1)},I.prototype.__iterator=function(e,r){return Me(this,e,r,!1)},T(b,x),b.of=function(){return b(arguments)},b.prototype.toSetSeq=function(){return this},x.isSeq=_,x.Keyed=E,x.Set=b,x.Indexed=I;var ra="@@__IMMUTABLE_SEQ__@@";x.prototype[ra]=!0,T(M,I),M.prototype.get=function(e,r){return this.has(e)?this._array[te(this,e)]:r},M.prototype.__iterate=function(e,r){for(var o=this._array,a=o.length-1,u=0;u<=a;u++)if(e(o[r?a-u:u],u,this)===!1)return u+1;return u},M.prototype.__iterator=function(e,r){var o=this._array,a=o.length-1,u=0;return new J(function(){return u>a?ye():z(e,u,o[r?a-u++:u++])})},T(F,E),F.prototype.get=function(e,r){return r===void 0||this.has(e)?this._object[e]:r},F.prototype.has=function(e){return this._object.hasOwnProperty(e)},F.prototype.__iterate=function(e,r){for(var o,a=this._object,u=this._keys,f=u.length-1,d=0;d<=f;d++)if(o=u[r?f-d:d],e(a[o],o,this)===!1)return d+1;return d},F.prototype.__iterator=function(e,r){var o=this._object,a=this._keys,u=a.length-1,f=0;return new J(function(){var d=a[r?u-f:f];return f++>u?ye():z(e,d,o[d])})},F.prototype[gr]=!0,T(S,I),S.prototype.__iterateUncached=function(e,r){if(r)return this.cacheResult().__iterate(e,r);var o=this._iterable,a=et(o),u=0;if(je(a))for(var f;!(f=a.next()).done&&e(f.value,u++,this)!==!1;);return u},S.prototype.__iteratorUncached=function(e,r){if(r)return this.cacheResult().__iterator(e,r);var o=this._iterable,a=et(o);if(!je(a))return new J(ye);var u=0;return new J(function(){var f=a.next();return f.done?f:z(e,u++,f.value)})},T(p,I),p.prototype.__iterateUncached=function(e,r){if(r)return this.cacheResult().__iterate(e,r);for(var o=this._iterator,a=this._iteratorCache,u=0;u<a.length;)if(e(a[u],u++,this)===!1)return u;for(var f,d;!(f=o.next()).done&&(d=f.value,a[u]=d,e(d,u++,this)!==!1););return u},p.prototype.__iteratorUncached=function(e,r){if(r)return this.cacheResult().__iterator(e,r);var o=this._iterator,a=this._iteratorCache,u=0;return new J(function(){if(u>=a.length){var f=o.next();if(f.done)return f;a[u]=f.value}return z(e,u,a[u++])})};var na;T(Je,I),Je.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Je.prototype.get=function(e,r){return this.has(e)?this._value:r},Je.prototype.includes=function(e){return Re(this._value,e)},Je.prototype.slice=function(e,r){var o=this.size;return at(e,r,o)?this:new Je(this._value,Ze(r,o)-Ve(e,o))},Je.prototype.reverse=function(){return this},Je.prototype.indexOf=function(e){return Re(this._value,e)?0:-1},Je.prototype.lastIndexOf=function(e){return Re(this._value,e)?this.size:-1},Je.prototype.__iterate=function(e){for(var r=0;r<this.size;r++)if(e(this._value,r,this)===!1)return r+1;return r},Je.prototype.__iterator=function(e){var r=this,o=0;return new J(function(){return o<r.size?z(e,o++,r._value):ye()})},Je.prototype.equals=function(e){return e instanceof Je?Re(this._value,e._value):Ii(e)};var Zi;T(Be,I),Be.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step===1?"":" by "+this._step)+" ]"},Be.prototype.get=function(e,r){return this.has(e)?this._start+te(this,e)*this._step:r},Be.prototype.includes=function(e){var r=(e-this._start)/this._step;return 0<=r&&r<this.size&&r===Math.floor(r)},Be.prototype.slice=function(e,r){return at(e,r,this.size)?this:(e=Ve(e,this.size),r=Ze(r,this.size),r<=e?new Be(0,0):new Be(this.get(e,this._end),this.get(r,this._end),this._step))},Be.prototype.indexOf=function(e){var r=e-this._start;if(r%this._step==0){var o=r/this._step;if(0<=o&&o<this.size)return o}return-1},Be.prototype.lastIndexOf=function(e){return this.indexOf(e)},Be.prototype.__iterate=function(e,r){for(var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;f<=o;f++){if(e(u,f,this)===!1)return f+1;u+=r?-a:a}return f},Be.prototype.__iterator=function(e,r){var o=this.size-1,a=this._step,u=r?this._start+o*a:this._start,f=0;return new J(function(){var d=u;return u+=r?-a:a,f>o?ye():z(e,f++,d)})},Be.prototype.equals=function(e){return e instanceof Be?this._start===e._start&&this._end===e._end&&this._step===e._step:Ii(this,e)};var Bi;T($t,L),T(Ur,$t),T(cr,$t),T(Nn,$t),$t.Keyed=Ur,$t.Indexed=cr,$t.Set=Nn;var Gi,Zr=typeof Js=="function"?Js:function(e,r){e|=0,r|=0;var o=65535&e,a=65535&r;return 0|o*a+((e>>>16)*a+o*(r>>>16)<<16>>>0)},ia=Object.isExtensible,oa=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}(),Yi=typeof WeakMap=="function";Yi&&(Gi=new WeakMap);var Ji=0,ir="__immutablehash__";typeof Symbol=="function"&&(ir=Symbol(ir));var Mc=16,xc=255,Ki=0,Xi={};T(he,Ur),he.of=function(){var e=mt.call(arguments,0);return Ot().withMutations(function(r){for(var o=0;o<e.length;o+=2){if(o+1>=e.length)throw new Error("Missing value for key: "+e[o]);r.set(e[o],e[o+1])}})},he.prototype.toString=function(){return this.__toString("Map {","}")},he.prototype.get=function(e,r){return this._root?this._root.get(0,void 0,e,r):r},he.prototype.set=function(e,r){return vs(this,e,r)},he.prototype.setIn=function(e,r){return this.updateIn(e,le,function(){return r})},he.prototype.remove=function(e){return vs(this,e,le)},he.prototype.deleteIn=function(e){return this.updateIn(e,function(){return le})},he.prototype.update=function(e,r,o){return arguments.length===1?e(this):this.updateIn([e],r,o)},he.prototype.updateIn=function(e,r,o){o||(o=r,r=void 0);var a=Es(this,js(e),r,o);return a===le?void 0:a},he.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ot()},he.prototype.merge=function(){return Fn(this,void 0,arguments)},he.prototype.mergeWith=function(e){var r=mt.call(arguments,1);return Fn(this,e,r)},he.prototype.mergeIn=function(e){var r=mt.call(arguments,1);return this.updateIn(e,Ot(),function(o){return typeof o.merge=="function"?o.merge.apply(o,r):r[r.length-1]})},he.prototype.mergeDeep=function(){return Fn(this,_s,arguments)},he.prototype.mergeDeepWith=function(e){var r=mt.call(arguments,1);return Fn(this,Ts(e),r)},he.prototype.mergeDeepIn=function(e){var r=mt.call(arguments,1);return this.updateIn(e,Ot(),function(o){return typeof o.mergeDeep=="function"?o.mergeDeep.apply(o,r):r[r.length-1]})},he.prototype.sort=function(e){return ze(vr(this,e))},he.prototype.sortBy=function(e,r){return ze(vr(this,r,e))},he.prototype.withMutations=function(e){var r=this.asMutable();return e(r),r.wasAltered()?r.__ensureOwner(this.__ownerID):this},he.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new Te)},he.prototype.asImmutable=function(){return this.__ensureOwner()},he.prototype.wasAltered=function(){return this.__altered},he.prototype.__iterator=function(e,r){return new Di(this,e,r)},he.prototype.__iterate=function(e,r){var o=this,a=0;return this._root&&this._root.iterate(function(u){return a++,e(u[1],u[0],o)},r),a},he.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Mi(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},he.isMap=ki;var sa="@@__IMMUTABLE_MAP__@@",ae=he.prototype;ae[sa]=!0,ae[Hr]=ae.remove,ae.removeIn=ae.deleteIn,Wr.prototype.get=function(e,r,o,a){for(var u=this.entries,f=0,d=u.length;f<d;f++)if(Re(o,u[f][0]))return u[f][1];return a},Wr.prototype.update=function(e,r,o,a,u,f,d){for(var g=u===le,O=this.entries,k=0,N=O.length;k<N&&!Re(a,O[k][0]);k++);var j=k<N;if(j?O[k][1]===u:g)return this;if(_e(d),(g||!j)&&_e(f),!(g&&O.length===1)){if(!j&&!g&&O.length>=Ac)return lc(e,O,a,u);var $=e&&e===this.ownerID,Q=$?O:ie(O);return j?g?k==N-1?Q.pop():Q[k]=Q.pop():Q[k]=[a,u]:Q.push([a,u]),$?(this.entries=Q,this):new Wr(e,Q)}},fr.prototype.get=function(e,r,o,a){r===void 0&&(r=ut(o));var u=1<<((e===0?r:r>>>e)&tt),f=this.bitmap;return f&u?this.nodes[Is(f&u-1)].get(e+ke,r,o,a):a},fr.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=(r===0?o:o>>>r)&tt,O=1<<g,k=this.bitmap,N=(k&O)!=0;if(!N&&u===le)return this;var j=Is(k&O-1),$=this.nodes,Q=N?$[j]:void 0,ce=xi(Q,e,r+ke,o,a,u,f,d);if(ce===Q)return this;if(!N&&ce&&$.length>=Nc)return fc(e,$,k,g,ce);if(N&&!ce&&$.length===2&&gs($[1^j]))return $[1^j];if(N&&ce&&$.length===1&&gs(ce))return ce;var xe=e&&e===this.ownerID,gt=N?ce?k:k^O:k|O,kt=N?ce?Ss($,j,ce,xe):dc($,j,xe):hc($,j,ce,xe);return xe?(this.bitmap=gt,this.nodes=kt,this):new fr(e,gt,kt)},jr.prototype.get=function(e,r,o,a){r===void 0&&(r=ut(o));var u=(e===0?r:r>>>e)&tt,f=this.nodes[u];return f?f.get(e+ke,r,o,a):a},jr.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=(r===0?o:o>>>r)&tt,O=this.nodes,k=O[g];if(u===le&&!k)return this;var N=xi(k,e,r+ke,o,a,u,f,d);if(N===k)return this;var j=this.count;if(!k)j++;else if(!N&&(j--,j<Fc))return cc(e,O,j,g);var $=e&&e===this.ownerID,Q=Ss(O,g,N,$);return $?(this.count=j,this.nodes=Q,this):new jr(e,j,Q)},hr.prototype.get=function(e,r,o,a){for(var u=this.entries,f=0,d=u.length;f<d;f++)if(Re(o,u[f][0]))return u[f][1];return a},hr.prototype.update=function(e,r,o,a,u,f,d){o===void 0&&(o=ut(a));var g=u===le;if(o!==this.keyHash)return g?this:(_e(d),_e(f),Ai(this,e,r,o,[a,u]));for(var O=this.entries,k=0,N=O.length;k<N&&!Re(a,O[k][0]);k++);var j=k<N;if(j?O[k][1]===u:g)return this;if(_e(d),(g||!j)&&_e(f),g&&N===2)return new Wt(e,this.keyHash,O[1^k]);var $=e&&e===this.ownerID,Q=$?O:ie(O);return j?g?k==N-1?Q.pop():Q[k]=Q.pop():Q[k]=[a,u]:Q.push([a,u]),$?(this.entries=Q,this):new hr(e,this.keyHash,Q)},Wt.prototype.get=function(e,r,o,a){return Re(o,this.entry[0])?this.entry[1]:a},Wt.prototype.update=function(e,r,o,a,u,f,d){var g=u===le,O=Re(a,this.entry[0]);return(O?u===this.entry[1]:g)?this:(_e(d),g?void _e(f):O?e&&e===this.ownerID?(this.entry[1]=u,this):new Wt(e,this.keyHash,[a,u]):(_e(f),Ai(this,e,r,ut(a),[a,u])))},Wr.prototype.iterate=hr.prototype.iterate=function(e,r){for(var o=this.entries,a=0,u=o.length-1;a<=u;a++)if(e(o[r?u-a:a])===!1)return!1},fr.prototype.iterate=jr.prototype.iterate=function(e,r){for(var o,a=this.nodes,u=0,f=a.length-1;u<=f;u++)if(o=a[r?f-u:u],o&&o.iterate(e,r)===!1)return!1},Wt.prototype.iterate=function(e){return e(this.entry)},T(Di,J),Di.prototype.next=function(){for(var e=this._type,r=this._stack;r;){var o,a=r.node,u=r.index++;if(a.entry){if(u==0)return bi(e,a.entry)}else if(a.entries){if(o=a.entries.length-1,u<=o)return bi(e,a.entries[this._reverse?o-u:u])}else if(o=a.nodes.length-1,u<=o){var f=a.nodes[this._reverse?o-u:u];if(f){if(f.entry)return bi(e,f.entry);r=this._stack=ys(f,r)}continue}r=this._stack=this._stack.__prev}return ye()};var aa,Ac=yt/4,Nc=yt/2,Fc=yt/4;T(Oe,cr),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("List [","]")},Oe.prototype.get=function(e,r){if(e=te(this,e),0<=e&&e<this.size){e+=this._origin;var o=Ds(this,e);return o&&o.array[e&tt]}return r},Oe.prototype.set=function(e,r){return pc(this,e,r)},Oe.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Oe.prototype.insert=function(e,r){return this.splice(e,0,r)},Oe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ke,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ni()},Oe.prototype.push=function(){var e=arguments,r=this.size;return this.withMutations(function(o){Bt(o,0,r+e.length);for(var a=0;a<e.length;a++)o.set(r+a,e[a])})},Oe.prototype.pop=function(){return Bt(this,0,-1)},Oe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(r){Bt(r,-e.length);for(var o=0;o<e.length;o++)r.set(o,e[o])})},Oe.prototype.shift=function(){return Bt(this,1)},Oe.prototype.merge=function(){return Ln(this,void 0,arguments)},Oe.prototype.mergeWith=function(e){var r=mt.call(arguments,1);return Ln(this,e,r)},Oe.prototype.mergeDeep=function(){return Ln(this,_s,arguments)},Oe.prototype.mergeDeepWith=function(e){var r=mt.call(arguments,1);return Ln(this,Ts(e),r)},Oe.prototype.setSize=function(e){return Bt(this,0,e)},Oe.prototype.slice=function(e,r){var o=this.size;return at(e,r,o)?this:Bt(this,Ve(e,o),Ze(r,o))},Oe.prototype.__iterator=function(e,r){var o=0,a=ks(this,r);return new J(function(){var u=a();return u===Br?ye():z(e,o++,u)})},Oe.prototype.__iterate=function(e,r){for(var o,a=0,u=ks(this,r);(o=u())!==Br&&e(o,a++,this)!==!1;);return a},Oe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Pr(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Oe.isList=Os;var ua="@@__IMMUTABLE_LIST__@@",rt=Oe.prototype;rt[ua]=!0,rt[Hr]=rt.remove,rt.setIn=ae.setIn,rt.deleteIn=rt.removeIn=ae.removeIn,rt.update=ae.update,rt.updateIn=ae.updateIn,rt.mergeIn=ae.mergeIn,rt.mergeDeepIn=ae.mergeDeepIn,rt.withMutations=ae.withMutations,rt.asMutable=ae.asMutable,rt.asImmutable=ae.asImmutable,rt.wasAltered=ae.wasAltered,Zt.prototype.removeBefore=function(e,r,o){if(o===r?1<<r:this.array.length===0)return this;var a=o>>>r&tt;if(a>=this.array.length)return new Zt([],e);var u,f=a==0;if(0<r){var d=this.array[a];if(u=d&&d.removeBefore(e,r-ke,o),u===d&&f)return this}if(f&&!u)return this;var g=dr(this,e);if(!f)for(var O=0;O<a;O++)g.array[O]=void 0;return u&&(g.array[a]=u),g},Zt.prototype.removeAfter=function(e,r,o){if(o===(r?1<<r:0)||this.array.length===0)return this;var a=o-1>>>r&tt;if(a>=this.array.length)return this;var u;if(0<r){var f=this.array[a];if(u=f&&f.removeAfter(e,r-ke,o),u===f&&a==this.array.length-1)return this}var d=dr(this,e);return d.array.splice(a+1),u&&(d.array[a]=u),d};var la,Br={};T(ze,he),ze.of=function(){return this(arguments)},ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},ze.prototype.get=function(e,r){var o=this._map.get(e);return o===void 0?r:this._list.get(o)[1]},ze.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Cn()},ze.prototype.set=function(e,r){return Ms(this,e,r)},ze.prototype.remove=function(e){return Ms(this,e,le)},ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},ze.prototype.__iterate=function(e,r){var o=this;return this._list.__iterate(function(a){return a&&e(a[1],a[0],o)},r)},ze.prototype.__iterator=function(e,r){return this._list.fromEntrySeq().__iterator(e,r)},ze.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map.__ensureOwner(e),o=this._list.__ensureOwner(e);return e?Li(r,o,e,this.__hash):(this.__ownerID=e,this._map=r,this._list=o,this)},ze.isOrderedMap=bs,ze.prototype[gr]=!0,ze.prototype[Hr]=ze.prototype.remove;var ca;T(pt,E),pt.prototype.get=function(e,r){return this._iter.get(e,r)},pt.prototype.has=function(e){return this._iter.has(e)},pt.prototype.valueSeq=function(){return this._iter.valueSeq()},pt.prototype.reverse=function(){var e=this,r=Ci(this,!0);return this._useKeys||(r.valueSeq=function(){return e._iter.toSeq().reverse()}),r},pt.prototype.map=function(e,r){var o=this,a=As(this,e,r);return this._useKeys||(a.valueSeq=function(){return o._iter.toSeq().map(e,r)}),a},pt.prototype.__iterate=function(e,r){var o,a=this;return this._iter.__iterate(this._useKeys?function(u,f){return e(u,f,a)}:(o=r?Rs(this):0,function(u){return e(u,r?--o:o++,a)}),r)},pt.prototype.__iterator=function(e,r){if(this._useKeys)return this._iter.__iterator(e,r);var o=this._iter.__iterator(vt,r),a=r?Rs(this):0;return new J(function(){var u=o.next();return u.done?u:z(e,r?--a:a++,u.value,u)})},pt.prototype[gr]=!0,T(pr,I),pr.prototype.includes=function(e){return this._iter.includes(e)},pr.prototype.__iterate=function(e,r){var o=this,a=0;return this._iter.__iterate(function(u){return e(u,a++,o)},r)},pr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r),a=0;return new J(function(){var u=o.next();return u.done?u:z(e,a++,u.value,u)})},T(mr,b),mr.prototype.has=function(e){return this._iter.includes(e)},mr.prototype.__iterate=function(e,r){var o=this;return this._iter.__iterate(function(a){return e(a,a,o)},r)},mr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r);return new J(function(){var a=o.next();return a.done?a:z(e,a.value,a.value,a)})},T(yr,E),yr.prototype.entrySeq=function(){return this._iter.toSeq()},yr.prototype.__iterate=function(e,r){var o=this;return this._iter.__iterate(function(a){if(a){zs(a);var u=K(a);return e(u?a.get(1):a[1],u?a.get(0):a[0],o)}},r)},yr.prototype.__iterator=function(e,r){var o=this._iter.__iterator(vt,r);return new J(function(){for(;;){var a=o.next();if(a.done)return a;var u=a.value;if(u){zs(u);var f=K(u);return z(e,f?u.get(0):u[0],f?u.get(1):u[1],a)}}})},pr.prototype.cacheResult=pt.prototype.cacheResult=mr.prototype.cacheResult=yr.prototype.cacheResult=Ui,T(ct,Ur),ct.prototype.toString=function(){return this.__toString(Ps(this)+" {","}")},ct.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},ct.prototype.get=function(e,r){if(!this.has(e))return r;var o=this._defaultValues[e];return this._map?this._map.get(e,o):o},ct.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Rn(this,Ot()))},ct.prototype.set=function(e,r){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Ps(this));if(this._map&&!this._map.has(e)){var o=this._defaultValues[e];if(r===o)return this}var a=this._map&&this._map.set(e,r);return this.__ownerID||a===this._map?this:Rn(this,a)},ct.prototype.remove=function(e){if(!this.has(e))return this;var r=this._map&&this._map.remove(e);return this.__ownerID||r===this._map?this:Rn(this,r)},ct.prototype.wasAltered=function(){return this._map.wasAltered()},ct.prototype.__iterator=function(e,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterator(e,r)},ct.prototype.__iterate=function(e,r){var o=this;return w(this._defaultValues).map(function(a,u){return o.get(u)}).__iterate(e,r)},ct.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map&&this._map.__ensureOwner(e);return e?Rn(this,r,e):(this.__ownerID=e,this._map=r,this)};var Ge=ct.prototype;Ge[Hr]=Ge.remove,Ge.deleteIn=Ge.removeIn=ae.removeIn,Ge.merge=ae.merge,Ge.mergeWith=ae.mergeWith,Ge.mergeIn=ae.mergeIn,Ge.mergeDeep=ae.mergeDeep,Ge.mergeDeepWith=ae.mergeDeepWith,Ge.mergeDeepIn=ae.mergeDeepIn,Ge.setIn=ae.setIn,Ge.update=ae.update,Ge.updateIn=ae.updateIn,Ge.withMutations=ae.withMutations,Ge.asMutable=ae.asMutable,Ge.asImmutable=ae.asImmutable,T(De,Nn),De.of=function(){return this(arguments)},De.fromKeys=function(e){return this(w(e).keySeq())},De.prototype.toString=function(){return this.__toString("Set {","}")},De.prototype.has=function(e){return this._map.has(e)},De.prototype.add=function(e){return ji(this,this._map.set(e,!0))},De.prototype.remove=function(e){return ji(this,this._map.remove(e))},De.prototype.clear=function(){return ji(this,this._map.clear())},De.prototype.union=function(){var e=mt.call(arguments,0);return e=e.filter(function(r){return r.size!==0}),e.length===0?this:this.size!==0||this.__ownerID||e.length!==1?this.withMutations(function(r){for(var o=0;o<e.length;o++)ne(e[o]).forEach(function(a){return r.add(a)})}):this.constructor(e[0])},De.prototype.intersect=function(){var e=mt.call(arguments,0);if(e.length===0)return this;e=e.map(function(o){return ne(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){e.every(function(u){return u.includes(a)})||o.remove(a)})})},De.prototype.subtract=function(){var e=mt.call(arguments,0);if(e.length===0)return this;e=e.map(function(o){return ne(o)});var r=this;return this.withMutations(function(o){r.forEach(function(a){e.some(function(u){return u.includes(a)})&&o.remove(a)})})},De.prototype.merge=function(){return this.union.apply(this,arguments)},De.prototype.mergeWith=function(){var e=mt.call(arguments,1);return this.union.apply(this,e)},De.prototype.sort=function(e){return Lt(vr(this,e))},De.prototype.sortBy=function(e,r){return Lt(vr(this,r,e))},De.prototype.wasAltered=function(){return this._map.wasAltered()},De.prototype.__iterate=function(e,r){var o=this;return this._map.__iterate(function(a,u){return e(u,u,o)},r)},De.prototype.__iterator=function(e,r){return this._map.map(function(o,a){return a}).__iterator(e,r)},De.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._map.__ensureOwner(e);return e?this.__make(r,e):(this.__ownerID=e,this._map=r,this)},De.isSet=Wi;var fa="@@__IMMUTABLE_SET__@@",ft=De.prototype;ft[fa]=!0,ft[Hr]=ft.remove,ft.mergeDeep=ft.merge,ft.mergeDeepWith=ft.mergeWith,ft.withMutations=ae.withMutations,ft.asMutable=ae.asMutable,ft.asImmutable=ae.asImmutable,ft.__empty=Pi,ft.__make=Vs;var ha;T(Lt,De),Lt.of=function(){return this(arguments)},Lt.fromKeys=function(e){return this(w(e).keySeq())},Lt.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Lt.isOrderedSet=qs;var Wn=Lt.prototype;Wn[gr]=!0,Wn.__empty=Vi,Wn.__make=Hs;var da;T(Ue,cr),Ue.of=function(){return this(arguments)},Ue.prototype.toString=function(){return this.__toString("Stack [","]")},Ue.prototype.get=function(e,r){var o=this._head;for(e=te(this,e);o&&e--;)o=o.next;return o?o.value:r},Ue.prototype.peek=function(){return this._head&&this._head.value},Ue.prototype.push=function(){if(arguments.length===0)return this;for(var e=this.size+arguments.length,r=this._head,o=arguments.length-1;0<=o;o--)r={value:arguments[o],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):qr(e,r)},Ue.prototype.pushAll=function(e){if(e=U(e),e.size===0)return this;lt(e.size);var r=this.size,o=this._head;return e.reverse().forEach(function(a){r++,o={value:a,next:o}}),this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):qr(r,o)},Ue.prototype.pop=function(){return this.slice(1)},Ue.prototype.unshift=function(){return this.push.apply(this,arguments)},Ue.prototype.unshiftAll=function(e){return this.pushAll(e)},Ue.prototype.shift=function(){return this.pop.apply(this,arguments)},Ue.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):qi()},Ue.prototype.slice=function(e,r){if(at(e,r,this.size))return this;var o=Ve(e,this.size),a=Ze(r,this.size);if(a!==this.size)return cr.prototype.slice.call(this,e,r);for(var u=this.size-o,f=this._head;o--;)f=f.next;return this.__ownerID?(this.size=u,this._head=f,this.__hash=void 0,this.__altered=!0,this):qr(u,f)},Ue.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?qr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ue.prototype.__iterate=function(e,r){if(r)return this.reverse().__iterate(e);for(var o=0,a=this._head;a&&e(a.value,o++,this)!==!1;)a=a.next;return o},Ue.prototype.__iterator=function(e,r){if(r)return this.reverse().__iterator(e);var o=0,a=this._head;return new J(function(){if(a){var u=a.value;return a=a.next,z(e,o++,u)}return ye()})},Ue.isStack=$s;var pa="@@__IMMUTABLE_STACK__@@",_r=Ue.prototype;_r[pa]=!0,_r.withMutations=ae.withMutations,_r.asMutable=ae.asMutable,_r.asImmutable=ae.asImmutable,_r.wasAltered=ae.wasAltered;var ma;L.Iterator=J,Ct(L,{toArray:function(){lt(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(o,a){r[a]=o}),r},toIndexedSeq:function(){return new pr(this)},toJS:function(){return this.toSeq().map(function(r){return r&&typeof r.toJS=="function"?r.toJS():r}).__toJS()},toJSON:function(){return this.toSeq().map(function(r){return r&&typeof r.toJSON=="function"?r.toJSON():r}).__toJS()},toKeyedSeq:function(){return new pt(this,!0)},toMap:function(){return he(this.toKeyedSeq())},toObject:function(){lt(this.size);var r={};return this.__iterate(function(o,a){r[a]=o}),r},toOrderedMap:function(){return ze(this.toKeyedSeq())},toOrderedSet:function(){return Lt(X(this)?this.valueSeq():this)},toSet:function(){return De(X(this)?this.valueSeq():this)},toSetSeq:function(){return new mr(this)},toSeq:function(){return ue(this)?this.toIndexedSeq():X(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ue(X(this)?this.valueSeq():this)},toList:function(){return Oe(X(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(r,o){return this.size===0?r+o:r+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){var r=mt.call(arguments,0);return Ee(this,gc(this,r))},includes:function(r){return this.some(function(o){return Re(o,r)})},entries:function(){return this.__iterator(zt)},every:function(r,o){lt(this.size);var a=!0;return this.__iterate(function(u,f,d){if(!r.call(o,u,f,d))return a=!1,!1}),a},filter:function(r,o){return Ee(this,Ns(this,r,o,!0))},find:function(r,o,a){var u=this.findEntry(r,o);return u?u[1]:a},forEach:function(r,o){return lt(this.size),this.__iterate(o?r.bind(o):r)},join:function(r){lt(this.size),r=r===void 0?",":""+r;var o="",a=!0;return this.__iterate(function(u){a?a=!1:o+=r,o+=u!=null?u.toString():""}),o},keys:function(){return this.__iterator($r)},map:function(r,o){return Ee(this,As(this,r,o))},reduce:function(r,o,a){lt(this.size);var u,f;return 2>arguments.length?f=!0:u=o,this.__iterate(function(d,g,O){f?(f=!1,u=d):u=r.call(a,u,d,g,O)}),u},reduceRight:function(){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Ee(this,Ci(this,!0))},slice:function(r,o){return Ee(this,zi(this,r,o,!0))},some:function(r,o){return!this.every(Un(r),o)},sort:function(r){return Ee(this,vr(this,r))},values:function(){return this.__iterator(vt)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size===void 0?!this.some(function(){return!0}):this.size===0},count:function(r,o){return Z(r?this.toSeq().filter(r,o):this)},countBy:function(r,o){return mc(this,r,o)},equals:function(r){return Ii(this,r)},entrySeq:function(){var r=this;if(r._cache)return new M(r._cache);var o=r.toSeq().map(Sc).toIndexedSeq();return o.fromEntrySeq=function(){return r.toSeq()},o},filterNot:function(r,o){return this.filter(Un(r),o)},findEntry:function(r,o,a){var u=a;return this.__iterate(function(f,d,g){if(r.call(o,f,d,g))return u=[d,f],!1}),u},findKey:function(r,o){var a=this.findEntry(r,o);return a&&a[0]},findLast:function(r,o,a){return this.toKeyedSeq().reverse().find(r,o,a)},findLastEntry:function(r,o,a){return this.toKeyedSeq().reverse().findEntry(r,o,a)},findLastKey:function(r,o){return this.toKeyedSeq().reverse().findKey(r,o)},first:function(){return this.find(Pe)},flatMap:function(r,o){return Ee(this,_c(this,r,o))},flatten:function(r){return Ee(this,Ls(this,r,!0))},fromEntrySeq:function(){return new yr(this)},get:function(r,o){return this.find(function(a,u){return Re(u,r)},void 0,o)},getIn:function(r,o){for(var a,u,f=this,d=js(r);!(a=d.next()).done;)if(u=a.value,f=f&&f.get?f.get(u,le):le,f===le)return o;return f},groupBy:function(r,o){return yc(this,r,o)},has:function(r){return this.get(r,le)!==le},hasIn:function(r){return this.getIn(r,le)!==le},isSubset:function(r){return r=typeof r.includes=="function"?r:L(r),this.every(function(o){return r.includes(o)})},isSuperset:function(r){return r=typeof r.isSubset=="function"?r:L(r),r.isSubset(this)},keyOf:function(r){return this.findKey(function(o){return Re(o,r)})},keySeq:function(){return this.toSeq().map(Ic).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(r){return this.toKeyedSeq().reverse().keyOf(r)},max:function(r){return zn(this,r)},maxBy:function(r,o){return zn(this,o,r)},min:function(r){return zn(this,r?Zs(r):Gs)},minBy:function(r,o){return zn(this,o?Zs(o):Gs,r)},rest:function(){return this.slice(1)},skip:function(r){return this.slice(nr(0,r))},skipLast:function(r){return Ee(this,this.toSeq().reverse().skip(r).reverse())},skipWhile:function(r,o){return Ee(this,Fs(this,r,o,!0))},skipUntil:function(r,o){return this.skipWhile(Un(r),o)},sortBy:function(r,o){return Ee(this,vr(this,o,r))},take:function(r){return this.slice(0,nr(0,r))},takeLast:function(r){return Ee(this,this.toSeq().reverse().take(r).reverse())},takeWhile:function(r,o){return Ee(this,vc(this,r,o))},takeUntil:function(r,o){return this.takeWhile(Un(r),o)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=kc(this))}});var nt=L.prototype;nt[Ks]=!0,nt[$i]=nt.values,nt.__toJS=nt.toArray,nt.__toStringMapper=Bs,nt.inspect=nt.toSource=function(){return this.toString()},nt.chain=nt.flatMap,nt.contains=nt.includes,Ct(w,{flip:function(){return Ee(this,xs(this))},mapEntries:function(r,o){var a=this,u=0;return Ee(this,this.toSeq().map(function(f,d){return r.call(o,[d,f],u++,a)}).fromEntrySeq())},mapKeys:function(r,o){var a=this;return Ee(this,this.toSeq().flip().map(function(u,f){return r.call(o,u,f,a)}).flip())}});var jn=w.prototype;return jn[Xs]=!0,jn[$i]=nt.entries,jn.__toJS=nt.toObject,jn.__toStringMapper=function(e,r){return JSON.stringify(r)+": "+Bs(e)},Ct(U,{toKeyedSeq:function(){return new pt(this,!1)},filter:function(r,o){return Ee(this,Ns(this,r,o,!1))},findIndex:function(r,o){var a=this.findEntry(r,o);return a?a[0]:-1},indexOf:function(r){var o=this.keyOf(r);return o===void 0?-1:o},lastIndexOf:function(r){var o=this.lastKeyOf(r);return o===void 0?-1:o},reverse:function(){return Ee(this,Ci(this,!1))},slice:function(r,o){return Ee(this,zi(this,r,o,!1))},splice:function(r,o){var a=arguments.length;if(o=nr(0|o,0),a===0||a===2&&!o)return this;r=Ve(r,0>r?this.count():this.size);var u=this.slice(0,r);return Ee(this,a===1?u:u.concat(ie(arguments,2),this.slice(r+o)))},findLastIndex:function(r,o){var a=this.findLastEntry(r,o);return a?a[0]:-1},first:function(){return this.get(0)},flatten:function(r){return Ee(this,Ls(this,r,!1))},get:function(r,o){return r=te(this,r),0>r||this.size===1/0||this.size!==void 0&&r>this.size?o:this.find(function(a,u){return u===r},void 0,o)},has:function(r){return r=te(this,r),0<=r&&(this.size===void 0?this.indexOf(r)!==-1:this.size===1/0||r<this.size)},interpose:function(r){return Ee(this,Tc(this,r))},interleave:function(){var r=[this].concat(ie(arguments)),o=Ri(this.toSeq(),I.of,r),a=o.flatten(!0);return o.size&&(a.size=o.size*r.length),Ee(this,a)},keySeq:function(){return Be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(r,o){return Ee(this,Fs(this,r,o,!1))},zip:function(){var r=[this].concat(ie(arguments));return Ee(this,Ri(this,Oc,r))},zipWith:function(r){var o=ie(arguments);return o[0]=this,Ee(this,Ri(this,r,o))}}),U.prototype[Qs]=!0,U.prototype[gr]=!0,Ct(ne,{get:function(r,o){return this.has(r)?r:o},includes:function(r){return this.has(r)},keySeq:function(){return this.valueSeq()}}),ne.prototype.has=nt.includes,ne.prototype.contains=ne.prototype.includes,Ct(E,w.prototype),Ct(I,U.prototype),Ct(b,ne.prototype),Ct(Ur,w.prototype),Ct(cr,U.prototype),Ct(Nn,ne.prototype),{Iterable:L,Seq:x,Collection:$t,Map:he,OrderedMap:ze,List:Oe,Stack:Ue,Set:De,OrderedSet:Lt,Record:ct,Range:Be,Repeat:Je,is:Re,fromJS:St}})}),P=i(function(v,T){(function(L,w){w(T,C)})(t,function(L){"use strict";function w(p,_){for(var A=Object.getOwnPropertyNames(_),R=0;R<A.length;R++){var V=A[R],H=Object.getOwnPropertyDescriptor(_,V);H&&H.configurable&&p[V]===void 0&&Object.defineProperty(p,V,H)}return p}function U(p,_){if(!(p instanceof _))throw new TypeError("Cannot call a class as a function")}function ne(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof _>"u"?"undefined":s(_)));p.prototype=Object.create(_&&_.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(p,_):w(p,_))}function K(){}var X=function(){function p(_,A){for(var R,V=0;V<A.length;V++)R=A[V],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}return function(_,A,R){return A&&p(_.prototype,A),R&&p(_,R),_}}(),ue=function(p,_,A){var R=!0;e:for(;R;){var V=p,H=_,re=A;R=!1,V===null&&(V=Function.prototype);var oe=Object.getOwnPropertyDescriptor(V,H);if(oe===void 0){var Me=Object.getPrototypeOf(V);if(Me===null)return;p=Me,_=H,A=re,R=!0,oe=Me=void 0;continue e}else{if("value"in oe)return oe.value;var St=oe.get;return St===void 0?void 0:St.call(re)}}};if(typeof fe>"u"){var fe=function(p){return"@@"+p};fe.for=fe}L.construct=function(p){return K.prototype=p.constructor.prototype,new K};var de=fe.for("typed/type"),We=fe.for("typed/store"),_e=fe.for("typed/empty"),Te=fe.for("typed/type/maybe"),ie=fe.for("typed/type/default"),Z=fe.for("typed/type/label"),te=fe.for("transducer/init"),Pe=fe.for("transducer/result"),at=fe.for("transducer/step"),Ve=fe.for("typed/type/read"),Ze=fe.for("typed/type/parse"),Ce=fe("typed/type/name"),J=fe("typed/type/signature"),z=function(p,_,A){var R=function(re){function oe(Me){U(this,oe),ue(Object.getPrototypeOf(oe.prototype),"constructor",this).call(this),this[ie]=Me}return ne(oe,re),oe}(Qe),V=R.prototype;V[ie]=A,V[Ze]=_,V[Z]=p;var H=function(re){return re===void 0?V:new R(re)};return H.prototype=V,H};L.Typed=z,z.label=Z,z.defaultValue=ie,z.read=Ve,z.typeName=Ce,z.typeSignature=J,z.type=de,z.store=We,z.init=te,z.result=Pe,z.step=at,z.DELETE="delete",z.empty=_e;var ye=function(p){return p[Ce]()},Qe=function(){function p(){U(this,p)}return X(p,[{key:z.read,value:function(){var _=0>=arguments.length||arguments[0]===void 0?this[ie]:arguments[0];return this[Ze](_)}},{key:z.parse,value:function(){throw TypeError('Type implementation must implement "[read.symbol]" method')}},{key:z.typeName,value:function(){var _=this[Z],A=this[ie];return A===void 0?_:_+"("+JSON.stringify(A)+")"}}]),p}();L.Type=Qe;var je=Object.prototype,et=Array.isArray||function(p){return je.toString.call(p)==="[object Array]"},G=function(p){return je.toString.call(p)==="[object RegExp]"},Y=function(p){var _=1>=arguments.length||arguments[1]===void 0?typeof p>"u"?"undefined":s(p):arguments[1];return function(){return p===void 0||p===null||p[Ve]?p:p.prototype&&p.prototype[Ve]?p.prototype:_==="number"?new z.Number(p):_==="string"?new z.String(p):_==="boolean"?new z.Boolean(p):_==="symbol"?new z.Symbol(p):et(p)?z.Array(p):G(p)?new z.RegExp(p):p===String?z.String.prototype:p===Number?z.Number.prototype:p===Boolean?z.Boolean.prototype:p===RegExp?z.RegExp.prototype:p===Array?z.Array.prototype:p===fe?z.Symbol.prototype:p===Date?z.Date.prototype:x}()};L.typeOf=Y;var x=z("Any",function(p){return p})();L.Any=x,z.Any=x,z.Number=z("Number",function(p){return typeof p=="number"?p:TypeError('"'+p+'" is not a number')}),z.String=z("String",function(p){return typeof p=="string"?p:TypeError('"'+p+'" is not a string')}),z.Symbol=z("Symbol",function(p){return(typeof p>"u"?"undefined":s(p))==="symbol"?p:TypeError('"'+p+'" is not a symbol')}),z.Array=z("Array",function(p){return et(p)?p:TypeError('"'+p+'" is not an array')}),z.RegExp=z("RegExp",function(p){return p instanceof RegExp?p:TypeError('"'+p+'" is not a regexp')}),z.Boolean=z("Boolean",function(p){return p===!0||p!==!1&&TypeError('"'+p+'" is not a boolean')}),z.Date=z("Date",function(p){var _=new Date(p);return isNaN(_.valueOf())?new TypeError('"'+p+'" is not a valid date.'):_});var E=function(p){function _(A){U(this,_),ue(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[de]=A}return ne(_,p),X(_,[{key:z.typeName,value:function(){return"Maybe("+this[de][Ce]()+")"}},{key:z.read,value:function(A){var R=A==null?null:this[de][Ve](A);return R instanceof TypeError?TypeError('"'+A+'" is not nully nor it is of '+this[de][Ce]()+" type"):R}}]),_}(Qe),I=function(p){var _=Y(p);if(_===x)throw TypeError(p+" is not a valid type");return _[Te]||(_[Te]=new E(_))};L.Maybe=I,I.Type=E;var b=function(p){function _(A){U(this,_),ue(Object.getPrototypeOf(_.prototype),"constructor",this).call(this),this[de]=A}return ne(_,p),X(_,[{key:z.typeName,value:function(){return"Union("+this[de].map(ye).join(", ")+")"}},{key:z.read,value:function(A){for(var R,V=this[de],H=V.length,re=0;re<H;){if(R=V[re],A instanceof R.constructor)return A;++re}for(re=0;re<H;){var oe=V[re][Ve](A);if(!(oe instanceof TypeError))return oe;++re}return TypeError('"'+A+'" does not satisfy '+this[Ce]()+" type")}}]),_}(Qe),M=function(p,_){return p.filter(function(A){return 0>_.indexOf(A)})},F=function(p,_){if(p.length>_.length){var A=M(_,p);return A.length===0?p:p.concat(A)}var A=M(p,_);return A.length===0?_:A.concat(_)},S=function(){for(var p=arguments.length,_=Array(p),A=0;A<p;A++)_[A]=arguments[A];var R=_.length;if(R===0)throw TypeError("Union must be of at at least one type");for(var V=null,H=null,re=0;re<R;){var oe=Y(_[re]);if(oe===x)return x;if(!V)H=oe,V=H instanceof b?H[de]:[oe];else if(0>V.indexOf(oe))if(oe instanceof b){var Me=F(V,oe[de]);Me===oe[de]?(H=oe,V=Me):Me!==V&&(H=null,V=Me)}else H=null,V.push(oe);++re}return H||new b(V)};L.Union=S,S.Type=b,z.Number.Range=function(p,_,A){return _===void 0&&(_=1/0),z("Typed.Number.Range("+p+".."+_+")",function(R){return typeof R=="number"?R>=p&&R<=_?R:TypeError('"'+R+`" isn't in the range of `+p+".."+_):TypeError('"'+R+'" is not a number')},A)}})}),ee=i(function(v,T){(function(L,w){w(T,P,C)})(t,function(L,w,U){"use strict";function ne(Y,x){for(var E=Object.getOwnPropertyNames(x),I=0;I<E.length;I++){var b=E[I],M=Object.getOwnPropertyDescriptor(x,b);M&&M.configurable&&Y[b]===void 0&&Object.defineProperty(Y,b,M)}return Y}function K(Y,x,E){return x in Y?Object.defineProperty(Y,x,{value:E,enumerable:!0,configurable:!0,writable:!0}):Y[x]=E,Y}function X(Y,x){if(!(Y instanceof x))throw new TypeError("Cannot call a class as a function")}function ue(Y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof x>"u"?"undefined":s(x)));Y.prototype=Object.create(x&&x.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,x):ne(Y,x))}var fe=function(){function Y(x,E){var I,b=[],M=!0,F=!1;try{for(var S,p=x[Symbol.iterator]();!(M=(S=p.next()).done)&&(b.push(S.value),!(E&&b.length===E));M=!0);}catch(_){F=!0,I=_}finally{try{!M&&p.return&&p.return()}finally{if(F)throw I}}return b}return function(x,E){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return Y(x,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),de=function(){function Y(x,E){for(var I,b=0;b<E.length;b++)I=E[b],I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(x,I.key,I)}return function(x,E,I){return E&&Y(x.prototype,E),I&&Y(x,I),x}}(),We=function(Y,x,E){var I=!0;e:for(;I;){var b=Y,M=x,F=E;I=!1,b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,M);if(S===void 0){var p=Object.getPrototypeOf(b);if(p===null)return;Y=p,x=M,E=F,I=!0,S=p=void 0;continue e}else{if("value"in S)return S.value;var _=S.get;return _===void 0?void 0:_.call(F)}}},_e=U.Iterable.Keyed,Te=function(Y){return function(){return this.get(Y)}},ie=function(Y){return function(x){if(!this.__ownerID)throw TypeError("Cannot set on an immutable record.");this.set(Y,x)}},Z=w.Typed.store,te=w.Typed.type,Pe=w.Typed.step,at=w.Typed.init,Ve=w.Typed.result,Ze=w.Typed.read,Ce=w.Typed.label,J=w.Typed.empty,z=w.Typed.typeName,ye=w.Typed.typeSignature,Qe=function(){};Qe.prototype=U.Iterable.Keyed.prototype;var je=function(Y){function x(){X(this,x),We(Object.getPrototypeOf(x.prototype),"constructor",this).call(this)}return ue(x,Y),de(x,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(E){return E.asImmutable()}},{key:w.Typed.read,value:function(E){var I=this.constructor;if(E&&E instanceof I)return E;if(E===null||E&&(typeof E>"u"?"undefined":s(E))!=="object")return TypeError('Invalid data structure "'+E+'" was passed to '+this[z]());var b=(0,U.Seq)(E),M=this[te],F=b.size===0;if(F&&this[J])return this[J];var S;for(var p in M){var _=M[p],A=b.has(p)?b.get(p):this.get(p),R=_[Ze](A);if(R instanceof TypeError)return TypeError('Invalid value for "'+p+`" field:
 `+R.message);S=this[Pe](S||this[at](),[p,R])}return S=this[Ve](S),F&&(this[J]=S),S}},{key:w.Typed.step,value:function(E,I){var b=fe(I,2),M=b[0],F=b[1],S=E[Z]?E[Z].set(M,F):new U.Map([[M,F]]);if(E[Z]===S)return E;var p=E.__ownerID?E:(0,w.construct)(E);return p[Z]=S,p}},{key:w.Typed.typeSignature,value:function(){var E=this[te],I=[];for(var b in E)I.push(b+": "+E[b][z]());return"Typed.Record({"+I.join(", ")+"})"}},{key:w.Typed.typeName,value:function(){return this[Ce]||this[ye]()}},{key:"toString",value:function(){return this.__toString(this[z]()+"({","})")}},{key:"has",value:function(E){return!!this[te][E]}},{key:"get",value:function(E,I){return this[te][E]&&this[Z]?this[Z].get(E,I):I}},{key:"clear",value:function(){return this.__ownerID?(this[Z]&&this[Z].clear(),this):this[J]||(this[J]=new this.constructor)}},{key:"remove",value:function(E){return this[te][E]?this.set(E,void 0):this}},{key:"set",value:function(E,I){var b=this[te][E];if(!b)throw TypeError('Cannot set unknown field "'+E+'" on "'+this[z]()+'"');var M=b[Ze](I);if(M instanceof TypeError)throw TypeError("Invalid value for "+E+" field: "+M.message);return this[Pe](this,[E,M])}},{key:"__iterator",value:function(E,I){var b=this;return _e(this[te]).map(function(M,F){return b.get(F)}).__iterator(E,I)}},{key:"__iterate",value:function(E,I){var b=this;return _e(this[te]).map(function(M,F){return b.get(F)}).__iterate(E,I)}},{key:"__ensureOwner",value:function(E){if(E===this.__ownerID)return this;var I=this[Z]&&this[Z].__ensureOwner(E),b=E?(0,w.construct)(this):this;return b.__ownerID=E,b[Z]=I,b}},{key:"wasAltered",value:function(){return this[Z].wasAltered()}}]),x}(Qe),et=function(Y,x){if(Y&&(typeof Y>"u"?"undefined":s(Y))==="object"){var E=Object.create(null),I=Object.keys(Y),b=I.length;if(0<b){var M,F=function(){for(var S=(M={size:{value:b}},K(M,te,{value:E}),K(M,Ce,{value:x}),M),p=0;p<b;){var _=I[p],A=(0,w.typeOf)(Y[_]);if(A)E[_]=A,S[_]={get:Te(_),set:ie(_),enumerable:!0};else throw TypeError('Invalid field descriptor provided for a "'+_+'" field');++p}var R=function V(H){var re=this instanceof V,oe=re?this.constructor:V;if(H instanceof oe)return H;var Me=oe.prototype,St=Me[Ze](H);if(St instanceof TypeError)throw St;return re?void(this[Z]=St[Z]):St};return S.constructor={value:R},R.prototype=Object.create(G,S),R.prototype,{v:R}}();if((typeof F>"u"?"undefined":s(F))==="object")return F.v}else throw TypeError("Typed.Record descriptor must define at least one field")}else throw TypeError("Typed.Record must be passed a descriptor of fields")};L.Record=et,et.Type=je,et.prototype=je.prototype;var G=je.prototype;G[w.Typed.DELETE]=G.remove,G.deleteIn=U.Map.prototype.deleteIn,G.removeIn=U.Map.prototype.removeIn,G.merge=U.Map.prototype.merge,G.mergeWith=U.Map.prototype.mergeWith,G.mergeIn=U.Map.prototype.mergeIn,G.mergeDeep=U.Map.prototype.mergeDeep,G.mergeDeepWith=U.Map.prototype.mergeDeepWith,G.mergeDeepIn=U.Map.prototype.mergeDeepIn,G.setIn=U.Map.prototype.setIn,G.update=U.Map.prototype.update,G.updateIn=U.Map.prototype.updateIn,G.withMutations=U.Map.prototype.withMutations,G.asMutable=U.Map.prototype.asMutable,G.asImmutable=U.Map.prototype.asImmutable,G.map=void 0,G.filter=void 0,G.filterNot=void 0,G.flip=void 0,G.mapKeys=void 0,G.mapEntries=void 0,G.sort=void 0,G.sortBy=void 0,G.reverse=void 0,G.slice=void 0,G.butLast=void 0,G.flatMap=void 0,G.flatten=void 0,G.rest=void 0,G.skip=void 0,G.skipLast=void 0,G.skipWhile=void 0,G.skipUntil=void 0,G.sortBy=void 0,G.take=void 0,G.takeLast=void 0,G.takeWhile=void 0,G.takeUntil=void 0})}),q=i(function(v,T){(function(L,w){w(T,P,C)})(t,function(L,w,U){"use strict";function ne(M,F){for(var S=Object.getOwnPropertyNames(F),p=0;p<S.length;p++){var _=S[p],A=Object.getOwnPropertyDescriptor(F,_);A&&A.configurable&&M[_]===void 0&&Object.defineProperty(M,_,A)}return M}function K(M,F,S){return F in M?Object.defineProperty(M,F,{value:S,enumerable:!0,configurable:!0,writable:!0}):M[F]=S,M}function X(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function ue(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof F>"u"?"undefined":s(F)));M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):ne(M,F))}function fe(){}var de=function(){function M(F,S){var p,_=[],A=!0,R=!1;try{for(var V,H=F[Symbol.iterator]();!(A=(V=H.next()).done)&&(_.push(V.value),!(S&&_.length===S));A=!0);}catch(re){R=!0,p=re}finally{try{!A&&H.return&&H.return()}finally{if(R)throw p}}return _}return function(F,S){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return M(F,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),We=function(){function M(F,S){for(var p,_=0;_<S.length;_++)p=S[_],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(F,p.key,p)}return function(F,S,p){return S&&M(F.prototype,S),p&&M(F,p),F}}(),_e=function(M,F,S){var p=!0;e:for(;p;){var _=M,A=F,R=S;p=!1,_===null&&(_=Function.prototype);var V=Object.getOwnPropertyDescriptor(_,A);if(V===void 0){var H=Object.getPrototypeOf(_);if(H===null)return;M=H,F=A,S=R,p=!0,V=H=void 0;continue e}else{if("value"in V)return V.value;var re=V.get;return re===void 0?void 0:re.call(R)}}},Te=U.List,ie=U.Iterable.Indexed,Z=w.Typed.store,te=w.Typed.type,Pe=w.Typed.read,at=w.Typed.step,Ve=w.Typed.init,Ze=w.Typed.result,Ce=w.Typed.label,J=w.Typed.typeName,z=w.Typed.empty,ye=function(M,F){var S=F(M[Z]);if(S===M[Z])return M;var p=M.__ownerID?M:(0,w.construct)(M);return p[Z]=S,p.size=S.size,p},Qe=function(M){return M.clear()},je=function(M){return M.pop()},et=function(M){return M.shift()},G=function(M){function F(){X(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).apply(this,arguments)}return ue(F,M),We(F,[{key:w.Typed.typeName,value:function(){return"TypeInferer"}},{key:w.Typed.read,value:function(S){var p=(0,w.typeOf)(S).constructor.prototype;return this.type=this.type?(0,w.Union)(this.type,p):p,S}}]),F}(w.Type);fe.prototype=Te.prototype;var Y=function(M){function F(S){return X(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).call(this),F.prototype[Pe](S)}return ue(F,M),We(F,null,[{key:"from",value:function(S){var p=(0,w.construct)(this.prototype);return p[Z]=S[Z],p.size=S.size,p}}]),We(F,[{key:w.Typed.init,value:function(){var S=(0,w.construct)(this).asMutable();return S[te]=new G,S}},{key:w.Typed.result,value:function(S){var p=S.asImmutable();return p[te]=S[te].type,p}},{key:w.Typed.read,value:function(S){var p=this.constructor;if(S==null){if(!this[z]){var _=(0,w.construct)(this);_[Z]=Te(),_.size=0,this[z]=_}return this[z]}if(S instanceof p&&S&&S.constructor===p)return S;var A=ie(S),R=A.size===0;if(R&&this[z])return this[z];var V=this[Ve]();return V.size=A.size,A.forEach(function(H,re){V.set(re,H)}),V=this[Ze](V),R&&(this[z]=V),V}},{key:w.Typed.step,value:function(S,p){var _=de(p,2),A=_[0],R=_[1];return ye(S,function(){var V=0>=arguments.length||arguments[0]===void 0?Te():arguments[0];return V.set(A,R)})}},{key:w.Typed.typeName,value:function(){return this[Ce]||"Typed.List("+this[te][J]()+")"}},{key:"toString",value:function(){return this.__toString(this[J]()+"([","])")}},{key:"has",value:function(S){return this[Z].has(S)}},{key:"get",value:function(S,p){return this[Z]?this[Z].get(parseInt(S),p):p}},{key:"clear",value:function(){return this.__ownerID?ye(this,Qe):this[z]||this[Pe]()}},{key:"insert",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[te][Pe](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return ye(this,function(A){return A.insert(S,p)})}},{key:"remove",value:function(S){return ye(this,function(p){return p&&p.remove(S)})}},{key:"set",value:function(S,p){if(S>this.size)throw TypeError('Index "'+S+'" is out of bounds.');var _=this[te][Pe](p);if(_ instanceof TypeError)throw TypeError("Invalid value: "+_.message);return this[at](this,[S,_])}},{key:"push",value:function(){for(var S=this[te],p=[],_=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];for(var V=A.length,H=0;H<V;){var re=A[H],oe=S[Pe](re);if(oe instanceof TypeError)throw TypeError("Invalid value: "+oe.message);p.push(oe),++H}return ye(this,function(Me){return Me?Me.push.apply(Me,p):Te.apply(void 0,p)})}},{key:"pop",value:function(){return ye(this,je)}},{key:"unshift",value:function(){for(var S=this[te],p=[],_=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];for(var V=A.length,H=0;H<V;){var re=A[H],oe=S[Pe](re);if(oe instanceof TypeError)throw TypeError("Invalid value: "+oe.message);p.push(oe),++H}return ye(this,function(Me){return Me?Me.unshift.apply(Me,p):Te.apply(void 0,p)})}},{key:"shift",value:function(){return ye(this,et)}},{key:"setSize",value:function(S){if(S>this.size)throw TypeError("setSize may only downsize");return ye(this,function(p){return p.setSize(S)})}},{key:"slice",value:function(S,p){return ye(this,function(_){return _&&_.slice(S,p)})}},{key:"wasAltered",value:function(){return this[Z].wasAltered()}},{key:"__ensureOwner",value:function(S){var p=this.__ownerID===S?this:S?(0,w.construct)(this):this;return p.__ownerID=S,p[Z]=this[Z]?this[Z].__ensureOwner(S):Te().__ensureOwner(S),p.size=p[Z].size,p}},{key:"__iterator",value:function(S,p){var _=this;return ie(this[Z]).map(function(A,R){return _.get(R)}).__iterator(S,p)}},{key:"__iterate",value:function(S,p){var _=this;return ie(this[Z]).map(function(A,R){return _.get(R)}).__iterate(S,p)}}]),F}(fe);Y.prototype[w.Typed.DELETE]=Y.prototype.remove;var x=function(){};x.prototype=Y.prototype;var E=function(M){function F(){X(this,F),_e(Object.getPrototypeOf(F.prototype),"constructor",this).call(this)}return ue(F,M),We(F,[{key:w.Typed.init,value:function(){return(0,w.construct)(this).asMutable()}},{key:w.Typed.result,value:function(S){return S.asImmutable()}},{key:"map",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).map(S,p);if(this[Z]===_[Z])return this;if(_[te]===this[te]){var A=(0,w.construct)(this);return A[Z]=_[Z],A.size=_.size,A}return _}},{key:"flatMap",value:function(S,p){if(this.size===0)return this;var _=Y.from(this).flatMap(S,p);if(this[Z]===_[Z])return this;if(_[te]===this[te]){var A=(0,w.construct)(this);return A[Z]=_[Z],A.size=_.size,A}return _}}]),F}(x),I=function(M,F){var S;if(M===void 0)throw TypeError("Typed.List must be passed a type descriptor");if(M===w.Any)return U.List;var p=(0,w.typeOf)(M);if(p===w.Any)throw TypeError("Typed.List was passed an invalid type descriptor: "+M);var _=function A(R){var V=this instanceof A,H=V?this.constructor:A;if(R instanceof H)return R;var re=H.prototype[Pe](R);if(re instanceof TypeError)throw re;if(V&&!this[Z])this[Z]=re[Z],this.size=re.size;else return re;return this};return _.of=Te.of,_.prototype=Object.create(b,(S={constructor:{value:_}},K(S,te,{value:p}),K(S,Ce,{value:F}),S)),_};L.List=I,I.Type=E,I.prototype=E.prototype;var b=E.prototype})}),ge=i(function(v,T){(function(L,w){w(T,P,C)})(t,function(L,w,U){"use strict";function ne(x,E){for(var I=Object.getOwnPropertyNames(E),b=0;b<I.length;b++){var M=I[b],F=Object.getOwnPropertyDescriptor(E,M);F&&F.configurable&&x[M]===void 0&&Object.defineProperty(x,M,F)}return x}function K(x,E,I){return E in x?Object.defineProperty(x,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):x[E]=I,x}function X(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function ue(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof E>"u"?"undefined":s(E)));x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):ne(x,E))}var fe=function(){function x(E,I){var b,M=[],F=!0,S=!1;try{for(var p,_=E[Symbol.iterator]();!(F=(p=_.next()).done)&&(M.push(p.value),!(I&&M.length===I));F=!0);}catch(A){S=!0,b=A}finally{try{!F&&_.return&&_.return()}finally{if(S)throw b}}return M}return function(E,I){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return x(E,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),de=function(){function x(E,I){for(var b,M=0;M<I.length;M++)b=I[M],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}return function(E,I,b){return I&&x(E.prototype,I),b&&x(E,b),E}}(),We=function(x,E,I){var b=!0;e:for(;b;){var M=x,F=E,S=I;b=!1,M===null&&(M=Function.prototype);var p=Object.getOwnPropertyDescriptor(M,F);if(p===void 0){var _=Object.getPrototypeOf(M);if(_===null)return;x=_,E=F,I=S,b=!0,p=_=void 0;continue e}else{if("value"in p)return p.value;var A=p.get;return A===void 0?void 0:A.call(S)}}},_e=U.Map,Te=U.Iterable.Keyed,ie=w.Typed.store,Z=w.Typed.type,te=w.Typed.read,Pe=w.Typed.step,at=w.Typed.init,Ve=w.Typed.result,Ze=w.Typed.label,Ce=w.Typed.typeName,J=w.Typed.empty,z=function(x){function E(I,b,M){X(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),this.key=I,this.value=b,this.label=M}return ue(E,x),de(E,[{key:w.Typed.typeName,value:function(){return this.label||this.key[Ce]()+", "+this.value[Ce]()}},{key:w.Typed.read,value:function(I){function b(){return I.apply(this,arguments)}return b.toString=function(){return I.toString()},b}(function(I){var b=fe(I,2),M=b[0],F=b[1],S=this.key[te](M);if(S instanceof TypeError)return TypeError("Invalid key: "+S.message);var p=this.value[te](F);return p instanceof TypeError?TypeError("Invalid value: "+p.message):[S,p]})}]),E}(w.Type),ye=function(x){function E(){X(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this,key,value)}return ue(E,x),de(E,[{key:"toStatic",value:function(){return new MapEntryType(this.key,this.value)}},{key:w.Typed.typeName,value:function(){var I=this.key?this.key[Ce]():"TypeInferred",b=this.value?this.value[Ce]():"TypeInferred";return I+", "+b}},{key:w.Typed.read,value:function(I){var b=(0,w.typeOf)(I[0]).constructor.prototype;this.key=this.key?(0,w.Union)(this.key,b):b;var M=(0,w.typeOf)(I[1]).constructor.prototype;return this.value=this.value?(0,w.Union)(this.value,M):M,I}}]),E}(z),Qe=function(){};Qe.prototype=U.Map.prototype;var je=function(x){function E(I){return X(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this),E.prototype[te](I)}return ue(E,x),de(E,[{key:"advance",value:function(I){var b=I.__ownerID?this:(0,w.construct)(this);return b[ie]=I,b.size=I.size,b.__ownerID=I.__ownerID,b}},{key:w.Typed.init,value:function(){return this.advance(_e()).asMutable()}},{key:w.Typed.step,value:function(I,b){var M=this[Z][te](b);if(M instanceof TypeError)throw M;var F=fe(M,2),S=F[0],p=F[1];return I.advance(I[ie].set(S,p))}},{key:w.Typed.result,value:function(I){return I.asImmutable()}},{key:w.Typed.read,value:function(I){var b=this.constructor;if(I==null)return this[J]||(this[J]=this.advance(_e())),this[J];var M=I instanceof b&&I.constructor===b;if(M)return I;for(var F=Te(I).entries(),S=this[Z],p=this[at]();;){var _=F.next(),A=_.done,R=_.value;if(A)break;var V=S[te](R);if(V instanceof TypeError)return V;p=p[Pe](p,V)}return this[Ve](p)}},{key:w.Typed.typeName,value:function(){return this[Ze]||"Typed.Map("+this[Z][Ce]()+")"}},{key:"toString",value:function(){return this.__toString(this[Ce]()+"({","})")}},{key:"has",value:function(I){return this[ie].has(I)}},{key:"get",value:function(I,b){return this[ie].get(I,b)}},{key:"clear",value:function(){return this.size===0?this:this.__ownerID?this.advance(this[ie].clear()):this[J]||this[te]()}},{key:"remove",value:function(I){return this.advance(this[ie].remove(I))}},{key:"set",value:function(I,b){return this[Pe](this,[I,b])}},{key:"wasAltered",value:function(){return this[ie].wasAltered()}},{key:"__ensureOwner",value:function(I){var b=this.__ownerID===I?this:I?(0,w.construct)(this):this,M=this[ie].__ensureOwner(I);return b[ie]=M,b.size=M.size,b.__ownerID=I,b}},{key:"__iterator",value:function(I,b){return this[ie].__iterator(I,b)}},{key:"__iterate",value:function(I,b){return this[ie].__iterate(I,b)}}]),E}(Qe);je.prototype[w.Typed.DELETE]=je.prototype.remove;var et=function(x){function E(){X(this,E),We(Object.getPrototypeOf(E.prototype),"constructor",this).call(this)}return ue(E,x),de(E,[{key:w.Typed.init,value:function(){var I=this.advance(_e()).asMutable();return I[Z]=new ye,I}},{key:w.Typed.result,value:function(I){var b=I.asImmutable();return b[Z]=I[Z].toStatic(),b}}]),E}(je),G=function(x,E,I){var b;if(x===void 0)throw TypeError("Typed.Map must be passed a key type descriptor");if(E===void 0)throw TypeError("Typed.Map must be passed a value type descriptor");if(x===w.Any&&E===w.Any)return _e;var M=(0,w.typeOf)(x),F=(0,w.typeOf)(E);if(M===w.Any&&x!==w.Any)throw TypeError("Typed.Map was passed an invalid key type descriptor: "+x);if(F===w.Any&&E!==w.Any)throw TypeError("Typed.Map was passed an invalid value type descriptor: "+E);var S=new z(M,F,I),p=function _(A){var R=this instanceof _,V=R?this.constructor:_;if(A instanceof V)return A;var H=V.prototype[te](A);if(H instanceof TypeError)throw H;if(R&&!this[ie])this[ie]=H[ie],this.size=H.size;else return H;return this};return p.of=function(){for(var _=arguments.length,A=Array(_),R=0;R<_;R++)A[R]=arguments[R];return p().withMutations(function(V){for(var H=0;H<A.length;H+=2){if(H+1>=A.length)throw new Error("Missing value for key: "+A[H]);V.set(A[H],A[H+1])}})},p.prototype=Object.create(Y,(b={constructor:{value:p}},K(b,Z,{value:S}),K(b,Ze,{value:I}),b)),p};L.Map=G,G.Type=je,G.prototype=je.prototype;var Y=G.prototype})}),Se=i(function(v,T){(function(L,w){w(T,ee,q,ge,P)})(t,function(L,w,U,ne,K){"use strict";Object.defineProperty(L,"Record",{enumerable:!0,get:function(){return w.Record}}),Object.defineProperty(L,"List",{enumerable:!0,get:function(){return U.List}}),Object.defineProperty(L,"Map",{enumerable:!0,get:function(){return ne.Map}}),Object.defineProperty(L,"Typed",{enumerable:!0,get:function(){return K.Typed}}),Object.defineProperty(L,"typeOf",{enumerable:!0,get:function(){return K.typeOf}}),Object.defineProperty(L,"Type",{enumerable:!0,get:function(){return K.Type}}),Object.defineProperty(L,"Any",{enumerable:!0,get:function(){return K.Any}}),Object.defineProperty(L,"Union",{enumerable:!0,get:function(){return K.Union}}),Object.defineProperty(L,"Maybe",{enumerable:!0,get:function(){return K.Maybe}})})}),Ie=Se.Typed,be=Se.Record,Le=Se.List,Ht=Se.Map,ot=Se.Any,Xe="[object Function]",zr="[object GeneratorFunction]",Et=Object.prototype,tr=Et.toString;function Rt(v){var T=It(v)?tr.call(v):"";return T==Xe||T==zr}function It(v){var T=typeof v>"u"?"undefined":s(v);return!!v&&(T=="object"||T=="function")}var Ut=Rt;function pi(v){return v===null}var rr=pi;function Mn(v){return v===void 0}var Qu=Mn,mi=i(function(v,T){function L(Te){return!!Te&&(typeof Te>"u"?"undefined":s(Te))=="object"}var w=s(t)=="object"&&t&&t.Object===Object&&t,U=T&&!T.nodeType&&T,ne=U&&!0&&v&&!v.nodeType&&v,K=ne&&ne.exports===U,X=K&&w.process,ue=function(){try{return X&&X.binding("util")}catch{}}(),fe=ue&&ue.isDate,de=Object.prototype,We=de.toString,_e=fe?function(Te){return function(ie){return Te(ie)}}(fe):function(Te){return L(Te)&&We.call(Te)=="[object Date]"};v.exports=_e}),yi=1/0,el=9007199254740991,tl=17976931348623157e292,Go=NaN,rl="[object Symbol]",nl=/^\s+|\s+$/g,il=/^[-+]0x[0-9a-f]+$/i,ol=/^0b[01]+$/i,sl=/^0o[0-7]+$/i,Yo="\\ud800-\\udfff",al="\\u0300-\\u036f\\ufe20-\\ufe23",ul="\\u20d0-\\u20f0",ll="\\ufe0e\\ufe0f",cl="["+Yo+"]",vi="["+al+ul+"]",gi="\\ud83c[\\udffb-\\udfff]",fl="(?:"+vi+"|"+gi+")",Jo="[^"+Yo+"]",Ko="(?:\\ud83c[\\udde6-\\uddff]){2}",Xo="[\\ud800-\\udbff][\\udc00-\\udfff]",hl="\\u200d",Qo=fl+"?",es="["+ll+"]?",dl="(?:"+hl+"(?:"+[Jo,Ko,Xo].join("|")+")"+es+Qo+")*",pl=es+Qo+dl,ml="(?:"+[Jo+vi+"?",vi,Ko,Xo,cl].join("|")+")",_i=RegExp(gi+"(?="+gi+")|"+ml+pl,"g"),yl=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,vl=parseInt,gl=s(t)=="object"&&t&&t.Object===Object&&t,_l=(typeof self>"u"?"undefined":s(self))=="object"&&self&&self.Object===Object&&self,Tl=gl||_l||Function("return this")(),wl=Il("length");function El(v){return v.split("")}function Il(v){return function(T){return T?.[v]}}function Ti(v){return yl.test(v)}function ts(v){return Ti(v)?Ol(v):wl(v)}function Sl(v){return Ti(v)?kl(v):El(v)}function Ol(v){for(var T=_i.lastIndex=0;_i.test(v);)T++;return T}function kl(v){return v.match(_i)||[]}var Dl=Object.prototype,bl=Dl.toString,rs=Tl.Symbol,Ml=Math.ceil,xl=Math.floor,ns=rs?rs.prototype:void 0,is=ns?ns.toString:void 0;function os(v,T){var L="";if(!v||1>T||T>el)return L;do T%2&&(L+=v),T=xl(T/2),T&&(v+=v);while(T);return L}function Al(v,T,L){var w=-1,U=v.length;0>T&&(T=-T>U?0:U+T),L=L>U?U:L,0>L&&(L+=U),U=T>L?0:L-T>>>0,T>>>=0;for(var ne=Array(U);++w<U;)ne[w]=v[w+T];return ne}function ss(v){if(typeof v=="string")return v;if(us(v))return is?is.call(v):"";var T=v+"";return T=="0"&&1/v==-yi?"-0":T}function Nl(v,T,L){var w=v.length;return L=L===void 0?w:L,!T&&L>=w?v:Al(v,T,L)}function Fl(v,T){T=T===void 0?" ":ss(T);var L=T.length;if(2>L)return L?os(T,v):T;var w=os(T,Ml(v/ts(T)));return Ti(T)?Nl(Sl(w),0,v).join(""):w.slice(0,v)}function as(v){var T=typeof v>"u"?"undefined":s(v);return!!v&&(T=="object"||T=="function")}function Ll(v){return!!v&&(typeof v>"u"?"undefined":s(v))=="object"}function us(v){return(typeof v>"u"?"undefined":s(v))=="symbol"||Ll(v)&&bl.call(v)==rl}function Cl(v){if(!v)return v===0?v:0;if(v=Rl(v),v===yi||v===-yi){var T=0>v?-1:1;return T*tl}return v===v?v:0}function zl(v){var T=Cl(v),L=T%1;return T===T?L?T-L:T:0}function Rl(v){if(typeof v=="number")return v;if(us(v))return Go;if(as(v)){var T=typeof v.valueOf=="function"?v.valueOf():v;v=as(T)?T+"":T}if(typeof v!="string")return v===0?v:+v;v=v.replace(nl,"");var L=ol.test(v);return L||sl.test(v)?vl(v.slice(2),L?2:8):il.test(v)?Go:+v}function Ul(v){return v==null?"":ss(v)}function Wl(v,T,L){v=Ul(v),T=zl(T);var w=T?ts(v):0;return T&&w<T?Fl(T-w,L)+v:v}var Rr=Wl,ls=function(v){return v.getFullYear()+Rr(v.getMonth()+1,2,0)+Rr(v.getDate(),2,0)},cs=function(v){return Rr(v.getHours(),2,0)+Rr(v.getMinutes(),2,0)+Rr(v.getSeconds(),2,0)},jl=function(v){return ls(v)+"T"+cs(v)},fs=function(v){var T=6e4*v.getTimezoneOffset();return new Date(v.getTime()+T)},Pl=function(v){return v?"TRUE":"FALSE"},Vl=function(v){return mi(v)?ls(fs(v)):v},ql=function(v){return mi(v)?jl(v):v},hs=function(v){return Number.parseFloat(v)},Hl=function(){return hs.apply(void 0,arguments).toFixed(1)},$l=function(v){return Number.parseInt(v)},Zl=function(v){return v.toString().replace(/\\/g,"\\\\").replace(/,/g,"\\,").replace(/;/g,"\\;").replace(/\n/g,"\\n")},Bl=function(v){return mi(v)?cs(fs(v)):v},Gl=Object.freeze({BOOLEAN:Pl,DATE:Vl,DATETIME:ql,FLOAT:hs,FLOAT__FIXED_1:Hl,INTEGER:$l,TEXT:Zl,TIME:Bl}),Yl=`\r
 `,Jl=`\r
`,ds=";",Kl="=",Xl="VALUE",Ql=":",ec=",",tc=new RegExp(/[\s\S]{1,75}/g),rc="BEGIN",nc="END",we={BINARY:"BINARY",BOOLEAN:"BOOLEAN",CALADDRESS:"CALADDRESS","CAL-ADDRESS":"CALADDRESS",DATE:"DATE",DATETIME:"DATETIME","DATE-TIME":"DATETIME",DURATION:"DURATION",FLOAT:"FLOAT",INTEGER:"INTEGER",PERIOD:"PERIOD",RECUR:"RECUR",TEXT:"TEXT",TIME:"TIME",URI:"URI",UTCOFFSET:"UTCOFFSET","UTC-OFFSET":"UTCOFFSET"},ic=we.TEXT,oc={ATTACH:we.URI,ATTENDEE:we.CALADDRESS,CREATED:we.DATETIME,DTSTART:we.DATETIME,DTEND:we.DATETIME,DTSTAMP:we.DATETIME,DUE:we.DATETIME,DURATION:we.DURATION,EXDATE:we.DATETIME,FREEBUSY:we.PERIOD,"LAST-MODIFIED":we.DATETIME,ORGANIZER:we.CALADDRESS,"PERCENT-COMPLETE":we.INTEGER,PRIORITY:we.INTEGER,RDATE:we.DATETIME,"RECURRENCE-ID":we.DATETIME,REPEAT:we.INTEGER,RRULE:we.RECUR,SEQUENCE:we.INTEGER,TRIGGER:we.DURATION,TZOFFSETFROM:we.UTCOFFSET,TZOFFSETTO:we.UTCOFFSET,TZURL:we.URI,URL:we.URI,VERSION:we.FLOAT+"__FIXED_1"},xn=function(v){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,v),c(T,[{key:"getTransformedValue",value:function(){var w=this,U=we[this.parameters.get(Xl)]||oc[this.name]||ic,ne=Gl[U];return Ut(ne)?Array.isArray(this.value)?this.value.map(function(K){return ne(K,w.parameters)}).join(ec):ne(this.value,this.parameters):this.value}},{key:"toString",value:function(){var w=this.name;0<this.parameters.size&&(w+=ds+this.parameters.entrySeq().map(function(ne){var K=y(ne,2),X=K[0],ue=K[1];return X+Kl+ue}).join(ds));var U=this.transform?this.getTransformedValue():this.value;return rr(U)||Qu(U)||(w+=Ql+U),w.match(tc).join(Yl)}}]),T}(be({name:String,parameters:Ht(String,ot),transform:!0,value:ot}));Ie.Component=Ie("Component",function(v){return v instanceof ps?v:TypeError('"'+v+'" is not a Component')}),Ie.Property=Ie("Property",function(v){return v instanceof xn?v:TypeError('"'+v+'" is not a Property')});var ps=function(v){function T(){return l(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return h(T,v),c(T,[{key:"pushComponent",value:function(w){return this.update("components",function(U){return U.push(w)})}},{key:"pushProperty",value:function(w){return this.update("properties",function(U){return U.push(w)})}},{key:"clear",value:function(){return this.clearComponents().clearProperties()}},{key:"clearComponents",value:function(){return this.remove("components")}},{key:"clearProperties",value:function(){return this.remove("properties")}},{key:"toString",value:function(){return[new xn({name:rc,value:this.name})].concat(D(this.properties),D(this.components),[new xn({name:nc,value:this.name})]).join(Jl)}}]),T}(be({name:String,components:Le(Ie.Component),properties:Le(Ie.Property)}));n.Component=ps,n.Property=xn,Object.defineProperty(n,"__esModule",{value:!0})})});var Bu=ya(($o,Zo)=>{(function(n,t){typeof define=="function"&&define.amd?define([],t):typeof $o<"u"?t():(t(),n.FileSaver={})})($o,function(){"use strict";function n(m,y){return typeof y>"u"?y={autoBom:!1}:typeof y!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function t(m,y,D){var C=new XMLHttpRequest;C.open("GET",m),C.responseType="blob",C.onload=function(){h(C.response,y,D)},C.onerror=function(){console.error("could not download file")},C.send()}function i(m){var y=new XMLHttpRequest;y.open("HEAD",m,!1);try{y.send()}catch{}return 200<=y.status&&299>=y.status}function s(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(y)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(m,y,D){var C=l.URL||l.webkitURL,P=document.createElement("a");y=y||m.name||"download",P.download=y,P.rel="noopener",typeof m=="string"?(P.href=m,P.origin===location.origin?s(P):i(P.href)?t(m,y,D):s(P,P.target="_blank")):(P.href=C.createObjectURL(m),setTimeout(function(){C.revokeObjectURL(P.href)},4e4),setTimeout(function(){s(P)},0))}:"msSaveOrOpenBlob"in navigator?function(m,y,D){if(y=y||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,D),y);else if(i(m))t(m,y,D);else{var C=document.createElement("a");C.href=m,C.target="_blank",setTimeout(function(){s(C)})}}:function(m,y,D,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof m=="string")return t(m,y,D);var P=m.type==="application/octet-stream",ee=/constructor/i.test(l.HTMLElement)||l.safari,q=/CriOS\/[\d]+/.test(navigator.userAgent);if((q||P&&ee||c)&&typeof FileReader<"u"){var ge=new FileReader;ge.onloadend=function(){var be=ge.result;be=q?be:be.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=be:location=be,C=null},ge.readAsDataURL(m)}else{var Se=l.URL||l.webkitURL,Ie=Se.createObjectURL(m);C?C.location=Ie:location.href=Ie,C=null,setTimeout(function(){Se.revokeObjectURL(Ie)},4e4)}});l.saveAs=h.saveAs=h,typeof Zo<"u"&&(Zo.exports=h)})});var ed={};Wc(ed,{gapiLoaded:()=>Sa,gisLoaded:()=>Oa,hideOverlay:()=>Dn});var Pc="845509487647-5786nh91r45rsm485m2mb4cqcfmis94g.apps.googleusercontent.com",Vc=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],qc="https://www.googleapis.com/auth/calendar",Hc=document.getElementById("authorize_button"),$c=document.getElementById("signout_button"),_a=document.getElementById("logged_in_section"),Ta=document.getElementById("logged_out_section"),Qi,Ea=!1,Ia=!1;function Gr(n){n?(Ta.style.display="none",_a.style.display="block",Yc()):(Ta.style.display="block",_a.style.display="none")}Gr(!1);function Sa(){gapi.load("client",Zc)}async function Zc(){await gapi.client.init({discoveryDocs:Vc}),Ea=!0,ka()}function Oa(){Qi=google.accounts.oauth2.initTokenClient({client_id:Pc,scope:qc,callback:async n=>{if(console.log(n),n.error!==void 0)throw n;Gr(!0)}}),Ia=!0,ka()}function ka(){Ea&&Ia&&(Hc.onclick=Bc,$c.onclick=Gc,console.log("Setting up Google section"),gapi.client.getToken()!==null?Gr(!0):Gr(!1))}function Bc(){gapi.client.getToken()===null?Qi.requestAccessToken({prompt:"consent"}):Qi.requestAccessToken({prompt:""})}function Gc(){let n=gapi.client.getToken();n!==null&&(google.accounts.oauth2.revoke(n.access_token),gapi.client.setToken(""),Gr(!1))}function Da(n,t,i,s,l=0){s(t.length);let c=3;console.log(`Importing ${t.length} events`);let h=0,m=500*(l+1),y=t.map(D=>(h+=m,new Promise(C=>setTimeout(C,h)).then(()=>gapi.client.calendar.events.insert({calendarId:n,resource:D}))));Promise.allSettled(y).then(D=>{let C=[],P=[];D.forEach((ee,q)=>{ee.status==="rejected"&&(C.push(t[q]),P.push(q))}),console.log(`Number of failed imports: ${C.length}`),C.length===0?s(0):l<c?Da(n,C,i,s,l+1):(console.error("Unable to import some events to Calendar",D[P[0]].reason),s(-1),i(D[P[0]].reason))})}function wa(n,t,i,s){let l=[];n.forEach(function(c,h){let m={summary:c.summary,start:{dateTime:c.start.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},end:{dateTime:c.end.setZone("Europe/Rome").toISO(),timeZone:"Europe/Rome"},recurrence:[]};c.location!==void 0&&(m.location=c.location),c.description!==void 0&&(m.description=c.description),c.rrule!==void 0&&m.recurrence.push("RRULE:"+c.rrule),c.rdate!==void 0&&m.recurrence.push("RDATE:"+c.rdate),l.push(m)}),document.getElementById("importProgress").style.display="block",Da(t,l,i,s)}function Yc(){return gapi.client.calendar.calendarList.list({minAccessRole:"writer"}).then(function(n){let t=document.getElementById("calendarId");n.result.items.forEach(function(s,l){/Polimi|Universit/i.test(s.summary)?t[l]=new Option(s.summary,s.id,!0,!0):t[l]=new Option(s.summary,s.id)})},function(n){console.error("Execute error",n)})}function ba(n,t,i){let s=document.getElementById("newCalendar"),l=null,c=document.getElementById("calendarId");if(s.checked===!0||c.options.length===0){document.getElementById("creationProgress").style.display="block";let h=document.getElementById("newName").value;gapi.client.calendar.calendars.insert({resource:{summary:h,timeZone:"Europe/Rome"}}).then(function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationOk").style.display="block",setTimeout(function(){document.getElementById("creationOk").style.display="none"},3e3),l=m.result.id,wa(n,l,t,i)},function(m){document.getElementById("creationProgress").style.display="none",document.getElementById("creationFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},5e3),console.error("Execute error",m),t(m.body)})}else l=c.options[c.selectedIndex].value,wa(n,l,t,i)}var Yr={en:{text:{title:"PoliMi schedule converter",inputLabel:"Paste lessons copied from the text timetable",saveFile:" Save to file",importToGcal:" Import to Google Calendar",error:"Error! Unable to generate the calendar",selectCalText:"Choose which calendar to add the events to",calendarIdLabel:"Choose an existing calendar",orSelect:"or",newCalendarLabel:" Create new calendar",newNameLabel:"Name:",importButtonText:"Import",creationProgress:"Creating calendar...",creationOk:"Calendar created",creationFail:"Unable to create calendar",homeOverview:"Convert the timetable of the Politecnico di Milano courses into an iCalendar file or import it into Google Calendar",homeInfo:"PoliMi doesn't have any way to import the courses schedule into external calendars. With this converter you can transform the text timetable into a standard calendar format, iCalendar. Events in this format can be imported easily into most of calendar services and applications. In the following links you can see how to import them on some popular services:",homeImportGoogle:"Import to Google Calendar",homeImportOutlook:"Import to Outlook",homeDetails:"With this tool you can also import events directly to Google Calendar, without having to download any iCalendar file.<br>The tool is available at:",homeUserscriptInfo:"The converter can be used from the PoliMi website as a Userscript, installed by clicking <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>here</a>. In this case you need to have an Userscript manager, such as Greasemonkey or Tampermonkey. Quick import to Google Calendar isn't available in this mode.",repoInfo:"You can read the converter code on its <a href='https://github.com/bebora/polimi-schedule-js'>Github repository</a>.",howToUseHead:"How to use?",howToUseContent:`Go to the timetable page you want to convert. You can use both the one from <a href='https://www.polimi.it/en/online-services/'>Online services</a> and the one from <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In the latter case, make sure to enable the customized time schedule and choose some courses, then go to "View the schedule".<br>Click on "Text timetable" and select the courses with your mouse, then copy them with a right click or by pressing Ctrl+C (\u2318+C on Mac).`,howToUseEnd:"Go to the converter page and paste the text with a right click or by pressing Ctrl+V (\u2318+V on Mac). Click on the appropriate button to download the events or to import them to Google Calendar.",gcalendarHead:"Google Calendar integration",gcalendarText:"The app can directly insert events Google Calendar to simplify the import, without having to download any file.<br>In order to do so, it explicitly requests user consent to connect to their Google account. Specifically, the app needs to read the names of existing calendars to list them when the user chooses where to import the events. The user may want to create a new calendar for the events, so the app also needs write access on Google Calendar. Full access permissions(read+write) are then needed for the correct app operations, but it doesn't and will never use them for purposes other than those described here.<br>You can read the complete privacy policy by clicking on the link at the bottom of the page.",homepageFooter:"Home + How to use",howToLink:"How to use",importProgressPre:"Importing",importProgressPost:"events...",importOk:"Events imported \u2705",importFail:"Unable to import the events",zeroEvents:"No events to import",errorTitle:"Oops! Something went wrong",genericError:"The text you pasted isn't valid or it is in a new unsupported format.",googleErrorSuggestion:"If you are using Google Calendar, check that your connection works and that you gave the required permissions to the application.",errorContact:"The problem may happen to other users! You can report it on Telegram or GitHub.",telegramGroup:"Telegram group",githubIssue:"Open Issue",manualErrorPopup:"Not working?"},placeholder:{input:"Paste lessons copied from the text timetable"}},it:{text:{title:"Convertitore orario PoliMi",inputLabel:"Incolla le lezioni copiate dall'orario testuale",saveFile:" Salva su file",importToGcal:" Importa su Google Calendar",error:"Errore! Non riesco a generare il calendario",selectCalText:"Seleziona il calendario dove importare gli eventi",calendarIdLabel:"Scegli un calendario esistente",orSelect:"oppure",newCalendarLabel:" Crea nuovo calendario",newNameLabel:"Nome:",importButtonText:"Importa",creationProgress:"Creando il calendario...",creationOk:"Calendario creato",creationFail:"Creazione calendario fallita",homeOverview:"Converti le lezioni del Politecnico di Milano in un file iCalendar o importale su Google Calendar",homeInfo:"Il PoliMi non consente normalmente di importare gli orari delle lezioni su calendari esterni. Con questo convertitore \xE8 possibile trasformare l'orario testuale dei Servizi Online in un calendario in formato standard, ovvero iCalendar. Gli orari in formato iCalendar possono essere importati facilmente nella maggior parte delle applicazioni o servizi di calendario. Per esempio, nelle seguenti pagine \xE8 descritto come importare file iCalendar su alcuni servizi popolari:",homeImportGoogle:"Importazione su Google Calendar",homeImportOutlook:"Importazione su Outlook",homeDetails:"Con questo tool \xE8 inoltre possibile importare gli eventi direttamente su Google Calendar, senza dover scaricare il file iCalendar, per rendere l'importazione ancora pi\xF9 semplice.<br>Il tool \xE8 disponibile al seguente link:",homeUserscriptInfo:"Il convertitore pu\xF2 essere usato dal sito del PoliMi se installato come Userscript, cliccando <a href='https://github.com/bebora/polimi-schedule-js/raw/master/scripts/polimi-schedule.user.js'>qui</a>. In tal caso \xE8 necessario avere un Userscript manager, come Greasemonkey o Tampermonkey. Con questa modalit\xE0 non \xE8 integrata l'importazione veloce su Google Calendar.",repoInfo:"\xC8 possibile consultare il codice del tool nella sua <a href='https://github.com/bebora/polimi-schedule-js'>repository Github</a>.",howToUseHead:"Come si usa?",howToUseContent:`Vai sulla pagina degli orari che vuoi convertire. Puoi usare sia quella dei <a href='https://www.polimi.it/servizionline/'>Servizi Online</a> con gli orari dei tuoi corsi, sia quella del <a href='https://polimi.it/orario-lezioni'>Manifesto degli Studi</a>. In quest'ultimo caso, assicurati di abilitare l'orario personalizzato e scegliere delle materie, poi clicca su "Visualizza l'orario".<br>Clicca quindi su "Orario testuale" e seleziona gli orari con il mouse, poi copiali con il tasto destro oppure premendo Ctrl+C (\u2318+C su Mac).`,howToUseEnd:"Vai sulla pagina del convertitore ed incolla il testo con il tasto destro o premendo Ctrl+V (\u2318+V su Mac). Clicca sul bottone opportuno per scaricare il calendario o per importarlo su Google Calendar.",gcalendarHead:"Integrazione con Google Calendar",gcalendarText:"L'app pu\xF2 inserire gli eventi su Google Calendar direttamente per semplificare il pi\xF9 possibile l'importazione, senza dover scaricare nessun file.<br>Per fare ci\xF2, richiede esplicitamente il consenso dell'utente per collegarsi all'account Google. In particolare, l'app ha bisogno di leggere i nomi dei calendari esistenti per poi proporli se l'utente vuole importare gli eventi in un calendario esistente. L'utente pu\xF2 voler creare un nuovo calendario per gli eventi, quindi l'app ha bisogno anche dei permessi in scrittura sul calendario Google. Sono necessari quindi permessi completi sul calendario, ma l'app non usa ora n\xE9 user\xE0 mai i permessi per scopi differenti da quelli qui descritti.<br>\xC8 possibile vedere la privacy policy completa cliccando sul link a fondo pagina.",homepageFooter:"Home + Istruzioni d'uso",howToLink:"Istruzioni",importProgressPre:"Importando",importProgressPost:"eventi...",importOk:"Eventi importati \u2705",importFail:"Impossibile importare gli eventi",zeroEvents:"Nessun evento da importare",errorTitle:"Ops! Qualcosa \xE8 andato storto",genericError:"Il testo che hai incollato non \xE8 valido oppure \xE8 in un nuovo formato non supportato.",googleErrorSuggestion:"Se stai usando Google Calendar, controlla di avere una connessione funzionante e di aver dato i permessi all'applicazione.",errorContact:"Il problema potrebbe capitare anche ad altri utenti! Puoi segnalarlo su Telegram o GitHub.",telegramGroup:"Gruppo Telegram",githubIssue:"Apri Issue",manualErrorPopup:"Qualcosa non va?"},placeholder:{input:"Incolla le lezioni copiate dall'orario testuale"}}};function qn(n){let t="en";n in Yr&&(t=n);for(let[i,s]of Object.entries(Yr[t].text)){let l=document.getElementById(i);l!==null&&(l.innerHTML=s)}for(let[i,s]of Object.entries(Yr[t].placeholder)){let l=document.getElementById(i);l!==null&&(l.placeholder=s)}document.getElementById(t+"Flag").classList.remove("grayscale");for(let i of Object.keys(Yr).filter(s=>s!==t))document.getElementById(i+"Flag").classList.add("grayscale");document.title=Yr[t].text.title}var jt=class extends Error{},Hn=class extends jt{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},$n=class extends jt{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},Zn=class extends jt{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},Dt=class extends jt{},Tr=class extends jt{constructor(t){super(`Invalid unit ${t}`)}},Fe=class extends jt{},bt=class extends jt{constructor(){super("Zone is an abstract class")}};var W="numeric",Mt="short",ht="long",Gt={year:W,month:W,day:W},Jr={year:W,month:Mt,day:W},eo={year:W,month:Mt,day:W,weekday:Mt},Kr={year:W,month:ht,day:W},Xr={year:W,month:ht,day:W,weekday:ht},Qr={hour:W,minute:W},en={hour:W,minute:W,second:W},tn={hour:W,minute:W,second:W,timeZoneName:Mt},rn={hour:W,minute:W,second:W,timeZoneName:ht},nn={hour:W,minute:W,hourCycle:"h23"},on={hour:W,minute:W,second:W,hourCycle:"h23"},sn={hour:W,minute:W,second:W,hourCycle:"h23",timeZoneName:Mt},an={hour:W,minute:W,second:W,hourCycle:"h23",timeZoneName:ht},un={year:W,month:W,day:W,hour:W,minute:W},ln={year:W,month:W,day:W,hour:W,minute:W,second:W},cn={year:W,month:Mt,day:W,hour:W,minute:W},fn={year:W,month:Mt,day:W,hour:W,minute:W,second:W},to={year:W,month:Mt,day:W,weekday:Mt,hour:W,minute:W},hn={year:W,month:ht,day:W,hour:W,minute:W,timeZoneName:Mt},dn={year:W,month:ht,day:W,hour:W,minute:W,second:W,timeZoneName:Mt},pn={year:W,month:ht,day:W,weekday:ht,hour:W,minute:W,timeZoneName:ht},mn={year:W,month:ht,day:W,weekday:ht,hour:W,minute:W,second:W,timeZoneName:ht};var st=class{get type(){throw new bt}get name(){throw new bt}get ianaName(){return this.name}get isUniversal(){throw new bt}offsetName(t,i){throw new bt}formatOffset(t,i){throw new bt}offset(t){throw new bt}equals(t){throw new bt}get isValid(){throw new bt}};var ro=null,Yt=class n extends st{static get instance(){return ro===null&&(ro=new n),ro}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Gn(t,i,s)}formatOffset(t,i){return Jt(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}};var Jn={};function Jc(n){return Jn[n]||(Jn[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Jn[n]}var Kc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Xc(n,t){let i=n.format(t).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,l,c,h,m,y,D,C]=s;return[h,l,c,m,y,D,C]}function Qc(n,t){let i=n.formatToParts(t),s=[];for(let l=0;l<i.length;l++){let{type:c,value:h}=i[l],m=Kc[c];c==="era"?s[m]=h:B(m)||(s[m]=parseInt(h,10))}return s}var Yn={},Ke=class n extends st{static create(t){return Yn[t]||(Yn[t]=new n(t)),Yn[t]}static resetCache(){Yn={},Jn={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=n.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:s}){return Gn(t,i,s,this.name)}formatOffset(t,i){return Jt(this.offset(t),i)}offset(t){let i=new Date(t);if(isNaN(i))return NaN;let s=Jc(this.name),[l,c,h,m,y,D,C]=s.formatToParts?Qc(s,i):Xc(s,i);m==="BC"&&(l=-Math.abs(l)+1);let ee=wr({year:l,month:c,day:h,hour:y===24?0:y,minute:D,second:C,millisecond:0}),q=+i,ge=q%1e3;return q-=ge>=0?ge:1e3+ge,(ee-q)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}};var Ma={};function ef(n,t={}){let i=JSON.stringify([n,t]),s=Ma[i];return s||(s=new Intl.ListFormat(n,t),Ma[i]=s),s}var no={};function io(n,t={}){let i=JSON.stringify([n,t]),s=no[i];return s||(s=new Intl.DateTimeFormat(n,t),no[i]=s),s}var oo={};function tf(n,t={}){let i=JSON.stringify([n,t]),s=oo[i];return s||(s=new Intl.NumberFormat(n,t),oo[i]=s),s}var so={};function rf(n,t={}){let{base:i,...s}=t,l=JSON.stringify([n,s]),c=so[l];return c||(c=new Intl.RelativeTimeFormat(n,t),so[l]=c),c}var yn=null;function nf(){return yn||(yn=new Intl.DateTimeFormat().resolvedOptions().locale,yn)}var xa={};function of(n){let t=xa[n];if(!t){let i=new Intl.Locale(n);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,xa[n]=t}return t}function sf(n){let t=n.indexOf("-x-");t!==-1&&(n=n.substring(0,t));let i=n.indexOf("-u-");if(i===-1)return[n];{let s,l;try{s=io(n).resolvedOptions(),l=n}catch{let y=n.substring(0,i);s=io(y).resolvedOptions(),l=y}let{numberingSystem:c,calendar:h}=s;return[l,c,h]}}function af(n,t,i){return(i||t)&&(n.includes("-u-")||(n+="-u"),i&&(n+=`-ca-${i}`),t&&(n+=`-nu-${t}`)),n}function uf(n){let t=[];for(let i=1;i<=12;i++){let s=se.utc(2009,i,1);t.push(n(s))}return t}function lf(n){let t=[];for(let i=1;i<=7;i++){let s=se.utc(2016,11,13+i);t.push(n(s))}return t}function Kn(n,t,i,s){let l=n.listingMode();return l==="error"?null:l==="en"?i(t):s(t)}function cf(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}var ao=class{constructor(t,i,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;let{padTo:l,floor:c,...h}=s;if(!i||Object.keys(h).length>0){let m={useGrouping:!1,...s};s.padTo>0&&(m.minimumIntegerDigits=s.padTo),this.inf=tf(t,m)}}format(t){if(this.inf){let i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{let i=this.floor?Math.floor(t):Er(t,3);return Ae(i,this.padTo)}}},uo=class{constructor(t,i,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){let h=-1*(t.offset/60),m=h>=0?`Etc/GMT+${h}`:`Etc/GMT${h}`;t.offset!==0&&Ke.create(m).valid?(l=m,this.dt=t):(l="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,l=t.zone.name):(l="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);let c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=io(i,c)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(i=>{if(i.type==="timeZoneName"){let s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:s}}else return i}):t}resolvedOptions(){return this.dtf.resolvedOptions()}},lo=class{constructor(t,i,s){this.opts={style:"long",...s},!i&&Xn()&&(this.rtf=rf(t,s))}format(t,i){return this.rtf?this.rtf.format(t,i):Aa(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}},ff={firstDay:1,minimalDays:4,weekend:[6,7]},me=class n{static fromOpts(t){return n.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,i,s,l,c=!1){let h=t||pe.defaultLocale,m=h||(c?"en-US":nf()),y=i||pe.defaultNumberingSystem,D=s||pe.defaultOutputCalendar,C=vn(l)||pe.defaultWeekSettings;return new n(m,y,D,C,h)}static resetCache(){yn=null,no={},oo={},so={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:s,weekSettings:l}={}){return n.create(t,i,s,l)}constructor(t,i,s,l,c){let[h,m,y]=sf(t);this.locale=h,this.numberingSystem=i||m||null,this.outputCalendar=s||y||null,this.weekSettings=l,this.intl=af(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=cf(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:n.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,vn(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1){return Kn(this,t,co,()=>{let s=i?{month:t,day:"numeric"}:{month:t},l=i?"format":"standalone";return this.monthsCache[l][t]||(this.monthsCache[l][t]=uf(c=>this.extract(c,s,"month"))),this.monthsCache[l][t]})}weekdays(t,i=!1){return Kn(this,t,fo,()=>{let s=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},l=i?"format":"standalone";return this.weekdaysCache[l][t]||(this.weekdaysCache[l][t]=lf(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][t]})}meridiems(){return Kn(this,void 0,()=>ho,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[se.utc(2016,11,13,9),se.utc(2016,11,13,19)].map(i=>this.extract(i,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Kn(this,t,po,()=>{let i={era:t};return this.eraCache[t]||(this.eraCache[t]=[se.utc(-40,1,1),se.utc(2017,1,1)].map(s=>this.extract(s,i,"era"))),this.eraCache[t]})}extract(t,i,s){let l=this.dtFormatter(t,i),c=l.formatToParts(),h=c.find(m=>m.type.toLowerCase()===s);return h?h.value:null}numberFormatter(t={}){return new ao(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new uo(t,this.intl,i)}relFormatter(t={}){return new lo(this.intl,this.isEnglish(),t)}listFormatter(t={}){return ef(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Qn()?of(this.locale):ff}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var yo=null,qe=class n extends st{static get utcInstance(){return yo===null&&(yo=new n(0)),yo}static instance(t){return t===0?n.utcInstance:new n(t)}static parseSpecifier(t){if(t){let i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new n(or(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Jt(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Jt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return Jt(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}};var Ir=class extends st{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function xt(n,t){let i;if(B(n)||n===null)return t;if(n instanceof st)return n;if(Na(n)){let s=n.toLowerCase();return s==="default"?t:s==="local"||s==="system"?Yt.instance:s==="utc"||s==="gmt"?qe.utcInstance:qe.parseSpecifier(s)||Ke.create(n)}else return At(n)?qe.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Ir(n)}var vo={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Fa={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hf=vo.hanidec.replace(/[\[|\]]/g,"").split("");function La(n){let t=parseInt(n,10);if(isNaN(t)){t="";for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);if(n[i].search(vo.hanidec)!==-1)t+=hf.indexOf(n[i]);else for(let l in Fa){let[c,h]=Fa[l];s>=c&&s<=h&&(t+=s-c)}}return parseInt(t,10)}else return t}var Sr={};function Ca(){Sr={}}function _t({numberingSystem:n},t=""){let i=n||"latn";return Sr[i]||(Sr[i]={}),Sr[i][t]||(Sr[i][t]=new RegExp(`${vo[i]}${t}`)),Sr[i][t]}var za=()=>Date.now(),Ra="system",Ua=null,Wa=null,ja=null,Pa=60,Va,qa=null,pe=class{static get now(){return za}static set now(t){za=t}static set defaultZone(t){Ra=t}static get defaultZone(){return xt(Ra,Yt.instance)}static get defaultLocale(){return Ua}static set defaultLocale(t){Ua=t}static get defaultNumberingSystem(){return Wa}static set defaultNumberingSystem(t){Wa=t}static get defaultOutputCalendar(){return ja}static set defaultOutputCalendar(t){ja=t}static get defaultWeekSettings(){return qa}static set defaultWeekSettings(t){qa=vn(t)}static get twoDigitCutoffYear(){return Pa}static set twoDigitCutoffYear(t){Pa=t%100}static get throwOnInvalid(){return Va}static set throwOnInvalid(t){Va=t}static resetCaches(){me.resetCache(),Ke.resetCache(),se.resetCache(),Ca()}};var He=class{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var Ha=[0,31,59,90,120,151,181,212,243,273,304,334],$a=[0,31,60,91,121,152,182,213,244,274,305,335];function Tt(n,t){return new He("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${n}, which is invalid`)}function ei(n,t,i){let s=new Date(Date.UTC(n,t-1,i));n<100&&n>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);let l=s.getUTCDay();return l===0?7:l}function Za(n,t,i){return i+(ar(n)?$a:Ha)[t-1]}function Ba(n,t){let i=ar(n)?$a:Ha,s=i.findIndex(c=>c<t),l=t-i[s];return{month:s+1,day:l}}function ti(n,t){return(n-t+7)%7+1}function gn(n,t=4,i=1){let{year:s,month:l,day:c}=n,h=Za(s,l,c),m=ti(ei(s,l,c),i),y=Math.floor((h-m+14-t)/7),D;return y<1?(D=s-1,y=sr(D,t,i)):y>sr(s,t,i)?(D=s+1,y=1):D=s,{weekYear:D,weekNumber:y,weekday:m,...Tn(n)}}function go(n,t=4,i=1){let{weekYear:s,weekNumber:l,weekday:c}=n,h=ti(ei(s,1,t),i),m=Kt(s),y=l*7+c-h-7+t,D;y<1?(D=s-1,y+=Kt(D)):y>m?(D=s+1,y-=Kt(s)):D=s;let{month:C,day:P}=Ba(D,y);return{year:D,month:C,day:P,...Tn(n)}}function ri(n){let{year:t,month:i,day:s}=n,l=Za(t,i,s);return{year:t,ordinal:l,...Tn(n)}}function _o(n){let{year:t,ordinal:i}=n,{month:s,day:l}=Ba(t,i);return{year:t,month:s,day:l,...Tn(n)}}function To(n,t){if(!B(n.localWeekday)||!B(n.localWeekNumber)||!B(n.localWeekYear)){if(!B(n.weekday)||!B(n.weekNumber)||!B(n.weekYear))throw new Dt("Cannot mix locale-based week fields with ISO-based week fields");return B(n.localWeekday)||(n.weekday=n.localWeekday),B(n.localWeekNumber)||(n.weekNumber=n.localWeekNumber),B(n.localWeekYear)||(n.weekYear=n.localWeekYear),delete n.localWeekday,delete n.localWeekNumber,delete n.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Ga(n,t=4,i=1){let s=_n(n.weekYear),l=dt(n.weekNumber,1,sr(n.weekYear,t,i)),c=dt(n.weekday,1,7);return s?l?c?!1:Tt("weekday",n.weekday):Tt("week",n.weekNumber):Tt("weekYear",n.weekYear)}function Ya(n){let t=_n(n.year),i=dt(n.ordinal,1,Kt(n.year));return t?i?!1:Tt("ordinal",n.ordinal):Tt("year",n.year)}function wo(n){let t=_n(n.year),i=dt(n.month,1,12),s=dt(n.day,1,Or(n.year,n.month));return t?i?s?!1:Tt("day",n.day):Tt("month",n.month):Tt("year",n.year)}function Eo(n){let{hour:t,minute:i,second:s,millisecond:l}=n,c=dt(t,0,23)||t===24&&i===0&&s===0&&l===0,h=dt(i,0,59),m=dt(s,0,59),y=dt(l,0,999);return c?h?m?y?!1:Tt("millisecond",l):Tt("second",s):Tt("minute",i):Tt("hour",t)}function B(n){return typeof n>"u"}function At(n){return typeof n=="number"}function _n(n){return typeof n=="number"&&n%1===0}function Na(n){return typeof n=="string"}function Ka(n){return Object.prototype.toString.call(n)==="[object Date]"}function Xn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Qn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Xa(n){return Array.isArray(n)?n:[n]}function Io(n,t,i){if(n.length!==0)return n.reduce((s,l)=>{let c=[t(l),l];return s&&i(s[0],c[0])===s[0]?s:c},null)[1]}function Qa(n,t){return t.reduce((i,s)=>(i[s]=n[s],i),{})}function Xt(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function vn(n){if(n==null)return null;if(typeof n!="object")throw new Fe("Week settings must be an object");if(!dt(n.firstDay,1,7)||!dt(n.minimalDays,1,7)||!Array.isArray(n.weekend)||n.weekend.some(t=>!dt(t,1,7)))throw new Fe("Invalid week settings");return{firstDay:n.firstDay,minimalDays:n.minimalDays,weekend:Array.from(n.weekend)}}function dt(n,t,i){return _n(n)&&n>=t&&n<=i}function df(n,t){return n-t*Math.floor(n/t)}function Ae(n,t=2){let i=n<0,s;return i?s="-"+(""+-n).padStart(t,"0"):s=(""+n).padStart(t,"0"),s}function Pt(n){if(!(B(n)||n===null||n===""))return parseInt(n,10)}function Qt(n){if(!(B(n)||n===null||n===""))return parseFloat(n)}function wn(n){if(!(B(n)||n===null||n==="")){let t=parseFloat("0."+n)*1e3;return Math.floor(t)}}function Er(n,t,i=!1){let s=10**t;return(i?Math.trunc:Math.round)(n*s)/s}function ar(n){return n%4===0&&(n%100!==0||n%400===0)}function Kt(n){return ar(n)?366:365}function Or(n,t){let i=df(t-1,12)+1,s=n+(t-i)/12;return i===2?ar(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function wr(n){let t=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(t=new Date(t),t.setUTCFullYear(n.year,n.month-1,n.day)),+t}function Ja(n,t,i){return-ti(ei(n,1,t),i)+t-1}function sr(n,t=4,i=1){let s=Ja(n,t,i),l=Ja(n+1,t,i);return(Kt(n)-s+l)/7}function En(n){return n>99?n:n>pe.twoDigitCutoffYear?1900+n:2e3+n}function Gn(n,t,i,s=null){let l=new Date(n),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);let h={timeZoneName:t,...c},m=new Intl.DateTimeFormat(i,h).formatToParts(l).find(y=>y.type.toLowerCase()==="timezonename");return m?m.value:null}function or(n,t){let i=parseInt(n,10);Number.isNaN(i)&&(i=0);let s=parseInt(t,10)||0,l=i<0||Object.is(i,-0)?-s:s;return i*60+l}function So(n){let t=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(t))throw new Fe(`Invalid unit value ${n}`);return t}function kr(n,t){let i={};for(let s in n)if(Xt(n,s)){let l=n[s];if(l==null)continue;i[t(s)]=So(l)}return i}function Jt(n,t){let i=Math.trunc(Math.abs(n/60)),s=Math.trunc(Math.abs(n%60)),l=n>=0?"+":"-";switch(t){case"short":return`${l}${Ae(i,2)}:${Ae(s,2)}`;case"narrow":return`${l}${i}${s>0?`:${s}`:""}`;case"techie":return`${l}${Ae(i,2)}${Ae(s,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Tn(n){return Qa(n,["hour","minute","second","millisecond"])}var pf=["January","February","March","April","May","June","July","August","September","October","November","December"],Oo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mf=["J","F","M","A","M","J","J","A","S","O","N","D"];function co(n){switch(n){case"narrow":return[...mf];case"short":return[...Oo];case"long":return[...pf];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ko=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Do=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],yf=["M","T","W","T","F","S","S"];function fo(n){switch(n){case"narrow":return[...yf];case"short":return[...Do];case"long":return[...ko];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var ho=["AM","PM"],vf=["Before Christ","Anno Domini"],gf=["BC","AD"],_f=["B","A"];function po(n){switch(n){case"narrow":return[..._f];case"short":return[...gf];case"long":return[...vf];default:return null}}function eu(n){return ho[n.hour<12?0:1]}function tu(n,t){return fo(t)[n.weekday-1]}function ru(n,t){return co(t)[n.month-1]}function nu(n,t){return po(t)[n.year<0?0:1]}function Aa(n,t,i="always",s=!1){let l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(n)===-1;if(i==="auto"&&c){let P=n==="days";switch(t){case 1:return P?"tomorrow":`next ${l[n][0]}`;case-1:return P?"yesterday":`last ${l[n][0]}`;case 0:return P?"today":`this ${l[n][0]}`;default:}}let h=Object.is(t,-0)||t<0,m=Math.abs(t),y=m===1,D=l[n],C=s?y?D[1]:D[2]||D[1]:y?l[n][0]:n;return h?`${m} ${C} ago`:`in ${m} ${C}`}function iu(n,t){let i="";for(let s of n)s.literal?i+=s.val:i+=t(s.val);return i}var Tf={D:Gt,DD:Jr,DDD:Kr,DDDD:Xr,t:Qr,tt:en,ttt:tn,tttt:rn,T:nn,TT:on,TTT:sn,TTTT:an,f:un,ff:cn,fff:hn,ffff:pn,F:ln,FF:fn,FFF:dn,FFFF:mn},$e=class n{static create(t,i={}){return new n(t,i)}static parseFormat(t){let i=null,s="",l=!1,c=[];for(let h=0;h<t.length;h++){let m=t.charAt(h);m==="'"?(s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),i=null,s="",l=!l):l||m===i?s+=m:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=m,i=m)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(t){return Tf[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}dtFormatter(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i})}formatDateTime(t,i){return this.dtFormatter(t,i).format()}formatDateTimeParts(t,i){return this.dtFormatter(t,i).formatToParts()}formatInterval(t,i){return this.dtFormatter(t.start,i).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,i){return this.dtFormatter(t,i).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return Ae(t,i);let s={...this.opts};return i>0&&(s.padTo=i),this.loc.numberFormatter(s).format(t)}formatDateTimeFromString(t,i){let s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(q,ge)=>this.loc.extract(t,q,ge),h=q=>t.isOffsetFixed&&t.offset===0&&q.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,q.format):"",m=()=>s?eu(t):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),y=(q,ge)=>s?ru(t,q):c(ge?{month:q}:{month:q,day:"numeric"},"month"),D=(q,ge)=>s?tu(t,q):c(ge?{weekday:q}:{weekday:q,month:"long",day:"numeric"},"weekday"),C=q=>{let ge=n.macroTokenToFormatOpts(q);return ge?this.formatWithSystemDefault(t,ge):q},P=q=>s?nu(t,q):c({era:q},"era"),ee=q=>{switch(q){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return h({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return h({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return h({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return m();case"d":return l?c({day:"numeric"},"day"):this.num(t.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return D("short",!0);case"cccc":return D("long",!0);case"ccccc":return D("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return D("short",!1);case"EEEE":return D("long",!1);case"EEEEE":return D("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return y("short",!0);case"LLLL":return y("long",!0);case"LLLLL":return y("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(t.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return y("short",!1);case"MMMM":return y("long",!1);case"MMMMM":return y("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(t.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(t.year,6);case"G":return P("short");case"GG":return P("long");case"GGGGG":return P("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return C(q)}};return iu(n.parseFormat(i),ee)}formatDurationFromString(t,i){let s=y=>{switch(y[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},l=y=>D=>{let C=s(D);return C?this.num(y.get(C),D.length):D},c=n.parseFormat(i),h=c.reduce((y,{literal:D,val:C})=>D?y:y.concat(C),[]),m=t.shiftTo(...h.map(s).filter(y=>y));return iu(c,l(m))}};var su=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function br(...n){let t=n.reduce((i,s)=>i+s.source,"");return RegExp(`^${t}$`)}function Mr(...n){return t=>n.reduce(([i,s,l],c)=>{let[h,m,y]=c(t,l);return[{...i,...h},m||s,y]},[{},null,1]).slice(0,2)}function xr(n,...t){if(n==null)return[null,null];for(let[i,s]of t){let l=i.exec(n);if(l)return s(l)}return[null,null]}function au(...n){return(t,i)=>{let s={},l;for(l=0;l<n.length;l++)s[n[l]]=Pt(t[i+l]);return[s,null,i+l]}}var uu=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,wf=`(?:${uu.source}?(?:\\[(${su.source})\\])?)?`,bo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,lu=RegExp(`${bo.source}${wf}`),Mo=RegExp(`(?:T${lu.source})?`),Ef=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,If=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Sf=/(\d{4})-?(\d{3})/,Of=au("weekYear","weekNumber","weekDay"),kf=au("year","ordinal"),Df=/(\d{4})-(\d\d)-(\d\d)/,cu=RegExp(`${bo.source} ?(?:${uu.source}|(${su.source}))?`),bf=RegExp(`(?: ${cu.source})?`);function Dr(n,t,i){let s=n[t];return B(s)?i:Pt(s)}function Mf(n,t){return[{year:Dr(n,t),month:Dr(n,t+1,1),day:Dr(n,t+2,1)},null,t+3]}function Ar(n,t){return[{hours:Dr(n,t,0),minutes:Dr(n,t+1,0),seconds:Dr(n,t+2,0),milliseconds:wn(n[t+3])},null,t+4]}function In(n,t){let i=!n[t]&&!n[t+1],s=or(n[t+1],n[t+2]),l=i?null:qe.instance(s);return[{},l,t+3]}function Sn(n,t){let i=n[t]?Ke.create(n[t]):null;return[{},i,t+1]}var xf=RegExp(`^T?${bo.source}$`),Af=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Nf(n){let[t,i,s,l,c,h,m,y,D]=n,C=t[0]==="-",P=y&&y[0]==="-",ee=(q,ge=!1)=>q!==void 0&&(ge||q&&C)?-q:q;return[{years:ee(Qt(i)),months:ee(Qt(s)),weeks:ee(Qt(l)),days:ee(Qt(c)),hours:ee(Qt(h)),minutes:ee(Qt(m)),seconds:ee(Qt(y),y==="-0"),milliseconds:ee(wn(D),P)}]}var Ff={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function xo(n,t,i,s,l,c,h){let m={year:t.length===2?En(Pt(t)):Pt(t),month:Oo.indexOf(i)+1,day:Pt(s),hour:Pt(l),minute:Pt(c)};return h&&(m.second=Pt(h)),n&&(m.weekday=n.length>3?ko.indexOf(n)+1:Do.indexOf(n)+1),m}var Lf=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Cf(n){let[,t,i,s,l,c,h,m,y,D,C,P]=n,ee=xo(t,l,s,i,c,h,m),q;return y?q=Ff[y]:D?q=0:q=or(C,P),[ee,new qe(q)]}function zf(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Rf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Uf=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Wf=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ou(n){let[,t,i,s,l,c,h,m]=n;return[xo(t,l,s,i,c,h,m),qe.utcInstance]}function jf(n){let[,t,i,s,l,c,h,m]=n;return[xo(t,m,i,s,l,c,h),qe.utcInstance]}var Pf=br(Ef,Mo),Vf=br(If,Mo),qf=br(Sf,Mo),Hf=br(lu),fu=Mr(Mf,Ar,In,Sn),$f=Mr(Of,Ar,In,Sn),Zf=Mr(kf,Ar,In,Sn),Bf=Mr(Ar,In,Sn);function hu(n){return xr(n,[Pf,fu],[Vf,$f],[qf,Zf],[Hf,Bf])}function du(n){return xr(zf(n),[Lf,Cf])}function pu(n){return xr(n,[Rf,ou],[Uf,ou],[Wf,jf])}function mu(n){return xr(n,[Af,Nf])}var Gf=Mr(Ar);function yu(n){return xr(n,[xf,Gf])}var Yf=br(Df,bf),Jf=br(cu),Kf=Mr(Ar,In,Sn);function vu(n){return xr(n,[Yf,fu],[Jf,Kf])}var gu="Invalid Duration",Tu={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Xf={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Tu},wt=146097/400,Nr=146097/4800,Qf={years:{quarters:4,months:12,weeks:wt/7,days:wt,hours:wt*24,minutes:wt*24*60,seconds:wt*24*60*60,milliseconds:wt*24*60*60*1e3},quarters:{months:3,weeks:wt/28,days:wt/4,hours:wt*24/4,minutes:wt*24*60/4,seconds:wt*24*60*60/4,milliseconds:wt*24*60*60*1e3/4},months:{weeks:Nr/7,days:Nr,hours:Nr*24,minutes:Nr*24*60,seconds:Nr*24*60*60,milliseconds:Nr*24*60*60*1e3},...Tu},ur=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],eh=ur.slice(0).reverse();function er(n,t,i=!1){let s={values:i?t.values:{...n.values,...t.values||{}},loc:n.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||n.conversionAccuracy,matrix:t.matrix||n.matrix};return new Ne(s)}function wu(n,t){let i=t.milliseconds??0;for(let s of eh.slice(1))t[s]&&(i+=t[s]*n[s].milliseconds);return i}function _u(n,t){let i=wu(n,t)<0?-1:1;ur.reduceRight((s,l)=>{if(B(t[l]))return s;if(s){let c=t[s]*i,h=n[l][s],m=Math.floor(c/h);t[l]+=m*i,t[s]-=m*h*i}return l},null),ur.reduce((s,l)=>{if(B(t[l]))return s;if(s){let c=t[s]%1;t[s]-=c,t[l]+=c*n[s][l]}return l},null)}function th(n){let t={};for(let[i,s]of Object.entries(n))s!==0&&(t[i]=s);return t}var Ne=class n{constructor(t){let i=t.conversionAccuracy==="longterm"||!1,s=i?Qf:Xf;t.matrix&&(s=t.matrix),this.values=t.values,this.loc=t.loc||me.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(t,i){return n.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Fe(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new n({values:kr(t,n.normalizeUnit),loc:me.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(At(t))return n.fromMillis(t);if(n.isDuration(t))return t;if(typeof t=="object")return n.fromObject(t);throw new Fe(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){let[s]=mu(t);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){let[s]=yu(t);return s?n.fromObject(s,i):n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Fe("need to specify a reason the Duration is invalid");let s=t instanceof He?t:new He(t,i);if(pe.throwOnInvalid)throw new Zn(s);return new n({invalid:s})}static normalizeUnit(t){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new Tr(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){let s={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?$e.create(this.loc,s).formatDurationFromString(this,t):gu}toHuman(t={}){if(!this.isValid)return gu;let i=ur.map(s=>{let l=this.values[s];return B(l)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:s.slice(0,-1)}).format(l)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Er(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let i=this.toMillis();return i<0||i>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},se.fromMillis(i,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?wu(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let i=n.fromDurationLike(t),s={};for(let l of ur)(Xt(i.values,l)||Xt(this.values,l))&&(s[l]=i.get(l)+this.get(l));return er(this,{values:s},!0)}minus(t){if(!this.isValid)return this;let i=n.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;let i={};for(let s of Object.keys(this.values))i[s]=So(t(this.values[s],s));return er(this,{values:i},!0)}get(t){return this[n.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let i={...this.values,...kr(t,n.normalizeUnit)};return er(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:s,matrix:l}={}){let h={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:l,conversionAccuracy:s};return er(this,h)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return _u(this.matrix,t),er(this,{values:t},!0)}rescale(){if(!this.isValid)return this;let t=th(this.normalize().shiftToAll().toObject());return er(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(h=>n.normalizeUnit(h));let i={},s={},l=this.toObject(),c;for(let h of ur)if(t.indexOf(h)>=0){c=h;let m=0;for(let D in s)m+=this.matrix[D][h]*s[D],s[D]=0;At(l[h])&&(m+=l[h]);let y=Math.trunc(m);i[h]=y,s[h]=(m*1e3-y*1e3)/1e3}else At(l[h])&&(s[h]=l[h]);for(let h in s)s[h]!==0&&(i[c]+=h===c?s[h]:s[h]/this.matrix[c][h]);return _u(this.matrix,i),er(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let t={};for(let i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return er(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(let s of ur)if(!i(this.values[s],t.values[s]))return!1;return!0}};var Fr="Invalid Interval";function rh(n,t){return!n||!n.isValid?Vt.invalid("missing or invalid start"):!t||!t.isValid?Vt.invalid("missing or invalid end"):t<n?Vt.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${t.toISO()}`):null}var Vt=class n{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Fe("need to specify a reason the Interval is invalid");let s=t instanceof He?t:new He(t,i);if(pe.throwOnInvalid)throw new $n(s);return new n({invalid:s})}static fromDateTimes(t,i){let s=Lr(t),l=Lr(i),c=rh(s,l);return c??new n({start:s,end:l})}static after(t,i){let s=Ne.fromDurationLike(i),l=Lr(t);return n.fromDateTimes(l,l.plus(s))}static before(t,i){let s=Ne.fromDurationLike(i),l=Lr(t);return n.fromDateTimes(l.minus(s),l)}static fromISO(t,i){let[s,l]=(t||"").split("/",2);if(s&&l){let c,h;try{c=se.fromISO(s,i),h=c.isValid}catch{h=!1}let m,y;try{m=se.fromISO(l,i),y=m.isValid}catch{y=!1}if(h&&y)return n.fromDateTimes(c,m);if(h){let D=Ne.fromISO(l,i);if(D.isValid)return n.after(c,D)}else if(y){let D=Ne.fromISO(s,i);if(D.isValid)return n.before(m,D)}}return n.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",i){if(!this.isValid)return NaN;let s=this.start.startOf(t,i),l;return i?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(t,i),Math.floor(l.diff(s,t).get(t))+(l.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?n.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];let i=t.map(Lr).filter(h=>this.contains(h)).sort((h,m)=>h.toMillis()-m.toMillis()),s=[],{s:l}=this,c=0;for(;l<this.e;){let h=i[c]||this.e,m=+h>+this.e?this.e:h;s.push(n.fromDateTimes(l,m)),l=m,c+=1}return s}splitBy(t){let i=Ne.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s}=this,l=1,c,h=[];for(;s<this.e;){let m=this.start.plus(i.mapUnits(y=>y*l));c=+m>+this.e?this.e:m,h.push(n.fromDateTimes(s,c)),s=c,l+=1}return h}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let i=this.s>t.s?this.s:t.s,s=this.e<t.e?this.e:t.e;return i>=s?null:n.fromDateTimes(i,s)}union(t){if(!this.isValid)return this;let i=this.s<t.s?this.s:t.s,s=this.e>t.e?this.e:t.e;return n.fromDateTimes(i,s)}static merge(t){let[i,s]=t.sort((l,c)=>l.s-c.s).reduce(([l,c],h)=>c?c.overlaps(h)||c.abutsStart(h)?[l,c.union(h)]:[l.concat([c]),h]:[l,h],[[],null]);return s&&i.push(s),i}static xor(t){let i=null,s=0,l=[],c=t.map(y=>[{time:y.s,type:"s"},{time:y.e,type:"e"}]),h=Array.prototype.concat(...c),m=h.sort((y,D)=>y.time-D.time);for(let y of m)s+=y.type==="s"?1:-1,s===1?i=y.time:(i&&+i!=+y.time&&l.push(n.fromDateTimes(i,y.time)),i=null);return n.merge(l)}difference(...t){return n.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Fr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Gt,i={}){return this.isValid?$e.create(this.s.loc.clone(i),t).formatInterval(this):Fr}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Fr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fr}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Fr}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Fr}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):Ne.invalid(this.invalidReason)}mapEndpoints(t){return n.fromDateTimes(t(this.s),t(this.e))}};var qt=class{static hasDST(t=pe.defaultZone){let i=se.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return Ke.isValidZone(t)}static normalizeZone(t){return xt(t,pe.defaultZone)}static getStartOfWeek({locale:t=null,locObj:i=null}={}){return(i||me.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:i=null}={}){return(i||me.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:i=null}={}){return(i||me.create(t)).getWeekendDays().slice()}static months(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||me.create(i,s,c)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||me.create(i,s,c)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||me.create(i,s,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:s=null,locObj:l=null}={}){return(l||me.create(i,s,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return me.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return me.create(i,null,"gregory").eras(t)}static features(){return{relative:Xn(),localeWeek:Qn()}}};function Eu(n,t){let i=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=i(t)-i(n);return Math.floor(Ne.fromMillis(s).as("days"))}function nh(n,t,i){let s=[["years",(y,D)=>D.year-y.year],["quarters",(y,D)=>D.quarter-y.quarter+(D.year-y.year)*4],["months",(y,D)=>D.month-y.month+(D.year-y.year)*12],["weeks",(y,D)=>{let C=Eu(y,D);return(C-C%7)/7}],["days",Eu]],l={},c=n,h,m;for(let[y,D]of s)i.indexOf(y)>=0&&(h=y,l[y]=D(n,t),m=c.plus(l),m>t?(l[y]--,n=c.plus(l),n>t&&(m=n,l[y]--,n=c.plus(l))):n=m);return[n,l,m,h]}function Iu(n,t,i,s){let[l,c,h,m]=nh(n,t,i),y=t-l,D=i.filter(P=>["hours","minutes","seconds","milliseconds"].indexOf(P)>=0);D.length===0&&(h<t&&(h=l.plus({[m]:1})),h!==l&&(c[m]=(c[m]||0)+y/(h-l)));let C=Ne.fromObject(c,s);return D.length>0?Ne.fromMillis(y,s).shiftTo(...D).plus(C):C}var ih="missing Intl.DateTimeFormat.formatToParts support";function ve(n,t=i=>i){return{regex:n,deser:([i])=>t(La(i))}}var oh="\xA0",ku=`[ ${oh}]`,Du=new RegExp(ku,"g");function sh(n){return n.replace(/\./g,"\\.?").replace(Du,ku)}function Su(n){return n.replace(/\./g,"").replace(Du," ").toLowerCase()}function Nt(n,t){return n===null?null:{regex:RegExp(n.map(sh).join("|")),deser:([i])=>n.findIndex(s=>Su(i)===Su(s))+t}}function Ou(n,t){return{regex:n,deser:([,i,s])=>or(i,s),groups:t}}function ni(n){return{regex:n,deser:([t])=>t}}function ah(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function uh(n,t){let i=_t(t),s=_t(t,"{2}"),l=_t(t,"{3}"),c=_t(t,"{4}"),h=_t(t,"{6}"),m=_t(t,"{1,2}"),y=_t(t,"{1,3}"),D=_t(t,"{1,6}"),C=_t(t,"{1,9}"),P=_t(t,"{2,4}"),ee=_t(t,"{4,6}"),q=Ie=>({regex:RegExp(ah(Ie.val)),deser:([be])=>be,literal:!0}),Se=(Ie=>{if(n.literal)return q(Ie);switch(Ie.val){case"G":return Nt(t.eras("short"),0);case"GG":return Nt(t.eras("long"),0);case"y":return ve(D);case"yy":return ve(P,En);case"yyyy":return ve(c);case"yyyyy":return ve(ee);case"yyyyyy":return ve(h);case"M":return ve(m);case"MM":return ve(s);case"MMM":return Nt(t.months("short",!0),1);case"MMMM":return Nt(t.months("long",!0),1);case"L":return ve(m);case"LL":return ve(s);case"LLL":return Nt(t.months("short",!1),1);case"LLLL":return Nt(t.months("long",!1),1);case"d":return ve(m);case"dd":return ve(s);case"o":return ve(y);case"ooo":return ve(l);case"HH":return ve(s);case"H":return ve(m);case"hh":return ve(s);case"h":return ve(m);case"mm":return ve(s);case"m":return ve(m);case"q":return ve(m);case"qq":return ve(s);case"s":return ve(m);case"ss":return ve(s);case"S":return ve(y);case"SSS":return ve(l);case"u":return ni(C);case"uu":return ni(m);case"uuu":return ve(i);case"a":return Nt(t.meridiems(),0);case"kkkk":return ve(c);case"kk":return ve(P,En);case"W":return ve(m);case"WW":return ve(s);case"E":case"c":return ve(i);case"EEE":return Nt(t.weekdays("short",!1),1);case"EEEE":return Nt(t.weekdays("long",!1),1);case"ccc":return Nt(t.weekdays("short",!0),1);case"cccc":return Nt(t.weekdays("long",!0),1);case"Z":case"ZZ":return Ou(new RegExp(`([+-]${m.source})(?::(${s.source}))?`),2);case"ZZZ":return Ou(new RegExp(`([+-]${m.source})(${s.source})?`),2);case"z":return ni(/[a-z_+-/]{1,256}?/i);case" ":return ni(/[^\S\n\r]/);default:return q(Ie)}})(n)||{invalidReason:ih};return Se.token=n,Se}var lh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ch(n,t,i){let{type:s,value:l}=n;if(s==="literal"){let y=/^\s+$/.test(l);return{literal:!y,val:y?" ":l}}let c=t[s],h=s;s==="hour"&&(t.hour12!=null?h=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?h="hour12":h="hour24":h=i.hour12?"hour12":"hour24");let m=lh[h];if(typeof m=="object"&&(m=m[c]),m)return{literal:!1,val:m}}function fh(n){return[`^${n.map(i=>i.regex).reduce((i,s)=>`${i}(${s.source})`,"")}$`,n]}function hh(n,t,i){let s=n.match(t);if(s){let l={},c=1;for(let h in i)if(Xt(i,h)){let m=i[h],y=m.groups?m.groups+1:1;!m.literal&&m.token&&(l[m.token.val[0]]=m.deser(s.slice(c,c+y))),c+=y}return[s,l]}else return[s,{}]}function dh(n){let t=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,s;return B(n.z)||(i=Ke.create(n.z)),B(n.Z)||(i||(i=new qe(n.Z)),s=n.Z),B(n.q)||(n.M=(n.q-1)*3+1),B(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),B(n.u)||(n.S=wn(n.u)),[Object.keys(n).reduce((c,h)=>{let m=t(h);return m&&(c[m]=n[h]),c},{}),i,s]}var Ao=null;function ph(){return Ao||(Ao=se.fromMillis(1555555555555)),Ao}function mh(n,t){if(n.literal)return n;let i=$e.macroTokenToFormatOpts(n.val),s=Lo(i,t);return s==null||s.includes(void 0)?n:s}function No(n,t){return Array.prototype.concat(...n.map(i=>mh(i,t)))}var On=class{constructor(t,i){if(this.locale=t,this.format=i,this.tokens=No($e.parseFormat(i),t),this.units=this.tokens.map(s=>uh(s,t)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){let[s,l]=fh(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(t){if(this.isValid){let[i,s]=hh(t,this.regex,this.handlers),[l,c,h]=s?dh(s):[null,null,void 0];if(Xt(s,"a")&&Xt(s,"H"))throw new Dt("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:s,result:l,zone:c,specificOffset:h}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function Fo(n,t,i){return new On(n,i).explainFromTokens(t)}function bu(n,t,i){let{result:s,zone:l,specificOffset:c,invalidReason:h}=Fo(n,t,i);return[s,l,c,h]}function Lo(n,t){if(!n)return null;let s=$e.create(t,n).dtFormatter(ph()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(h=>ch(h,n,c))}var Co="Invalid DateTime",Mu=864e13;function kn(n){return new He("unsupported zone",`the zone "${n.name}" is not supported`)}function zo(n){return n.weekData===null&&(n.weekData=gn(n.c)),n.weekData}function Ro(n){return n.localWeekData===null&&(n.localWeekData=gn(n.c,n.loc.getMinDaysInFirstWeek(),n.loc.getStartOfWeek())),n.localWeekData}function lr(n,t){let i={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new se({...i,...t,old:i})}function zu(n,t,i){let s=n-t*60*1e3,l=i.offset(s);if(t===l)return[s,t];s-=(l-t)*60*1e3;let c=i.offset(s);return l===c?[s,l]:[n-Math.min(l,c)*60*1e3,Math.max(l,c)]}function ii(n,t){n+=t*60*1e3;let i=new Date(n);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function si(n,t,i){return zu(wr(n),t,i)}function xu(n,t){let i=n.o,s=n.c.year+Math.trunc(t.years),l=n.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,c={...n.c,year:s,month:l,day:Math.min(n.c.day,Or(s,l))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},h=Ne.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),m=wr(c),[y,D]=zu(m,i,n.zone);return h!==0&&(y+=h,D=n.zone.offset(y)),{ts:y,o:D}}function Cr(n,t,i,s,l,c){let{setZone:h,zone:m}=i;if(n&&Object.keys(n).length!==0||t){let y=t||m,D=se.fromObject(n,{...i,zone:y,specificOffset:c});return h?D:D.setZone(m)}else return se.invalid(new He("unparsable",`the input "${l}" can't be parsed as ${s}`))}function oi(n,t,i=!0){return n.isValid?$e.create(me.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(n,t):null}function Uo(n,t){let i=n.c.year>9999||n.c.year<0,s="";return i&&n.c.year>=0&&(s+="+"),s+=Ae(n.c.year,i?6:4),t?(s+="-",s+=Ae(n.c.month),s+="-",s+=Ae(n.c.day)):(s+=Ae(n.c.month),s+=Ae(n.c.day)),s}function Au(n,t,i,s,l,c){let h=Ae(n.c.hour);return t?(h+=":",h+=Ae(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=":")):h+=Ae(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!i)&&(h+=Ae(n.c.second),(n.c.millisecond!==0||!s)&&(h+=".",h+=Ae(n.c.millisecond,3))),l&&(n.isOffsetFixed&&n.offset===0&&!c?h+="Z":n.o<0?(h+="-",h+=Ae(Math.trunc(-n.o/60)),h+=":",h+=Ae(Math.trunc(-n.o%60))):(h+="+",h+=Ae(Math.trunc(n.o/60)),h+=":",h+=Ae(Math.trunc(n.o%60)))),c&&(h+="["+n.zone.ianaName+"]"),h}var Ru={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},yh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vh={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Uu=["year","month","day","hour","minute","second","millisecond"],gh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],_h=["year","ordinal","hour","minute","second","millisecond"];function Th(n){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!t)throw new Tr(n);return t}function Nu(n){switch(n.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Th(n)}}function wh(n){return ui[n]||(ai===void 0&&(ai=pe.now()),ui[n]=n.offset(ai)),ui[n]}function Fu(n,t){let i=xt(t.zone,pe.defaultZone);if(!i.isValid)return se.invalid(kn(i));let s=me.fromObject(t),l,c;if(B(n.year))l=pe.now();else{for(let y of Uu)B(n[y])&&(n[y]=Ru[y]);let h=wo(n)||Eo(n);if(h)return se.invalid(h);let m=wh(i);[l,c]=si(n,m,i)}return new se({ts:l,zone:i,loc:s,o:c})}function Lu(n,t,i){let s=B(i.round)?!0:i.round,l=(h,m)=>(h=Er(h,s||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(h,m)),c=h=>i.calendary?t.hasSame(n,h)?0:t.startOf(h).diff(n.startOf(h),h).get(h):t.diff(n,h).get(h);if(i.unit)return l(c(i.unit),i.unit);for(let h of i.units){let m=c(h);if(Math.abs(m)>=1)return l(m,h)}return l(n>t?-0:0,i.units[i.units.length-1])}function Cu(n){let t={},i;return n.length>0&&typeof n[n.length-1]=="object"?(t=n[n.length-1],i=Array.from(n).slice(0,n.length-1)):i=Array.from(n),[t,i]}var ai,ui={},se=class n{constructor(t){let i=t.zone||pe.defaultZone,s=t.invalid||(Number.isNaN(t.ts)?new He("invalid input"):null)||(i.isValid?null:kn(i));this.ts=B(t.ts)?pe.now():t.ts;let l=null,c=null;if(!s)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[l,c]=[t.old.c,t.old.o];else{let m=At(t.o)&&!t.old?t.o:i.offset(this.ts);l=ii(this.ts,m),s=Number.isNaN(l.year)?new He("invalid input"):null,l=s?null:l,c=s?null:m}this._zone=i,this.loc=t.loc||me.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new n({})}static local(){let[t,i]=Cu(arguments),[s,l,c,h,m,y,D]=i;return Fu({year:s,month:l,day:c,hour:h,minute:m,second:y,millisecond:D},t)}static utc(){let[t,i]=Cu(arguments),[s,l,c,h,m,y,D]=i;return t.zone=qe.utcInstance,Fu({year:s,month:l,day:c,hour:h,minute:m,second:y,millisecond:D},t)}static fromJSDate(t,i={}){let s=Ka(t)?t.valueOf():NaN;if(Number.isNaN(s))return n.invalid("invalid input");let l=xt(i.zone,pe.defaultZone);return l.isValid?new n({ts:s,zone:l,loc:me.fromObject(i)}):n.invalid(kn(l))}static fromMillis(t,i={}){if(At(t))return t<-Mu||t>Mu?n.invalid("Timestamp out of range"):new n({ts:t,zone:xt(i.zone,pe.defaultZone),loc:me.fromObject(i)});throw new Fe(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(At(t))return new n({ts:t*1e3,zone:xt(i.zone,pe.defaultZone),loc:me.fromObject(i)});throw new Fe("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};let s=xt(i.zone,pe.defaultZone);if(!s.isValid)return n.invalid(kn(s));let l=me.fromObject(i),c=kr(t,Nu),{minDaysInFirstWeek:h,startOfWeek:m}=To(c,l),y=pe.now(),D=B(i.specificOffset)?s.offset(y):i.specificOffset,C=!B(c.ordinal),P=!B(c.year),ee=!B(c.month)||!B(c.day),q=P||ee,ge=c.weekYear||c.weekNumber;if((q||C)&&ge)throw new Dt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ee&&C)throw new Dt("Can't mix ordinal dates with month/day");let Se=ge||c.weekday&&!q,Ie,be,Le=ii(y,D);Se?(Ie=gh,be=yh,Le=gn(Le,h,m)):C?(Ie=_h,be=vh,Le=ri(Le)):(Ie=Uu,be=Ru);let Ht=!1;for(let It of Ie){let Ut=c[It];B(Ut)?Ht?c[It]=be[It]:c[It]=Le[It]:Ht=!0}let ot=Se?Ga(c,h,m):C?Ya(c):wo(c),Xe=ot||Eo(c);if(Xe)return n.invalid(Xe);let zr=Se?go(c,h,m):C?_o(c):c,[Et,tr]=si(zr,D,s),Rt=new n({ts:Et,zone:s,o:tr,loc:l});return c.weekday&&q&&t.weekday!==Rt.weekday?n.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${Rt.toISO()}`):Rt.isValid?Rt:n.invalid(Rt.invalid)}static fromISO(t,i={}){let[s,l]=hu(t);return Cr(s,l,i,"ISO 8601",t)}static fromRFC2822(t,i={}){let[s,l]=du(t);return Cr(s,l,i,"RFC 2822",t)}static fromHTTP(t,i={}){let[s,l]=pu(t);return Cr(s,l,i,"HTTP",i)}static fromFormat(t,i,s={}){if(B(t)||B(i))throw new Fe("fromFormat requires an input string and a format");let{locale:l=null,numberingSystem:c=null}=s,h=me.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[m,y,D,C]=bu(h,t,i);return C?n.invalid(C):Cr(m,y,s,`format ${i}`,t,D)}static fromString(t,i,s={}){return n.fromFormat(t,i,s)}static fromSQL(t,i={}){let[s,l]=vu(t);return Cr(s,l,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Fe("need to specify a reason the DateTime is invalid");let s=t instanceof He?t:new He(t,i);if(pe.throwOnInvalid)throw new Hn(s);return new n({invalid:s})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){let s=Lo(t,me.fromObject(i));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(t,i={}){return No($e.parseFormat(t),me.fromObject(i)).map(l=>l.val).join("")}static resetCache(){ai=void 0,ui={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zo(this).weekYear:NaN}get weekNumber(){return this.isValid?zo(this).weekNumber:NaN}get weekday(){return this.isValid?zo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ro(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ro(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ro(this).weekYear:NaN}get ordinal(){return this.isValid?ri(this.c).ordinal:NaN}get monthShort(){return this.isValid?qt.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?qt.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?qt.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?qt.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let t=864e5,i=6e4,s=wr(this.c),l=this.zone.offset(s-t),c=this.zone.offset(s+t),h=this.zone.offset(s-l*i),m=this.zone.offset(s-c*i);if(h===m)return[this];let y=s-h*i,D=s-m*i,C=ii(y,h),P=ii(D,m);return C.hour===P.hour&&C.minute===P.minute&&C.second===P.second&&C.millisecond===P.millisecond?[lr(this,{ts:y}),lr(this,{ts:D})]:[this]}get isInLeapYear(){return ar(this.year)}get daysInMonth(){return Or(this.year,this.month)}get daysInYear(){return this.isValid?Kt(this.year):NaN}get weeksInWeekYear(){return this.isValid?sr(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?sr(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){let{locale:i,numberingSystem:s,calendar:l}=$e.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:s,outputCalendar:l}}toUTC(t=0,i={}){return this.setZone(qe.instance(t),i)}toLocal(){return this.setZone(pe.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:s=!1}={}){if(t=xt(t,pe.defaultZone),t.equals(this.zone))return this;if(t.isValid){let l=this.ts;if(i||s){let c=t.offset(this.ts),h=this.toObject();[l]=si(h,c,t)}return lr(this,{ts:l,zone:t})}else return n.invalid(kn(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:s}={}){let l=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:s});return lr(this,{loc:l})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let i=kr(t,Nu),{minDaysInFirstWeek:s,startOfWeek:l}=To(i,this.loc),c=!B(i.weekYear)||!B(i.weekNumber)||!B(i.weekday),h=!B(i.ordinal),m=!B(i.year),y=!B(i.month)||!B(i.day),D=m||y,C=i.weekYear||i.weekNumber;if((D||h)&&C)throw new Dt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&h)throw new Dt("Can't mix ordinal dates with month/day");let P;c?P=go({...gn(this.c,s,l),...i},s,l):B(i.ordinal)?(P={...this.toObject(),...i},B(i.day)&&(P.day=Math.min(Or(P.year,P.month),P.day))):P=_o({...ri(this.c),...i});let[ee,q]=si(P,this.o,this.zone);return lr(this,{ts:ee,o:q})}plus(t){if(!this.isValid)return this;let i=Ne.fromDurationLike(t);return lr(this,xu(this,i))}minus(t){if(!this.isValid)return this;let i=Ne.fromDurationLike(t).negate();return lr(this,xu(this,i))}startOf(t,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;let s={},l=Ne.normalizeUnit(t);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break;case"milliseconds":break}if(l==="weeks")if(i){let c=this.loc.getStartOfWeek(),{weekday:h}=this;h<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){let c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(t,i){return this.isValid?this.plus({[t]:1}).startOf(t,i).minus(1):this}toFormat(t,i={}){return this.isValid?$e.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):Co}toLocaleString(t=Gt,i={}){return this.isValid?$e.create(this.loc.clone(i),t).formatDateTime(this):Co}toLocaleParts(t={}){return this.isValid?$e.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1}={}){if(!this.isValid)return null;let h=t==="extended",m=Uo(this,h);return m+="T",m+=Au(this,h,i,s,l,c),m}toISODate({format:t="extended"}={}){return this.isValid?Uo(this,t==="extended"):null}toISOWeekDate(){return oi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:h="extended"}={}){return this.isValid?(l?"T":"")+Au(this,h==="extended",i,t,s,c):null}toRFC2822(){return oi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return oi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Uo(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(i||t)&&(s&&(l+=" "),i?l+="z":t&&(l+="ZZ")),oi(this,l,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Co}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",s={}){if(!this.isValid||!t.isValid)return Ne.invalid("created by diffing an invalid DateTime");let l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=Xa(i).map(Ne.normalizeUnit),h=t.valueOf()>this.valueOf(),m=h?this:t,y=h?t:this,D=Iu(m,y,c,l);return h?D.negate():D}diffNow(t="milliseconds",i={}){return this.diff(n.now(),t,i)}until(t){return this.isValid?Vt.fromDateTimes(this,t):this}hasSame(t,i,s){if(!this.isValid)return!1;let l=t.valueOf(),c=this.setZone(t.zone,{keepLocalTime:!0});return c.startOf(i,s)<=l&&l<=c.endOf(i,s)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let i=t.base||n.fromObject({},{zone:this.zone}),s=t.padding?this<i?-t.padding:t.padding:0,l=["years","months","days","hours","minutes","seconds"],c=t.unit;return Array.isArray(t.unit)&&(l=t.unit,c=void 0),Lu(i,this.plus(s),{...t,numeric:"always",units:l,unit:c})}toRelativeCalendar(t={}){return this.isValid?Lu(t.base||n.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(n.isDateTime))throw new Fe("min requires all arguments be DateTimes");return Io(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(n.isDateTime))throw new Fe("max requires all arguments be DateTimes");return Io(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,s={}){let{locale:l=null,numberingSystem:c=null}=s,h=me.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Fo(h,t,i)}static fromStringExplain(t,i,s={}){return n.fromFormatExplain(t,i,s)}static buildFormatParser(t,i={}){let{locale:s=null,numberingSystem:l=null}=i,c=me.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new On(c,t)}static fromFormatParser(t,i,s={}){if(B(t)||B(i))throw new Fe("fromFormatParser requires an input string and a format parser");let{locale:l=null,numberingSystem:c=null}=s,h=me.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});if(!h.equals(i.locale))throw new Fe(`fromFormatParser called with a locale of ${h}, but the format parser was created for ${i.locale}`);let{result:m,zone:y,specificOffset:D,invalidReason:C}=i.explainFromTokens(t);return C?n.invalid(C):Cr(m,y,s,`format ${i.format}`,t,D)}static get DATE_SHORT(){return Gt}static get DATE_MED(){return Jr}static get DATE_MED_WITH_WEEKDAY(){return eo}static get DATE_FULL(){return Kr}static get DATE_HUGE(){return Xr}static get TIME_SIMPLE(){return Qr}static get TIME_WITH_SECONDS(){return en}static get TIME_WITH_SHORT_OFFSET(){return tn}static get TIME_WITH_LONG_OFFSET(){return rn}static get TIME_24_SIMPLE(){return nn}static get TIME_24_WITH_SECONDS(){return on}static get TIME_24_WITH_SHORT_OFFSET(){return sn}static get TIME_24_WITH_LONG_OFFSET(){return an}static get DATETIME_SHORT(){return un}static get DATETIME_SHORT_WITH_SECONDS(){return ln}static get DATETIME_MED(){return cn}static get DATETIME_MED_WITH_SECONDS(){return fn}static get DATETIME_MED_WITH_WEEKDAY(){return to}static get DATETIME_FULL(){return hn}static get DATETIME_FULL_WITH_SECONDS(){return dn}static get DATETIME_HUGE(){return pn}static get DATETIME_HUGE_WITH_SECONDS(){return mn}};function Lr(n){if(se.isDateTime(n))return n;if(n&&n.valueOf&&At(n.valueOf()))return se.fromJSDate(n);if(n&&typeof n=="object")return se.fromObject(n);throw new Fe(`Unknown datetime argument: ${n}, of type ${typeof n}`)}var it=ga(ju(),1);var ci,Eh=new Uint8Array(16);function Wo(){if(!ci&&(ci=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ci))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ci(Eh)}var Ye=[];for(let n=0;n<256;++n)Ye.push((n+256).toString(16).slice(1));function Pu(n,t=0){return Ye[n[t+0]]+Ye[n[t+1]]+Ye[n[t+2]]+Ye[n[t+3]]+"-"+Ye[n[t+4]]+Ye[n[t+5]]+"-"+Ye[n[t+6]]+Ye[n[t+7]]+"-"+Ye[n[t+8]]+Ye[n[t+9]]+"-"+Ye[n[t+10]]+Ye[n[t+11]]+Ye[n[t+12]]+Ye[n[t+13]]+Ye[n[t+14]]+Ye[n[t+15]]}var Ih=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jo={randomUUID:Ih};function Sh(n,t,i){if(jo.randomUUID&&!t&&!n)return jo.randomUUID();n=n||{};let s=n.random||(n.rng||Wo)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){i=i||0;for(let l=0;l<16;++l)t[i+l]=s[l];return t}return Pu(s)}var Po=Sh;var Oh=`
X-WR-TIMEZONE:Europe/Rome
BEGIN:VTIMEZONE
TZID:Europe/Rome
X-LIC-LOCATION:Europe/Rome
BEGIN:DAYLIGHT
TZOFFSETFROM:+0100
TZOFFSETTO:+0200
TZNAME:CEST
DTSTART:19700329T020000
RRULE:FREQ=YEARLY;BYMONTH=3;BYDAY=-1SU
END:DAYLIGHT
BEGIN:STANDARD
TZOFFSETFROM:+0200
TZOFFSETTO:+0100
TZNAME:CET
DTSTART:19701025T030000
RRULE:FREQ=YEARLY;BYMONTH=10;BYDAY=-1SU
END:STANDARD
END:VTIMEZONE
`.replace(/\r?\n/g,`\r
`),Vo={Domenica:7,Luned\u00EC:1,Marted\u00EC:2,Mercoled\u00EC:3,Gioved\u00EC:4,Venerd\u00EC:5,Sabato:6,Sunday:7,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},kh={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,gen:1,mag:5,giu:6,lug:7,ago:8,set:9,ott:10,dic:12},Dh=[2,3,4,9,10,11],bh=[4,5,6,10,11,12,1],Mh={Lezione:"it",Esercitazione:"it","Laboratorio informatico":"it",Laboratorio:"it",Lesson:"en",Training:"en",Laboratory:"en","Computer laboratory":"en"},xh={it:{one:"Docente:",many:"Docenti:"},en:{one:"Professor:",many:"Professors:"}};function Ah(n){return n.replace(/\r\n(?=BEGIN:VEVENT)/,Oh)}function Vu(n){return n.toFormat("yyyyMMdd'T'HHmmss")}function qo(n){return n.toUTC().toFormat("yyyyMMdd'T'HHmmss'Z'")}function Nh(n){return t=>t.set({hour:n.hour,minute:n.minute})}var Ho=String.raw`\d{2}-[a-zA-Z]{3}-\d{4}`,Fh=new RegExp(Ho);function Lh(n){return Fh.test(n)}var Ch=`${Object.keys(Vo).join("|")}|Virtual classroom|Aula virtuale|Inizio lezioni|Start of lessons|Lectures start|Lessons start|Fine lezioni|End of lessons*|Lectures end|Lessons end|Semester:|Semestre:|${Ho}|\\(|\\)`;function zh(n,t){let i=!0,s=parseInt(n[2]),l=parseInt(t[2]),c=parseInt(n[3]+n[2]+n[1]),h=parseInt(t[3]+t[2]+t[1]);return(Dh.indexOf(s)===-1||bh.indexOf(l)===-1||s>12||l>12||c>h)&&(i=!1),i}function qu(n){let t=n.split("-"),i=parseInt(t[2]),s=kh[t[1].toLowerCase()];if(s===void 0)throw new Error(`Invalid month in: ${n}`);let l=parseInt(t[0]);return se.fromObject({year:i,month:s,day:l,hour:12,minute:0},{zone:"Europe/Rome"})}function Rh(n,t){let i=[];for(let c of t)c[3]!==void 0&&i.push(c[3].trim());let s=/^\s*(?:Aula virtuale|Virtual classroom)\s*-\s*(.*)$/gm,l=[...n.matchAll(s)];for(let c of l)i.push(c[1].trim());return i=[...new Set(i)],i}function Hu(n,t){let i=null,s=xh[Mh[n]||"en"];t.length===1?i="one":t.length>1&&(i="many");let l="";return i!=null&&(l=s[i]),l}function Uh(n,t,i){let s=[],l=/^\s*([^\s]*) (?:dalle|from) (\d{2}):(\d{2}) (?:alle|to) (\d{2}):(\d{2})(?:,\s*)?(.+?(?=\sin\s|\sClassroom\s|\sAula\s))?(?: in (?:the)?\s*(?:aula|classroom|lecture theatre))*\s*(.*)$/gim,c=[...n.split(l)];c.splice(0,1);let h=8,m=c.length/h;for(let y=0;y<m;y++){let D=c[y*h+1],C=c[y*h+2],P=c[y*h+3],ee=c[y*h+4],q=c[y*h+5];q=q[0].toUpperCase()+q.substring(1);let ge=c[y*h+6],Se=c[y*h+7].split(`

`)[0].trim().split(`
`);Se=Se.filter(Lh);let Ie=qu(Se.splice(0,1)[0]),be=Ie.set({hour:D,minute:C}),Le=Ie.set({hour:P,minute:ee}),Ht=Hu(q,t),ot={summary:i,start:be,end:Le,dtstamp:se.now(),location:ge,description:(q===null?"":`${q}
`)+Ht+`
`+t.join(`
`)};Se.length>0&&(ot.rdate=Se.map(qu).map(Nh(be)).map(qo).join(",")),s.push(ot)}return{data:s,error:null}}function Wh(n,t,i,s,l){t.lastIndex=0;let c=[...n.matchAll(t)];if(c.length>1){let h=!1,m=[],y="";for(let P of n.split(`
`))i.test(P)?(y=y.trim(),y!==""&&m.push(y),y=P,h=!1):t.test(P)?h||(h=!0,y+=`
`+P):y+=`
`+P;y=y.trim(),y!==""&&m.push(y);let D=hi(m[0],s),C=hi(m.slice(1).join(`
`),s);return{data:[...D.data,...C.data],error:D.error||C.error}}else if(c.length===1){let h=c[0],m=/(\d{2})\/(\d{2})\/(\d{4})/,y=m.exec(h[2]),D=m.exec(h[3]),P=zh(y,D)?"dd/MM/yyyy":"MM/dd/yyyy",ee=se.fromFormat(h[2],P,{zone:"Europe/Rome"}),q=se.fromFormat(h[3],P,{zone:"Europe/Rome"});if(ee.invalid!==null||q.invalid!=null)return{data:[],error:ee.invalid||q.invalid};if(ee.valueOf()>q.valueOf())return{data:[],error:`Start is unexpectedly greater than End (${ee} > ${q})`};let ge=[],Se=/\n[^\n]+\n?([\s\S]*)/.exec(n);if(Se!==null&&Se[1]!==""){let Ie=Se[1].trim().split(`

`)[0].split(`
`);for(let be of Ie){let Le=/([^\s]*) (?:dalle|from) (\d+)[:.](\d+)\s?(?<startMidday>(?:[ap])\.?m\.?)? (?:alle|to) (\d+)[:.](\d+)\s?(?<endMidday>(?:[ap])\.?m\.?)?/i.exec(be);if(Le===null)continue;let Ht=/.*? (?:Aula al momento non disponibile|Classroom not available yet).*/,ot=Vo[Le[1]],Xe=ee;ot<ee.weekday?Xe=ee.set({day:ee.day-ee.weekday+7+ot}):Xe=ee.set({day:ee.day-ee.weekday+ot});let zr=Le.groups.startMidday!==void 0&&Le.groups.startMidday[0]==="p"?12:0;Xe=Xe.set({hour:parseInt(Le[2])+zr,minute:parseInt(Le[3])});let Et=q;if(ot<=q.weekday?Et=q.set({day:q.day-q.weekday+ot}):Et=q.set({day:q.day-q.weekday-7+ot}),Et=Et.set({hour:Xe.hour,minute:Xe.minute}),Xe.valueOf()>Et.valueOf())return{data:ge,error:`First day is unexpectedly greater than Last day (${Xe} > ${Et})`};let tr=Xe,Rt=Le.groups.endMidday!==void 0&&Le.groups.endMidday[0]==="p"?12:0;tr=tr.set({hour:parseInt(Le[5])+Rt,minute:parseInt(Le[6])});let It=null,Ut=null;if(!Ht.test(be)){let rr=/\d(?:\s*(?:am|pm))?(,\s*(.+))?\s+in\s+(?:aula|classroom|lecture theatre|the classroom|the|room) (.*)/.exec(be);if(rr===null){let Mn=/,\s*(?:classroom lesson)?\s*(.*)/.exec(be);Mn!==null&&(Ut="Lesson",It=Mn[1])}else rr[2]!==void 0&&(Ut=rr[2][0].toUpperCase()+rr[2].substring(1)),It=rr[3]}let pi=Hu(Ut,s);ge.push({summary:l,start:Xe,end:tr,dtstamp:se.now(),location:It,rrule:"FREQ=WEEKLY;UNTIL="+qo(Et),description:(Ut===null?"":`${Ut}
`)+pi+`
`+s.join(`
`)})}}return{data:ge,error:null}}}var fi=new RegExp(String.raw`^(?:\s*(\d{6}) - )?((?!${Ch})[^\s].+?)(?:\s*\(\s*(?:Docente|Professor|Lecturer|Teacher):(.*)\)|$)`,"gm");function hi(n,t=null,i=null){let s=[...n.matchAll(fi)];if(s.length===0)return{data:[],error:null};let l=Rh(n,s);if(l.length===0&&t!==null&&(l=t),i!==null&&s.length>1&&n.includes(i)){let D=[];for(let C of n.split(i)){let P=hi(C.trim(),l);if(D=[...D,...P.data],P.error!==null)return{data:D,error:P.error}}return{data:D,error:null}}let c=/\s*(?:L'orario non  stato definito|The schedule has not been defined)/,h=/\s*(?:Nessun orario definito|No timetable defined)/;if(c.test(n)||h.test(n))return{data:[],error:null};let m=s[s.length-1][2],y=/(1|2|A|Annual(?:e*))?\s*(?:Inizio lezioni|Start of lessons|Lectures start|Lessons start): (\d{2}\/\d{2}\/\d{4})\s*(?:Fine lezioni|End of lessons*|Lectures end|Lessons end): (\d{2}\/\d{2}\/\d{4})/g;return y.test(n)?Wh(n,y,fi,l,m):Uh(n,l,m)}var jh=Object.keys(Vo).join("|");function Ph(n,t,i,s,l,c){let h=i.match(/.{11}/g);return`${t}
${h.join(`
`)}`}function Vh(n){let t=n.split(`
`),i=[],s="",l=0;for(let c of t){let h=(c.match(/\(/g)||[]).length,m=(c.match(/\)/g)||[]).length;l>0?(l+=h-m,s+=` ${c}`,l===0&&(i.push(s),s="")):(l+=h-m,l===0?i.push(c):s=c)}return s!==""&&i.push(`${s}${")".repeat(l)}`),i.join(`
`)}function $u(n,t=`

`){return n.match(t)===null?n.replace(fi,`
$&`):n}function qh(n){let t=n.replace(/\n\)/g,")").replace(/\u00A0/g," ").replace(new RegExp(`(?<pre>\\S)(?<auicDate>(${Ho})+)`,"g"),Ph).replace(new RegExp(`(\\S)(${jh})`,"g"),`$1
$2`).replace(new RegExp(`(?<titlePart>${fi.source})(?<doubleNewline>\\n\\n)(?<semester>Semester|Semestre)`,"gm"),`$<titlePart>
$<semester>`).trim(),i=Vh(t);return $u(i).trim()}function di(n,t=!0){try{let i=qh(n),s=`


`;i.includes(`



`)&&(s=`



`);let l=i.split(s),c=[];for(let h of l){let m=hi(h.trim(),null,s.slice(0,-1));if(c=[...c,...m.data],m.error!==null)return{data:c,error:m.error}}return c.length===0&&i.length!==0?t?di($u(i,`


`),!1):{data:[],error:"No courses detected"}:{data:c,error:null}}catch(i){return console.error("The website is no longer compatible with polimi-schedule-js. Please report the error message and the calendar text you are trying to convert. ("+i.message+")"),{data:[],error:i.message}}}function Zu(n){let t=new it.Property({name:"VERSION",value:2}),i=new it.Property({name:"PRODID",value:"bebora@github"}),s=new it.Component({name:"VCALENDAR",properties:[t,i]});for(let c of n.data){let h=new it.Component({name:"VEVENT",properties:[new it.Property({name:"SUMMARY",value:c.summary}),new it.Property({name:"DTSTART",parameters:{TZID:"Europe/Rome"},value:Vu(c.start)}),new it.Property({name:"DTEND",parameters:{TZID:"Europe/Rome"},value:Vu(c.end)}),new it.Property({name:"DTSTAMP",value:qo(c.dtstamp)}),new it.Property({name:"UID",value:Po()})]});c.location!==void 0&&(h=h.pushProperty(new it.Property({name:"LOCATION",value:c.location}))),c.description!==void 0&&(h=h.pushProperty(new it.Property({name:"DESCRIPTION",value:c.description}))),c.rrule!==void 0&&(h=h.pushProperty(new it.Property({name:"RRULE",value:c.rrule}))),c.rdate!==void 0&&(h=h.pushProperty(new it.Property({name:"RDATE",value:c.rdate}))),s=s.pushComponent(h)}let l=s.toString();return{data:Ah(l),error:null}}var Ju=ga(Bu(),1);var Hh=["wwPttUUOIWAu_giTon7gdEXNXS0MWMrREnQw8CeZLpM","eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFobXBrdXNoa2tja29kbnFwYm56Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQwMTQ2OTQsImV4cCI6MTk3OTU5MDY5NH0","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"],Gu=Hh.reverse().join("."),$h="qhmpkushkkckodnqpbnz",Zh=`https://${$h}.supabase.co/rest/v1/error_logs`;function Yu(n,t,i){fetch(Zh,{method:"POST",headers:{apikey:Gu,Authorization:`Bearer ${Gu}`,"Content-Type":"application/json",Prefer:"return=minimal"},body:JSON.stringify({user_agent:n,lessons_timetable:t,exception:i})})}function Bh(n){n>0?document.getElementById("eventsCount").innerText=`${n}`:n===0?(document.getElementById("importProgress").style.display="none",document.getElementById("importOk").style.display="block",setTimeout(function(){document.getElementById("importOk").style.display="none"},5e3)):(document.getElementById("importProgress").style.display="none",document.getElementById("importFail").style.display="block",setTimeout(function(){document.getElementById("creationFail").style.display="none"},3e3))}document.getElementById("download").addEventListener("click",function(){let n=di(document.getElementById("input").value);if(n.error!==null)console.error("Unable to create iCalendar file! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),bn(n.error);else if(n.data.length>0){let t=Zu(n);if(t.error!==null)document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),bn(t.error);else{let i=new Blob([t.data],{type:"text/plain;charset=utf-8"});(0,Ju.saveAs)(i,"orarioPolimi.ics")}}else console.warn("No events detected")});document.getElementById("import_button").addEventListener("click",function(){let n=di(document.getElementById("input").value);n.error!==null?(document.getElementById("error").style.display="inline-block",setTimeout(function(){document.getElementById("error").style.display="none"},3e3),console.error("Unable to parse courses data! Text may be invalid or empty. If you think your text is correct, retry and/or contact the website maintainer."),bn(n.error)):n.data.length>0?ba(n.data,bn,Bh):(document.getElementById("zeroEvents").style.display="block",setTimeout(function(){document.getElementById("zeroEvents").style.display="none"},3e3))});document.getElementById("import-gcal").addEventListener("click",function(){Ku("google-pop")});document.querySelectorAll(".pop-window").forEach(n=>n.addEventListener("click",t=>{t.stopPropagation()}));function Dn(n){document.getElementById(n).style.display="none"}function Ku(n){document.getElementById(n).style.display="block"}function Xu(){let n=document.getElementById("newCalendar"),t=document.getElementById("inputElem");n.checked===!0?t.style.display="block":t.style.display="none"}var Bo=null,Gh=atob("cG9saW1p"),Yh=[..."troppus_sj_eludehcs"].reverse().join(""),Jh="https://github.com/bebora/polimi-schedule-js/issues/new";function Kh(n=null){Bo===null&&(Bo=`https://t.me/${Gh}_${Yh}`,document.getElementById("telegram-link").href=Bo);let t=document.getElementById("input").value,i=`<!-- Please add a title above and describe the problem on the next line -->



<details>
    <summary>Debug info</summary>

User agent: \`${navigator.userAgent}\`
Timetable input:
\`\`\`
${t}
\`\`\`
`;n!==null&&(i+=`Error info: \`${n}\`
`),i+="</details>",document.getElementById("github-link").href=`${Jh}?body=${encodeURIComponent(i)}`}function bn(n=null){let t;typeof n=="string"||n instanceof String?t=n:t=JSON.stringify(n,null,0),Kh(t),Ku("error-pop"),console.error("Error info:",t),window.localStorage.getItem("disable-reporting")===null&&Yu(navigator.userAgent,document.getElementById("input").value,t)}document.getElementById("manualErrorPopup").addEventListener("click",()=>{bn()});function Xh(){document.getElementById("google-pop").addEventListener("click",()=>{Dn("google-pop")}),document.getElementById("google-close-button").addEventListener("click",()=>{Dn("google-pop")}),document.getElementById("error-pop").addEventListener("click",()=>{Dn("error-pop")}),document.getElementById("error-close-button").addEventListener("click",()=>{Dn("error-pop")}),document.getElementById("itFlag").addEventListener("click",()=>{qn("it")}),document.getElementById("enFlag").addEventListener("click",()=>{qn("en")}),document.getElementById("newCalendar").addEventListener("click",Xu)}function Qh(){Xh(),qn((navigator.language||navigator.userLanguage).slice(0,2)),Xu()}Qh();return jc(ed);})();
//# sourceMappingURL=web-core-bundle.js.map
